!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_reactRedux=require("react-redux"),_tinyReactRouter=require("tiny-react-router"),_tinyReactRouter2=_interopRequireDefault(_tinyReactRouter),_fastclick=require("fastclick"),_fastclick2=_interopRequireDefault(_fastclick),_shakeJs=require("shake.js"),_shakeJs2=_interopRequireDefault(_shakeJs),_asbjornengeReactStyle=require("@asbjornenge/react-style"),_asbjornengeReactStyle2=_interopRequireDefault(_asbjornengeReactStyle),_screensTaskBox=require("./screens/TaskBox"),_screensTaskBox2=_interopRequireDefault(_screensTaskBox),_screensMailBox=require("./screens/MailBox"),_screensMailBox2=_interopRequireDefault(_screensMailBox),_screensTweetBox=require("./screens/TweetBox"),_screensTweetBox2=_interopRequireDefault(_screensTweetBox),_screensSettings=require("./screens/Settings"),_screensSettings2=_interopRequireDefault(_screensSettings),_screensTask=require("./screens/Task"),_screensTask2=_interopRequireDefault(_screensTask),_screensMail=require("./screens/Mail"),_screensMail2=_interopRequireDefault(_screensMail),_screensSharedComponentsHeader=require("./screens/shared/components/Header"),_screensSharedComponentsHeader2=_interopRequireDefault(_screensSharedComponentsHeader),_screensSharedComponentsFooter=require("./screens/shared/components/Footer"),_screensSharedComponentsFooter2=_interopRequireDefault(_screensSharedComponentsFooter),_redux=require("./redux"),_redux2=_interopRequireDefault(_redux),_loops=require("./loops"),_loops2=_interopRequireDefault(_loops),_appStyl=require("./app.styl"),_appStyl2=_interopRequireDefault(_appStyl),routes={"/":_screensTaskBox2.default,"/taskbox":_screensTaskBox2.default,"/taskbox/:id":_screensTask2.default,"/mailbox":_screensMailBox2.default,"/mailbox/:id":_screensMail2.default,"/tweetbox":_screensTweetBox2.default,"/settings":_screensSettings2.default},TaskBoxApp=function(_React$Component){function TaskBoxApp(){_classCallCheck(this,TaskBoxApp),_get(Object.getPrototypeOf(TaskBoxApp.prototype),"constructor",this).apply(this,arguments)}return _inherits(TaskBoxApp,_React$Component),_createClass(TaskBoxApp,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"TaskBoxApp"},_react2.default.createElement(_asbjornengeReactStyle2.default,{style:_appStyl2.default}),_react2.default.createElement(_screensSharedComponentsHeader2.default,{emitter:_redux.emitter}),_react2.default.createElement(_reactRedux.Provider,{store:_redux2.default},_react2.default.createElement(_tinyReactRouter2.default,{routes:routes})),_react2.default.createElement(_screensSharedComponentsFooter2.default,null))}}]),TaskBoxApp}(_react2.default.Component);_reactDom2.default.render(_react2.default.createElement(TaskBoxApp,null),document.querySelector("#app")),_loops2.default(_redux2.default),window.addEventListener("load",function(){_fastclick2.default(document.body)});var undoShake=new _shakeJs2.default({threshold:15,timeout:1e3});undoShake.start(),window.addEventListener("shake",function(){var a=confirm("Undo last action?");a&&_redux2.default.getState().dispatch_db({type:"DB_UNDO"})})},{"./app.styl":2,"./loops":3,"./redux":4,"./screens/Mail":5,"./screens/MailBox":8,"./screens/Settings":10,"./screens/Task":12,"./screens/TaskBox":18,"./screens/TweetBox":20,"./screens/shared/components/Footer":25,"./screens/shared/components/Header":27,"@asbjornenge/react-style":36,fastclick:45,react:369,"react-dom":166,"react-redux":207,"shake.js":379,"tiny-react-router":423}],2:[function(require,module){module.exports="body {\n  border: 0;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #000;\n  color: #aaa;\n  max-width: 800px;\n  margin: auto;\n  font-family: 'Ubuntu Mono', sans-serif;\n  font-weight: 400;\n  font-size: 18px;\n}\n#app {\n  height: 100%;\n}\n#app .TaskBoxApp {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n::-webkit-scrollbar {\n  width: 8px;\n}\n::-webkit-scrollbar-corner {\n  display: none;\n}\n::-webkit-scrollbar-resizer {\n  display: none;\n}\n"},{}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _nanoxhr=require("nanoxhr"),_nanoxhr2=_interopRequireDefault(_nanoxhr),_moment=require("moment"),_moment2=_interopRequireDefault(_moment),_basicAuthToken=require("basic-auth-token"),_basicAuthToken2=_interopRequireDefault(_basicAuthToken),emailSync=function(store){var state=store.getState();state.config&&state.config.nylasToken&&state.config.nylasUrl&&_nanoxhr2.default(state.config.nylasUrl+"/threads").query({in:"inbox",limit:100}).set("Authorization","Basic "+_basicAuthToken2.default(state.config.nylasToken,"")).call(function(res){if(200!=res.status)return console.error(res);var freshEmail=JSON.parse(res.response),freshEmailIds=freshEmail.map(function(email){return email.id}),currentEmailIds=state.email.map(function(email){return email.id}),newEmail=freshEmail.filter(function(email){return currentEmailIds.indexOf(email.id)<0}),email=state.email.filter(function(email){return freshEmailIds.indexOf(email.id)>=0}).concat(newEmail);store.dispatch({type:"SET_EMAIL",email:email})})},laterSync=function(store){var state=store.getState(),tasks=state.tasks;tasks.filter(function(task){return void 0!=task.postpone}).forEach(function(task){_moment2.default(task.postpone).isAfter(_moment2.default())||(delete task.postpone,delete task.group,state.dispatch_db({type:"DB_UPDATE_TASK",task:task,value:{}}))})},init=function(store){emailSync(store),setInterval(emailSync.bind(void 0,store),1e4),laterSync(store),setInterval(laterSync.bind(void 0,store),1e4)};exports.default=init,module.exports=exports.default},{"basic-auth-token":38,moment:46,nanoxhr:48}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _uid=require("uid"),_uid2=_interopRequireDefault(_uid),_nanoemitter=require("nanoemitter"),_nanoemitter2=_interopRequireDefault(_nanoemitter),_objectAssign=require("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_pouchdb=require("pouchdb"),_pouchdb2=_interopRequireDefault(_pouchdb),_pouchdbUndo=require("pouchdb-undo"),_pouchdbUndo2=_interopRequireDefault(_pouchdbUndo),_redux=require("redux");_pouchdb2.default.plugin(_pouchdbUndo2.default);var db=new _pouchdb2.default("taskbox");db.enableUndo({limit:10});var emitter=_nanoemitter2.default(),db_undo_ids=[],db_handlers=function(action){switch(action.type){case"DB_ADD_TASK":var task=action.task;return task.id=_uid2.default(10),task._id=task.id,db.put(action.task);case"DB_REMOVE_TASK":return db.remove(action.task).then(function(res){db_undo_ids.push(res.undoId)});case"DB_UPDATE_TASK":var updatedTask=_objectAssign2.default(action.task,action.value);return db.put(updatedTask).then(function(res){db_undo_ids.push(res.undoId)});case"DB_UNDO":var lastUndoId=db_undo_ids.pop();if(!lastUndoId)return;db.undo(lastUndoId)}},initialState={config:JSON.parse(localStorage.getItem("taskbox-config")),tasks:[],tweets:[],email:[],selectedEmailIndex:-1,selectedTaskIndex:-1,groupFilter:void 0,dispatch_db:db_handlers,emitter:emitter},reducers=function(state,action){switch(void 0===state&&(state=initialState),action.type){case"SET_CONFIG":return localStorage.setItem("taskbox-config",JSON.stringify(action.config)),_objectAssign2.default({},state,{config:action.config});case"SET_EMAIL":return _objectAssign2.default({},state,{email:action.email});case"REMOVE_EMAIL":return _objectAssign2.default({},state,{email:state.email.filter(function(email){return email.id!=action.email.id})});case"SET_TASKS":return _objectAssign2.default({},state,{tasks:action.tasks});case"ADD_TASK":return _objectAssign2.default({},state,{tasks:[action.task].concat(state.tasks)});case"REMOVE_TASK":return _objectAssign2.default({},state,{tasks:state.tasks.filter(function(task){return task.id!=action.task.id})});case"UPDATE_TASK":return _objectAssign2.default({},state,{tasks:state.tasks.map(function(task){return task.id!=action.task.id?task:action.task})});case"SET_SELECTED_EMAIL_INDEX":return _objectAssign2.default({},state,{selectedEmailIndex:action.index});case"SET_SELECTED_TASK_INDEX":return _objectAssign2.default({},state,{selectedTaskIndex:action.index});case"SET_GROUP_FILTER":return _objectAssign2.default({},state,{groupFilter:action.filter});default:return state}},store=_redux.createStore(reducers);db.allDocs({include_docs:!0}).then(function(result){var tasks=result.rows.map(function(r){return r.doc});store.dispatch({type:"SET_TASKS",tasks:tasks}),bindChanges()}).catch(function(err){console.log(err)});var bindChanges=function(){var state=store.getState();if(db.changes({since:"now",live:!0,include_docs:!0}).on("change",function(change){if(change.deleted){var task={id:change.doc._id};return store.dispatch({type:"REMOVE_TASK",task:task})}var taskIds=state.tasks.map(function(task){return task.id});return taskIds.indexOf(change.id)>=0?store.dispatch({type:"UPDATE_TASK",task:change.doc}):void store.dispatch({type:"ADD_TASK",task:change.doc})}).on("complete",function(info){console.log("complete",info)}).on("error",function(err){console.log(err)}),state.config&&state.config.replicationUrl){var opts={continuous:!0};db.replicate.to(state.config.replicationUrl,opts),db.replicate.from(state.config.replicationUrl,opts)}};exports.default=store,exports.emitter=emitter},{nanoemitter:47,"object.assign":51,pouchdb:134,"pouchdb-undo":59,redux:371,uid:432}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactRedux=require("react-redux"),_nanoxhr=require("nanoxhr"),_nanoxhr2=_interopRequireDefault(_nanoxhr),_basicAuthToken=require("basic-auth-token"),_basicAuthToken2=_interopRequireDefault(_basicAuthToken),_mailStyl=require("./mail.styl"),_mailStyl2=_interopRequireDefault(_mailStyl),Message=function(_React$Component){function Message(){_classCallCheck(this,Message),_get(Object.getPrototypeOf(Message.prototype),"constructor",this).apply(this,arguments)}return _inherits(Message,_React$Component),_createClass(Message,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"Message"},_react2.default.createElement("div",{className:"body",i:!0,dangerouslySetInnerHTML:{__html:this.props.message.body}}))}}]),Message}(_react2.default.Component),Mail=function(_React$Component2){function Mail(){_classCallCheck(this,Mail),_get(Object.getPrototypeOf(Mail.prototype),"constructor",this).apply(this,arguments)}return _inherits(Mail,_React$Component2),_createClass(Mail,[{key:"render",value:function(){var email=this.pickEmail();if(!email)return _react2.default.createElement("div",null,"Email not found");var participants=email.participants.map(function(par,index){return _react2.default.createElement("span",{key:par.email+index},par.email)}),messages=void 0;return email.fullThread?messages=email.fullThread.map(function(msg){return _react2.default.createElement(Message,{key:msg.id,message:msg})}):this.getFullThread(email),_react2.default.createElement("div",{className:"Mail"},_react2.default.createElement("style",null,_mailStyl2.default),_react2.default.createElement("h1",null,email.subject),_react2.default.createElement("p",null,participants),_react2.default.createElement("div",{className:"messages"},messages))}},{key:"pickEmail",value:function(){var _this=this;return this.props.email.reduce(function(found,email){return found?found:email.id==_this.props.id?email:found},null)}},{key:"getFullThread",value:function(email){var _this2=this;this.querying||(this.querying=!0,_nanoxhr2.default(this.props.config.nylasUrl+"/messages").query({thread_id:email.id}).set("Authorization","Basic "+_basicAuthToken2.default(this.props.config.nylasToken,"")).call(function(res){if(200==res.status){var fullThread=JSON.parse(res.response);email.fullThread=fullThread,_this2.forceUpdate()}}))}}]),Mail}(_react2.default.Component);exports.default=_reactRedux.connect(function(state){return{email:state.email,config:state.config}})(Mail),module.exports=exports.default},{"./mail.styl":6,"basic-auth-token":38,nanoxhr:48,react:369,"react-redux":207}],6:[function(require,module){module.exports=".Mail {\n  flex: auto;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.Mail h1 {\n  color: #fff;\n}\n.Mail .Message {\n  border-top: 1px solid #ccc;\n  padding: 10px;\n}\n"},{}],7:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_moment=require("moment"),_moment2=_interopRequireDefault(_moment),MailBoxItem=function(_React$Component){function MailBoxItem(props){_classCallCheck(this,MailBoxItem),_get(Object.getPrototypeOf(MailBoxItem.prototype),"constructor",this).call(this,props),this.state={x:0}}return _inherits(MailBoxItem,_React$Component),_createClass(MailBoxItem,[{key:"render",value:function(){var classes="MailBoxItem";this.props.selected&&(classes+=" selected");var participants=this.props.email.participants.filter(function(participant,index){return 2>index}).map(function(participant,index){return _react2.default.createElement("span",{key:participant.email+index},participant.email)});this.props.email.participants.length>2&&participants.push(_react2.default.createElement("span",{key:"more"},"("+(this.props.email.participants.length-2)+" more)"));var date=_moment2.default(1e3*this.props.email.last_message_timestamp).format("MMM Do"),x=0==this.state.x?"none":"translateX("+this.state.x+"px)",style={transform:x};return _react2.default.createElement("div",{className:classes,onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onTouchMove:this.onTouchMove.bind(this),onClick:this.props.onClick},_react2.default.createElement("div",{style:style},_react2.default.createElement("div",{className:"firstrow"},_react2.default.createElement("div",{className:"subject"},this.props.email.subject),_react2.default.createElement("div",{className:"date"},date)),_react2.default.createElement("div",{className:"participants"},participants),_react2.default.createElement("div",{className:"summary"},this.props.email.snippet.slice(0,120))))}},{key:"onTouchMove",value:function(e){if(!this.props.scrolling){var touch=e.targetTouches[0],offset=touch.clientX-this.startX;Math.abs(offset)<15||this.setState({x:offset})}}},{key:"onTouchStart",value:function(e){if(!this.props.scrolling){var touch=e.targetTouches[0];this.startX=touch.clientX}}},{key:"onTouchEnd",value:function(){this.state.x<-130&&this.props.handleSwipeLeft(this.props.email,this.props.index),this.state.x>130&&this.props.handleSwipeRight(this.props.email),this.startX=0,this.setState({x:0})}}]),MailBoxItem}(_react2.default.Component);exports.default=MailBoxItem,module.exports=exports.default},{moment:46,react:369}],8:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function handleKey(e){var selectedIndex=void 0,showSelectedEmailIndex=void 0;switch(e.which){case 40:this.state.showSelectedEmailIndex&&(selectedIndex=this.props.selectedEmailIndex<this.props.email.length-1?this.props.selectedEmailIndex+1:this.props.email.length-1),showSelectedEmailIndex=!0;break;case 38:this.state.showSelectedEmailIndex&&(selectedIndex=this.props.selectedEmailIndex>-1?this.props.selectedEmailIndex-1:-1),showSelectedEmailIndex=!0;break;case 27:showSelectedEmailIndex=!1;break;case 13:this.state.showSelectedEmailIndex&&this.props.selectedEmailIndex>=0&&_sharedUtilsNav2.default.navigate("/mailbox/"+this.props.email[this.props.selectedEmailIndex].id);break;case 39:this.state.showSelectedEmailIndex&&this.props.selectedEmailIndex>=0&&this.archiveEmail(this.props.email[this.props.selectedEmailIndex]);break;case 37:this.state.showSelectedEmailIndex&&this.props.selectedEmailIndex>=0&&this.taskifyEmail(this.props.email[this.props.selectedEmailIndex])}void 0!=selectedIndex&&this.props.dispatch({type:"SET_SELECTED_EMAIL_INDEX",index:selectedIndex});var state={};void 0!=showSelectedEmailIndex&&(state.showSelectedEmailIndex=showSelectedEmailIndex),this.setState(state)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactRedux=require("react-redux"),_nanoxhr=require("nanoxhr"),_nanoxhr2=_interopRequireDefault(_nanoxhr),_basicAuthToken=require("basic-auth-token"),_basicAuthToken2=_interopRequireDefault(_basicAuthToken),_sharedUtilsNav=require("../shared/utils/nav"),_sharedUtilsNav2=_interopRequireDefault(_sharedUtilsNav),_componentsMailBoxItem=require("./components/MailBoxItem"),_componentsMailBoxItem2=_interopRequireDefault(_componentsMailBoxItem),_mailboxStyl=require("./mailbox.styl"),_mailboxStyl2=_interopRequireDefault(_mailboxStyl),_sharedStylesNoUserSelectStyl=require("../shared/styles/no-user-select.styl"),_sharedStylesNoUserSelectStyl2=_interopRequireDefault(_sharedStylesNoUserSelectStyl),MailBox=function(_React$Component){function MailBox(props){_classCallCheck(this,MailBox),_get(Object.getPrototypeOf(MailBox.prototype),"constructor",this).call(this,props),this.state={scrolling:!1,showSelectedEmailIndex:!1}}return _inherits(MailBox,_React$Component),_createClass(MailBox,[{key:"render",value:function(){var _this=this,email=this.props.email.map(function(email,index){return _react2.default.createElement(_componentsMailBoxItem2.default,{key:email.id,email:email,index:index,scrolling:_this.state.scrolling,onClick:_sharedUtilsNav2.default.navigate.bind(void 0,"/mailbox/"+email.id),handleSwipeLeft:_this.taskifyEmail.bind(_this),handleSwipeRight:_this.archiveEmail.bind(_this),selected:_this.state.showSelectedEmailIndex&&index==_this.props.selectedEmailIndex})});return _react2.default.createElement("div",{className:"MailBox",ref:"MailBox"},_react2.default.createElement("style",null,_mailboxStyl2.default),_react2.default.createElement("style",null,_sharedStylesNoUserSelectStyl2.default),email)}},{key:"archiveEmail",value:function(email){var _this2=this,new_labels=email.labels.filter(function(label){return"inbox"!=label.display_name.toLowerCase()}).map(function(label){return label.id});_nanoxhr2.default(this.props.config.nylasUrl+"/threads/"+email.id).method("PUT").set("Authorization","Basic "+_basicAuthToken2.default(this.props.config.nylasToken,"")).data(JSON.stringify({label_ids:new_labels})).call(function(res){200==res.status&&_this2.props.dispatch({type:"REMOVE_EMAIL",email:email})})}},{key:"taskifyEmail",value:function(email){var task={type:"email",name:email.subject,summary:email.snippet,email:email,date:(new Date).getTime()};this.props.dispatch_db({type:"DB_ADD_TASK",task:task}),this.archiveEmail(email)}},{key:"onScroll",value:function(){var _this3=this;this.state.scrolling||this.setState({scrolling:!0}),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){_this3.setState({scrolling:!1})},200)}},{key:"componentDidMount",value:function(){this.keyDownHandler=handleKey.bind(this),this.onScrollHandler=this.onScroll.bind(this),this.refs.MailBox.addEventListener("scroll",this.onScrollHandler),window.addEventListener("keydown",this.keyDownHandler)}},{key:"componentWillUnmount",value:function(){this.refs.MailBox.removeEventListener("scroll",this.onScrollHandler),window.removeEventListener("keydown",this.keyDownHandler)}}]),MailBox}(_react2.default.Component);exports.default=_reactRedux.connect(function(state){return{email:state.email,config:state.config,dispatch_db:state.dispatch_db,selectedEmailIndex:state.selectedEmailIndex}})(MailBox),module.exports=exports.default},{"../shared/styles/no-user-select.styl":33,"../shared/utils/nav":34,"./components/MailBoxItem":7,"./mailbox.styl":9,"basic-auth-token":38,nanoxhr:48,react:369,"react-redux":207}],9:[function(require,module){module.exports=".MailBox {\n  flex: auto;\n  overflow: auto;\n}\n.MailBox .MailBoxItem {\n  display: block;\n  padding: 10px;\n  border: 1px solid transparent;\n  border-bottom: 1px solid #ccc;\n  height: 86px;\n  overflow: hidden;\n}\n.MailBox .MailBoxItem.selected {\n  border: 1px solid #f00;\n}\n.MailBox .MailBoxItem .firstrow {\n  display: flex;\n  height: 30px;\n  line-height: 30px;\n}\n.MailBox .MailBoxItem .firstrow .date {\n  width: 80px;\n  text-align: right;\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n.MailBox .MailBoxItem .firstrow .subject {\n  flex: auto;\n  color: #fff;\n  font-weight: bold;\n  overflow: hidden;\n}\n.MailBox .MailBoxItem .participants {\n  height: 20px;\n  line-height: 20px;\n  font-size: 0.8em;\n  margin-bottom: 2px;\n  overflow: hidden;\n}\n.MailBox .MailBoxItem .participants span {\n  margin-right: 10px;\n}\n.MailBox .MailBoxItem .summary {\n  opacity: 0.5;\n}\n"},{}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_tcombForm=require("tcomb-form"),_tcombForm2=_interopRequireDefault(_tcombForm),_reactRedux=require("react-redux"),_objectAssign=require("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_settingsStyl=require("./settings.styl"),_settingsStyl2=_interopRequireDefault(_settingsStyl),Form=_tcombForm2.default.form.Form,ReplicationForm=_tcombForm2.default.struct({replicationUrl:_tcombForm2.default.Str}),NylasForm=_tcombForm2.default.struct({nylasUrl:_tcombForm2.default.Str,nylasToken:_tcombForm2.default.Str}),Settings=function(_React$Component){function Settings(){_classCallCheck(this,Settings),_get(Object.getPrototypeOf(Settings.prototype),"constructor",this).apply(this,arguments)}return _inherits(Settings,_React$Component),_createClass(Settings,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"Settings"},_react2.default.createElement("style",null,_settingsStyl2.default),_react2.default.createElement("div",{className:"ContentView"},_react2.default.createElement(Form,{ref:"replicationform",type:ReplicationForm,value:this.props.config}),_react2.default.createElement(Form,{ref:"nylasform",type:NylasForm,value:this.props.config}),_react2.default.createElement("button",{onClick:this.onSave.bind(this)},"Save")))}},{key:"onSave",value:function(){var fbvalue=this.refs.replicationform.getValue(),nylasvalue=this.refs.nylasform.getValue(),value=_objectAssign2.default({},fbvalue,nylasvalue);this.props.dispatch({type:"SET_CONFIG",config:value})}}]),Settings}(_react2.default.Component);exports.default=_reactRedux.connect(function(state){return{config:state.config}})(Settings),module.exports=exports.default},{"./settings.styl":11,"object.assign":51,react:369,"react-redux":207,"tcomb-form":383}],11:[function(require,module){module.exports=".Settings {\n  flex: auto;\n}\n.Settings label {\n  display: block;\n}\n"},{}],12:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);

subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactRedux=require("react-redux"),_tcombForm=require("tcomb-form"),_tcombForm2=_interopRequireDefault(_tcombForm),_objectAssign=require("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_reactMarkdown=require("react-markdown"),_reactMarkdown2=_interopRequireDefault(_reactMarkdown),_sharedUtilsNav=require("../shared/utils/nav"),_sharedUtilsNav2=_interopRequireDefault(_sharedUtilsNav),_taskStyl=require("./task.styl"),_taskStyl2=_interopRequireDefault(_taskStyl),TaskNotFound=function(_React$Component){function TaskNotFound(){_classCallCheck(this,TaskNotFound),_get(Object.getPrototypeOf(TaskNotFound.prototype),"constructor",this).apply(this,arguments)}return _inherits(TaskNotFound,_React$Component),_createClass(TaskNotFound,[{key:"render",value:function(){return _react2.default.createElement("div",null,"No such task")}}]),TaskNotFound}(_react2.default.Component),Form=_tcombForm2.default.form.Form,TaskForm=_tcombForm2.default.struct({name:_tcombForm2.default.Str,summary:_tcombForm2.default.maybe(_tcombForm2.default.Str)}),options={fields:{summary:{type:"textarea"}}},TaskEdit=function(_React$Component2){function TaskEdit(){_classCallCheck(this,TaskEdit),_get(Object.getPrototypeOf(TaskEdit.prototype),"constructor",this).apply(this,arguments)}return _inherits(TaskEdit,_React$Component2),_createClass(TaskEdit,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"TaskEditForm"},_react2.default.createElement(Form,{ref:"form",type:TaskForm,options:options,value:this.props.task}))}}]),TaskEdit}(_react2.default.Component),TaskView=function(_React$Component3){function TaskView(){_classCallCheck(this,TaskView),_get(Object.getPrototypeOf(TaskView.prototype),"constructor",this).apply(this,arguments)}return _inherits(TaskView,_React$Component3),_createClass(TaskView,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"TaskView contentselectable"},_react2.default.createElement("h1",null,this.props.task.name),_react2.default.createElement(_reactMarkdown2.default,{source:this.props.task.summary||""}))}}]),TaskView}(_react2.default.Component),Task=function(_React$Component4){function Task(props){_classCallCheck(this,Task),_get(Object.getPrototypeOf(Task.prototype),"constructor",this).call(this,props),this.state={editing:!1}}return _inherits(Task,_React$Component4),_createClass(Task,[{key:"render",value:function(){var task=this.pickTask();if(!task)return _react2.default.createElement(TaskNotFound,null);var view=this.state.editing?_react2.default.createElement(TaskEdit,{ref:"form",task:task}):_react2.default.createElement(TaskView,{task:task}),buttons=_react2.default.createElement("div",{className:"buttons"},_react2.default.createElement("button",{onClick:this.removeTask.bind(this)},"Remove"),_react2.default.createElement("button",{onClick:this.toggleEditTask.bind(this)},"Edit"));return this.state.editing&&(buttons=_react2.default.createElement("div",{className:"buttons"},_react2.default.createElement("button",{onClick:this.saveTask.bind(this)},"Save"),_react2.default.createElement("button",{onClick:this.toggleEditTask.bind(this)},"Cancel"))),_react2.default.createElement("div",{className:"Task"},_react2.default.createElement("style",null,_taskStyl2.default),view,buttons)}},{key:"toggleEditTask",value:function(){this.setState({editing:!this.state.editing})}},{key:"saveTask",value:function(){var value=this.refs.form.refs.form.getValue();value&&this.props.dispatch_db({type:"DB_UPDATE_TASK",task:this.pickTask(),value:_objectAssign2.default({},value)})}},{key:"removeTask",value:function(){this.props.dispatch_db({type:"DB_REMOVE_TASK",task:this.pickTask()}),_sharedUtilsNav2.default.navigate("/")}},{key:"pickTask",value:function(){var _this=this;return this.props.tasks.reduce(function(found,task){return found?found:task.id==_this.props.id?task:found},null)}}]),Task}(_react2.default.Component);exports.default=_reactRedux.connect(function(state){return{tasks:state.tasks,dispatch_db:state.dispatch_db}})(Task),module.exports=exports.default},{"../shared/utils/nav":34,"./task.styl":13,"object.assign":51,react:369,"react-markdown":188,"react-redux":207,"tcomb-form":383}],13:[function(require,module){module.exports=".Task {\n  flex: auto;\n}\n.Task h1 {\n  color: #fff;\n}\n.Task .summary {\n  margin-top: 10px;\n}\n.Task .buttons {\n  margin-top: 20px;\n}\n.Task .TaskEditForm label {\n  display: block;\n}\n.Task .TaskEditForm textarea {\n  width: 400px;\n  height: 400px;\n}\n"},{}],14:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_moment=require("moment"),_sharedUtilsTask=(_interopRequireDefault(_moment),require("../../shared/utils/task")),_sharedUtilsTask2=_interopRequireDefault(_sharedUtilsTask),Grouper=function(_React$Component){function Grouper(props){_classCallCheck(this,Grouper),_get(Object.getPrototypeOf(Grouper.prototype),"constructor",this).call(this,props),this.onKeyDown=this.keyDown.bind(this),this.state={selectedIndex:0}}return _inherits(Grouper,_React$Component),_createClass(Grouper,[{key:"render",value:function(){var _this=this,cgroups=_sharedUtilsTask2.default.getUserDefinedGroups(this.props.tasks).map(function(group,index){return _react2.default.createElement("div",{key:group+index,className:"group",onClick:_this.group.bind(_this,group)},group)});return _react2.default.createElement("div",{className:"Grouper"},_react2.default.createElement("div",{className:"shader"}),_react2.default.createElement("div",{className:"GrouperInner",ref:"grouperInner",onClick:this.closeGrouper.bind(this)},_react2.default.createElement("div",{className:"centerbox"},_react2.default.createElement("div",{className:"info"},"Group ",this.props.task.name),_react2.default.createElement("div",{className:"add"},_react2.default.createElement("input",{ref:"newgroup",type:"text",placeholder:"Add to a new group"}),_react2.default.createElement("button",{onClick:this.groupFromInput.bind(this)},"Add")),_react2.default.createElement("div",{className:"selectorbox"},cgroups))))}},{key:"keyDown",value:function(e){switch([37,38,39,40,13].indexOf(e.which)>=0&&e.stopPropagation(),e.which){case 38:if(this.state.selectedIndex<0)return;this.setState({selectedIndex:this.state.selectedIndex-1});break;case 40:if(this.state.selectedIndex>10)return;this.setState({selectedIndex:this.state.selectedIndex+1});break;case 13:this.group()}}},{key:"closeGrouper",value:function(e){return e.target==this.refs.grouperInner?this.props.stateSetter({showGrouper:!1}):void 0}},{key:"groupFromInput",value:function(){this.group(this.refs.newgroup.value)}},{key:"group",value:function(name){var _this2=this;name&&this.props.dispatch_db({type:"DB_UPDATE_TASK",task:this.props.task,value:{group:name}}).then(function(){_this2.props.stateSetter({showGrouper:!1})})}},{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.onKeyDown)}}]),Grouper}(_react2.default.Component);exports.default=Grouper,module.exports=exports.default},{"../../shared/utils/task":35,moment:46,react:369}],15:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_moment=require("moment"),_moment2=_interopRequireDefault(_moment),options={daytime:[{label:"Later Today",id:"later_today",handler:function(task,props){var latertoday=parseInt(_moment2.default().add(2,"hours").format("x"));props.postponeTask(task,latertoday)}},{label:"This Evening",id:"this_evening",handler:function(task,props){var evening=parseInt(_moment2.default().endOf("day").subtract(4,"hours").format("x"));_moment2.default(evening).isBefore(_moment2.default())&&(evening=parseInt(_moment2.default().add(1,"hours").format("x"))),props.postponeTask(task,evening)}},{label:"Tomorrow",id:"tomorrow",handler:function(task,props){var tomorrow=parseInt(_moment2.default().add(1,"day").startOf("day").add(7,"hours").format("x"));props.postponeTask(task,tomorrow)}},{label:"This Weekend",id:"this_weekend",handler:function(task,props){var weekend=parseInt(_moment2.default().endOf("week").startOf("day").add(9,"hours").format("x"));props.postponeTask(task,weekend)}},{label:"Next Week",id:"next_week",handler:function(task,props){var nextweek=parseInt(_moment2.default().endOf("week").add(2,"days").startOf("day").add(7,"hours").format("x"));props.postponeTask(task,nextweek)}},{label:"In a month",id:"in_a_month",handler:function(task,props){var month=parseInt(_moment2.default().add(1,"month").startOf("day").add(9,"hours").format("x"));props.postponeTask(task,month)}},{label:"Someday",id:"someday",handler:function(task,props){var days=Math.floor(60*Math.random())+10,someday=parseInt(_moment2.default().add(days,"days").startOf("day").add(9,"hours").format("x"));props.postponeTask(task,someday)}},{label:"Pick date",id:"date"},{label:"Group",id:"group",handler:function(task,props){props.stateSetter({showPostponer:!1,showGrouper:!0})}}]},Postponer=function(_React$Component){function Postponer(props){_classCallCheck(this,Postponer),_get(Object.getPrototypeOf(Postponer.prototype),"constructor",this).call(this,props),this.onKeyDown=this.keyDown.bind(this),this.state={selectedIndex:0}}return _inherits(Postponer,_React$Component),_createClass(Postponer,[{key:"render",value:function(){{var _this=this,selections=options.daytime.map(function(opt,index){var classes="selection";return _this.state.selectedIndex==index&&(classes+=" selected"),_react2.default.createElement("div",{onClick:_this.setIndexAndPostpone.bind(_this,index),className:classes,key:opt.id},opt.label)});this.props.task?this.props.task.name:""}return _react2.default.createElement("div",{className:"Postponer"},_react2.default.createElement("div",{className:"shader"}),_react2.default.createElement("div",{className:"PostponerInner",ref:"postponerInner",onClick:this.closePostponer.bind(this)},_react2.default.createElement("div",{className:"centerbox"},_react2.default.createElement("div",{className:"info"},"Postpone ",this.props.task.name),_react2.default.createElement("div",{className:"selectorbox"},selections))))}},{key:"keyDown",value:function(e){switch([37,38,39,40,13].indexOf(e.which)>=0&&e.stopPropagation(),e.which){case 38:if(this.state.selectedIndex<3)return;this.setState({selectedIndex:this.state.selectedIndex-3});break;case 40:if(this.state.selectedIndex>5)return;this.setState({selectedIndex:this.state.selectedIndex+3});break;case 37:if(this.state.selectedIndex<=0)return;this.setState({selectedIndex:this.state.selectedIndex-1});break;case 39:if(this.state.selectedIndex>=8)return;this.setState({selectedIndex:this.state.selectedIndex+1});break;case 13:this.postpone()}}},{key:"closePostponer",value:function(e){return e.target==this.refs.postponerInner?this.props.stateSetter({showPostponer:!1}):void 0}},{key:"setIndexAndPostpone",value:function(index){var _this2=this;this.setState({selectedIndex:index},function(){_this2.postpone()})}},{key:"postpone",value:function(){var postponeAction=options.daytime[this.state.selectedIndex];postponeAction.handler(this.props.task,this.props)}},{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.onKeyDown)}}]),Postponer}(_react2.default.Component);exports.default=Postponer,module.exports=exports.default},{moment:46,react:369}],16:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_sharedComponentsFlyoutSidebar=require("../../shared/components/FlyoutSidebar"),_sharedComponentsFlyoutSidebar2=_interopRequireDefault(_sharedComponentsFlyoutSidebar),_sharedUtilsNav=require("../../shared/utils/nav"),_sharedUtilsNav2=_interopRequireDefault(_sharedUtilsNav),_sharedUtilsTask=require("../../shared/utils/task"),_sharedUtilsTask2=_interopRequireDefault(_sharedUtilsTask),Sidebar=function(_React$Component){function Sidebar(){_classCallCheck(this,Sidebar),_get(Object.getPrototypeOf(Sidebar.prototype),"constructor",this).apply(this,arguments)}return _inherits(Sidebar,_React$Component),_createClass(Sidebar,[{key:"render",value:function(){var _this=this,groups=_sharedUtilsTask2.default.getUserDefinedGroups(this.props.tasks).map(function(group,index){return _react2.default.createElement("li",{key:group+index,className:"groupItem",onClick:_this.setGroupFilter.bind(_this,group)},group)});return _react2.default.createElement(_sharedComponentsFlyoutSidebar2.default,{show:this.props.show,animate:!0},_react2.default.createElement("div",{className:"TaskBoxSidebar"},_react2.default.createElement("ul",{className:"groups"},_react2.default.createElement("li",{className:"header"},"Groups"),groups,_react2.default.createElement("li",{className:"separator"},"Status"),_react2.default.createElement("li",{className:"later",onClick:this.setGroupFilter.bind(this,"later")},"Later"),_react2.default.createElement("li",{className:"later",onClick:this.setGroupFilter.bind(this,"done")},"Done")),_react2.default.createElement("div",{className:"settingsLink",onClick:_sharedUtilsNav2.default.navigate.bind(void 0,"/settings")},"Settings")))}},{key:"setGroupFilter",value:function(group){this.props.setGroupFilter(group)}}]),Sidebar}(_react2.default.Component);exports.default=Sidebar,module.exports=exports.default},{"../../shared/components/FlyoutSidebar":22,"../../shared/utils/nav":34,"../../shared/utils/task":35,react:369}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_moment=require("moment"),_moment2=_interopRequireDefault(_moment),_sharedUtilsNav=require("../../shared/utils/nav"),_sharedUtilsNav2=_interopRequireDefault(_sharedUtilsNav),TaskBoxItem=function(_React$Component){function TaskBoxItem(props){_classCallCheck(this,TaskBoxItem),_get(Object.getPrototypeOf(TaskBoxItem.prototype),"constructor",this).call(this,props),this.state={x:0}}return _inherits(TaskBoxItem,_React$Component),_createClass(TaskBoxItem,[{key:"render",value:function(){var classes="TaskBoxItem";this.props.selected&&(classes+=" selected");var date=_moment2.default(this.props.task.date).format("MMM Do"),x=0==this.state.x?"none":"translateX("+this.state.x+"px)",style={transform:x};return _react2.default.createElement("div",{className:classes,ref:"node",onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),onTouchMove:this.onTouchMove.bind(this),onClick:_sharedUtilsNav2.default.navigate.bind(void 0,"/taskbox/"+this.props.task.id)},_react2.default.createElement("div",{style:style},_react2.default.createElement("div",{className:"date"},date),_react2.default.createElement("div",{className:"name"},this.props.task.name),_react2.default.createElement("div",{className:"summary"},this.props.task.summary)))}},{key:"onTouchMove",value:function(e){if(!this.props.scrolling){var touch=e.targetTouches[0],offset=touch.clientX-this.startX;Math.abs(offset)<15||this.setState({x:offset})}}},{key:"onTouchStart",value:function(e){if(!this.props.scrolling){var touch=e.targetTouches[0];this.startX=touch.clientX}}},{key:"onTouchEnd",value:function(){this.state.x<-130&&this.props.handleSwipeLeft(this.props.task,this.props.index),this.state.x>130&&this.props.handleSwipeRight(this.props.task),this.startX=0,this.setState({x:0})}}]),TaskBoxItem}(_react2.default.Component);exports.default=TaskBoxItem,module.exports=exports.default},{"../../shared/utils/nav":34,moment:46,react:369}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function keyDown(e){var _this6=this,selectedIndex=void 0,showSelectedTaskIndex=void 0;switch(e.which){case 40:this.state.showSelectedTaskIndex&&(selectedIndex=this.props.selectedTaskIndex<this.getVisibleTasks().length-1?this.props.selectedTaskIndex+1:this.getVisibleTasks().length-1),showSelectedTaskIndex=!0;break;case 38:this.state.showSelectedTaskIndex&&(selectedIndex=this.props.selectedTaskIndex>-1?this.props.selectedTaskIndex-1:-1),showSelectedTaskIndex=!0;break;case 37:this.state.showSelectedTaskIndex&&this.setState({showPostponer:!0}),showSelectedTaskIndex=!0;break;case 39:this.state.showSelectedTaskIndex&&this.completeTask(this.getSelectedTask()),showSelectedTaskIndex=!0;break;case 27:if(this.state.showPostponer||this.state.showGrouper)return this.setState({showPostponer:!1,showGrouper:!1});showSelectedTaskIndex=!1;break;case 13:if(this.state.showSelectedTaskIndex)this.state.showSelectedTaskIndex&&this.props.selectedTaskIndex>=0&&_sharedUtilsNav2.default.navigate("/taskbox/"+this.getSelectedTask().id);else{var value=this.refs.omnibar.value;if(!value)return;this.addTask(value),this.refs.omnibar.value="",this.setState({searchFilter:""})}break;case 187:this.refs.omnibar!=document.activeElement&&setTimeout(function(){_this6.refs.omnibar.focus()},100);break;case 90:if(!e.ctrlKey)return;this.props.dispatch_db({type:"DB_UNDO"})}void 0!=selectedIndex&&this.props.dispatch({type:"SET_SELECTED_TASK_INDEX",index:selectedIndex});var state={};void 0!=showSelectedTaskIndex&&(state.showSelectedTaskIndex=showSelectedTaskIndex),Object.keys(state).length>0&&this.setState(state)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactRedux=(_interopRequireDefault(_reactDom),require("react-redux")),_objectAssign=require("object.assign"),_sharedUtilsNav=(_interopRequireDefault(_objectAssign),require("../shared/utils/nav")),_sharedUtilsNav2=_interopRequireDefault(_sharedUtilsNav),_componentsSidebar=require("./components/Sidebar"),_componentsSidebar2=_interopRequireDefault(_componentsSidebar),_componentsTaskBoxItem=require("./components/TaskBoxItem"),_componentsTaskBoxItem2=_interopRequireDefault(_componentsTaskBoxItem),_componentsPostponer=require("./components/Postponer"),_componentsPostponer2=_interopRequireDefault(_componentsPostponer),_componentsGrouper=require("./components/Grouper"),_componentsGrouper2=_interopRequireDefault(_componentsGrouper),_taskboxStyl=require("./taskbox.styl"),_taskboxStyl2=_interopRequireDefault(_taskboxStyl),_sharedStylesNoUserSelectStyl=require("../shared/styles/no-user-select.styl"),_sharedStylesNoUserSelectStyl2=_interopRequireDefault(_sharedStylesNoUserSelectStyl),TaskBox=function(_React$Component){function TaskBox(props){_classCallCheck(this,TaskBox),_get(Object.getPrototypeOf(TaskBox.prototype),"constructor",this).call(this,props),this.state={scrolling:!1,showSidebar:!1,showGrouper:!1,showPostponer:!1,showSelectedTaskIndex:!1,searchFilter:"",groupFilter:void 0}}return _inherits(TaskBox,_React$Component),_createClass(TaskBox,[{key:"render",value:function(){var _this=this,tasks=this.getVisibleTasks().map(function(task,index){return _react2.default.createElement(_componentsTaskBoxItem2.default,{key:task.id,task:task,index:index,scrolling:_this.state.scrolling,handleSwipeLeft:_this.handleSwipeLeft.bind(_this),handleSwipeRight:_this.handleSwipeRight.bind(_this),selected:_this.state.showSelectedTaskIndex&&index==_this.props.selectedTaskIndex})}),grouper=void 0;this.state.showGrouper&&(grouper=_react2.default.createElement(_componentsGrouper2.default,{task:this.getSelectedTask(),tasks:this.props.tasks,dispatch_db:this.props.dispatch_db,stateSetter:this.setState.bind(this)}));var postponer=void 0;this.state.showPostponer&&(postponer=_react2.default.createElement(_componentsPostponer2.default,{task:this.getSelectedTask(),postponeTask:this.postponeTask.bind(this),stateSetter:this.setState.bind(this)}));var groupFilterBox=void 0;return this.props.groupFilter&&(groupFilterBox=_react2.default.createElement("div",{className:"groupFilterBox",onClick:this.setGroupFilter.bind(this,void 0)},this.props.groupFilter)),_react2.default.createElement("div",{className:"TaskBox",ref:"TaskBox"},_react2.default.createElement("style",null,_taskboxStyl2.default),_react2.default.createElement("style",null,_sharedStylesNoUserSelectStyl2.default),postponer,grouper,_react2.default.createElement(_componentsSidebar2.default,{show:this.state.showSidebar,tasks:this.props.tasks,setGroupFilter:this.setGroupFilter.bind(this)}),_react2.default.createElement("div",{className:"form"},_react2.default.createElement("input",{ref:"omnibar",type:"text",placeholder:"Search...",onChange:this.onInputChange.bind(this)}),groupFilterBox),_react2.default.createElement("div",{className:"list"},tasks))}},{key:"onInputChange",value:function(e){this.setState({searchFilter:e.target.value})}},{key:"addTask",value:function(name){var task={name:name,type:"task",date:(new Date).getTime()};this.props.dispatch_db({type:"DB_ADD_TASK",task:task})}},{key:"postponeTask",value:function(task,until){var _this2=this;this.props.dispatch_db({type:"DB_UPDATE_TASK",task:task,value:{group:"later",postpone:until}}).then(function(){_this2.setState({showPostponer:!1})})}},{key:"setGroupFilter",value:function(filter){this.props.dispatch({type:"SET_GROUP_FILTER",filter:filter}),this.setState({showSidebar:!1})}},{key:"handleSwipeLeft",value:function(task,index){var _this3=this;this.props.dispatch({type:"SET_SELECTED_TASK_INDEX",index:index}),setTimeout(function(){_this3.setState({showPostponer:!0})},10)}},{key:"handleSwipeRight",value:function(task){this.completeTask(task)}},{key:"getVisibleTasks",value:function(){var _this4=this;return this.props.tasks.filter(function(task){return task.group!=_this4.props.groupFilter?!1:task.name.toLowerCase().indexOf(_this4.state.searchFilter.toLowerCase())>=0})}},{key:"getSelectedTask",value:function(){return this.getVisibleTasks()[this.props.selectedTaskIndex]}},{key:"completeTask",value:function(task){this.props.dispatch_db({type:"DB_UPDATE_TASK",task:task,value:{group:"done"}})}},{key:"onLogoClick",value:function(){this.setState({showSidebar:!this.state.showSidebar})}},{key:"onAddClick",value:function(){var value=this.refs.omnibar.value;return value?(this.addTask(value),this.refs.omnibar.value="",void this.setState({searchFilter:""})):this.refs.omnibar.focus()}},{key:"onScroll",value:function(){var _this5=this;this.state.scrolling||this.setState({scrolling:!0}),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){_this5.setState({scrolling:!1
})},200)}},{key:"componentDidMount",value:function(){this.keyDownHandler=keyDown.bind(this),this.onScrollHandler=this.onScroll.bind(this),this.onAddClickHandler=this.onAddClick.bind(this),this.onLogoClickHandler=this.onLogoClick.bind(this),this.props.emitter.on("logoclick",this.onLogoClickHandler),this.props.emitter.on("addclick",this.onAddClickHandler),this.refs.TaskBox.addEventListener("scroll",this.onScrollHandler),window.addEventListener("keydown",this.keyDownHandler)}},{key:"componentWillUnmount",value:function(){this.props.emitter.off("logoclick",this.onLogoClickHandler),this.props.emitter.off("addclick",this.onAddClickHandler),this.refs.TaskBox.removeEventListener("scroll",this.onScrollHandler),window.removeEventListener("keydown",this.keyDownHandler)}}]),TaskBox}(_react2.default.Component);exports.default=_reactRedux.connect(function(state){return{tasks:state.tasks,emitter:state.emitter,dispatch_db:state.dispatch_db,groupFilter:state.groupFilter,selectedTaskIndex:state.selectedTaskIndex}})(TaskBox),module.exports=exports.default},{"../shared/styles/no-user-select.styl":33,"../shared/utils/nav":34,"./components/Grouper":14,"./components/Postponer":15,"./components/Sidebar":16,"./components/TaskBoxItem":17,"./taskbox.styl":19,"object.assign":51,react:369,"react-dom":166,"react-redux":207}],19:[function(require,module){module.exports=".TaskBox {\n  flex: auto;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.TaskBox .actions {\n  display: flex;\n  justify-content: flex-end;\n}\n.TaskBox .actions button {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 2em;\n}\n.TaskBox .actions button:focus {\n  outline: 0;\n}\n.TaskBox .form {\n  margin: 10px;\n  margin-bottom: 0;\n}\n.TaskBox .form fieldset {\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n.TaskBox .form input {\n  color: #fff;\n  border: 1px solid #ccc;\n  background-color: #000;\n  display: block;\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  font-size: 1.15em;\n  text-indent: 5px;\n  -webkit-appearance: none;\n  margin: 0;\n  padding: 0;\n  padding-top: 1px;\n  padding-bottom: 1px;\n  border-radius: 0;\n}\n.TaskBox .form .groupFilterBox {\n  height: 32px;\n  max-width: 100px;\n  line-height: 32px;\n  border: 1px solid #ccc;\n  position: absolute;\n  top: 71px;\n  right: 8px;\n  padding: 5px;\n  overflow: hidden;\n  background-color: #ccc;\n  color: #000;\n}\n.TaskBox .form button {\n  margin-top: 10px;\n  background-color: #000;\n  color: #fff;\n  border: 1px solid #ccc;\n  width: 50px;\n  height: 30px;\n}\n.TaskBox .list .TaskBoxItem {\n  display: block;\n  padding: 10px;\n  border: 1px solid transparent;\n  border-bottom: 1px solid #ccc;\n  height: 86px;\n  overflow: hidden;\n}\n.TaskBox .list .TaskBoxItem.selected {\n  border: 1px solid #f00;\n}\n.TaskBox .list .TaskBoxItem .date {\n  float: right;\n}\n.TaskBox .list .TaskBoxItem .participants span {\n  margin-right: 10px;\n}\n.TaskBox .list .TaskBoxItem .name {\n  color: #fff;\n  font-weight: bold;\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n.TaskBox .Postponer .shader {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 998;\n  background-color: #000;\n  opacity: 0.7;\n}\n.TaskBox .Postponer .PostponerInner {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n}\n.TaskBox .Postponer .centerbox {\n  width: 320px;\n  margin: auto;\n  margin-top: 200px;\n  background-color: #000;\n  border: 1px solid #00f;\n}\n.TaskBox .Postponer .centerbox .info {\n  color: #fff;\n  font-weight: bold;\n  padding: 10px;\n  text-align: center;\n}\n.TaskBox .Postponer .centerbox .selectorbox {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-bottom: 10px;\n}\n.TaskBox .Postponer .centerbox .selectorbox .selection {\n  width: 88px;\n  height: 88px;\n  border: 1px solid #ffc0cb;\n  flex-shrink: 0;\n  margin: 5px;\n}\n.TaskBox .Postponer .centerbox .selectorbox .selection.selected {\n  border: 1px solid #f00;\n}\n.TaskBox .Grouper .shader {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 998;\n  background-color: #000;\n  opacity: 0.7;\n}\n.TaskBox .Grouper .GrouperInner {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n}\n.TaskBox .Grouper .centerbox {\n  width: 320px;\n  margin: auto;\n  margin-top: 200px;\n  background-color: #000;\n  border: 1px solid #00f;\n}\n.TaskBox .Grouper .centerbox .info {\n  color: #fff;\n  font-weight: bold;\n  padding: 10px;\n  text-align: center;\n}\n.TaskBox .Grouper .centerbox .selectorbox {\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-bottom: 10px;\n}\n.TaskBox .Grouper .centerbox .selectorbox .group {\n  display: block;\n  height: 30px;\n  border: 1px solid #ffc0cb;\n  flex-shrink: 0;\n  margin: 5px;\n}\n.TaskBox .Grouper .centerbox .selectorbox .group.selected {\n  border: 1px solid #f00;\n}\n.TaskBox .TaskBoxSidebar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n}\n.TaskBox .TaskBoxSidebar .groups {\n  flex: auto;\n}\n.TaskBox .TaskBoxSidebar ul {\n  margin: 0;\n  padding: 0;\n}\n.TaskBox .TaskBoxSidebar ul li {\n  height: 40px;\n  line-height: 40px;\n  list-style: none;\n  text-indent: 5px;\n  cursor: pointer;\n  border-bottom: 1px solid #ccc;\n}\n.TaskBox .TaskBoxSidebar ul li.header {\n  background-color: #ccc;\n  color: #000;\n}\n.TaskBox .TaskBoxSidebar ul li.separator {\n  background-color: #ccc;\n  color: #000;\n}\n.TaskBox .TaskBoxSidebar .settingsLink {\n  border: 1px solid #ccc;\n  height: 40px;\n  line-height: 40px;\n  text-indent: 5px;\n  cursor: pointer;\n  background-color: #ccc;\n  color: #000;\n}\n"},{}],20:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_tweetboxStyl=require("./tweetbox.styl"),_tweetboxStyl2=_interopRequireDefault(_tweetboxStyl),MailBox=function(_React$Component){function MailBox(){_classCallCheck(this,MailBox),_get(Object.getPrototypeOf(MailBox.prototype),"constructor",this).apply(this,arguments)}return _inherits(MailBox,_React$Component),_createClass(MailBox,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"TweetBox"},_react2.default.createElement("style",null,_tweetboxStyl2.default),"Tweets")}}]),MailBox}(_react2.default.Component);exports.default=MailBox,module.exports=exports.default},{"./tweetbox.styl":21,react:369}],21:[function(require,module){module.exports=".TweetBox {\n  flex: auto;\n}\n"},{}],22:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_reactMotion=require("react-motion"),_asbjornengeReactStyle=require("@asbjornenge/react-style"),_asbjornengeReactStyle2=_interopRequireDefault(_asbjornengeReactStyle),_indexStyl=require("./index.styl"),_indexStyl2=_interopRequireDefault(_indexStyl),FlyoutSidebar=function(_React$Component){function FlyoutSidebar(){_classCallCheck(this,FlyoutSidebar),_get(Object.getPrototypeOf(FlyoutSidebar.prototype),"constructor",this).apply(this,arguments)}return _inherits(FlyoutSidebar,_React$Component),_createClass(FlyoutSidebar,[{key:"render",value:function(){var sidebar=this.props.animate?_react2.default.createElement(FlyoutSidebarAnimated,this.props):_react2.default.createElement(FlyoutSidebarBasic,this.props);return _react2.default.createElement("div",{className:"FlyoutSidebar"},_react2.default.createElement(_asbjornengeReactStyle2.default,{style:_indexStyl2.default}),sidebar)}}]),FlyoutSidebar}(_react2.default.Component);exports.default=FlyoutSidebar;var FlyoutSidebarBasic=function(_React$Component2){function FlyoutSidebarBasic(){_classCallCheck(this,FlyoutSidebarBasic),_get(Object.getPrototypeOf(FlyoutSidebarBasic.prototype),"constructor",this).apply(this,arguments)}return _inherits(FlyoutSidebarBasic,_React$Component2),_createClass(FlyoutSidebarBasic,[{key:"render",value:function(){return this.props.show?_react2.default.createElement("div",{className:"innerBasic"},_react2.default.createElement("div",{className:"shader"}),_react2.default.createElement("div",{className:"content"},this.props.children)):_react2.default.createElement("div",null)}}]),FlyoutSidebarBasic}(_react2.default.Component),FlyoutSidebarAnimated=function(_React$Component3){function FlyoutSidebarAnimated(){_classCallCheck(this,FlyoutSidebarAnimated),_get(Object.getPrototypeOf(FlyoutSidebarAnimated.prototype),"constructor",this).apply(this,arguments)}return _inherits(FlyoutSidebarAnimated,_React$Component3),_createClass(FlyoutSidebarAnimated,[{key:"render",value:function(){var _this=this;return _react2.default.createElement(_reactMotion.TransitionMotion,{styles:this.getStyles(),willEnter:this.getWillEnter.bind(this),willLeave:this.getWillLeave.bind(this)},function(interpolatedStyles){return _react2.default.createElement("div",null,interpolatedStyles.content&&interpolatedStyles.shader?_this.getSidebar(interpolatedStyles):void 0)})}},{key:"getSidebar",value:function(interpolatedStyles){var shaderStyle={left:interpolatedStyles.shader.left+"px"},contentStyle={right:interpolatedStyles.content.right+"px"};return _react2.default.createElement("div",{className:"innerAnimated"},_react2.default.createElement("div",{className:"shader",style:shaderStyle}),_react2.default.createElement("div",{className:"content",style:contentStyle},this.props.children))}},{key:"getStyles",value:function(){if(!this.props.show)return{};var width=250;return{shader:{left:_reactMotion.spring(width)},content:{right:_reactMotion.spring(this.fullwidth-width)}}}},{key:"getWillEnter",value:function(key){return"shader"==key?{left:_reactMotion.spring(this.fullwidth)}:"content"==key?{right:_reactMotion.spring(this.fullwidth)}:void 0}},{key:"getWillLeave",value:function(key){return"shader"==key?{left:_reactMotion.spring(this.fullwidth)}:"content"==key?{right:_reactMotion.spring(this.fullwidth)}:void 0}},{key:"handleResize",value:function(){this.fullwidth=document.documentElement.clientWidth}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener&&window.addEventListener("resize",this.handleResize.bind(this),!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener&&window.removeEventListener("resize",this.handleResize)}}]),FlyoutSidebarAnimated}(_react2.default.Component);module.exports=exports.default},{"./index.styl":23,"@asbjornenge/react-style":36,react:369,"react-motion":196}],23:[function(require,module){module.exports=".FlyoutSidebar {\n  position: fixed;\n  top: 60px;\n  left: 0;\n}\n.FlyoutSidebar .innerAnimated .shader {\n  position: fixed;\n  top: 60px;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n  background-color: rgba(0,0,0,0.5);\n}\n.FlyoutSidebar .innerAnimated .content {\n  overflow: hidden;\n  position: fixed;\n  top: 60px;\n  left: 0;\n  bottom: 0;\n  z-index: 999;\n  background-color: #fff;\n}\n.FlyoutSidebar .innerBasic {\n  position: fixed;\n  top: 60px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n  display: flex;\n}\n.FlyoutSidebar .innerBasic .shader {\n  flex: auto;\n  background-color: rgba(0,0,0,0.5);\n}\n.FlyoutSidebar .innerBasic .content {\n  width: 250px;\n  background-color: #fff;\n}\n"},{}],24:[function(require,module){module.exports=".Footer {\n  border-top: 1px solid #00f;\n  height: 70px;\n  flex-shrink: 0;\n}\n.Footer .TaskBoxLink {\n  width: 60px;\n  height: 55px;\n  cursor: pointer;\n}\n.Footer .TaskBoxLink img {\n  width: 55px;\n}\n.Footer .MailBoxLink svg {\n  width: 50px;\n}\n.Footer .MailBoxLink svg path {\n  fill: #fff;\n}\n.Footer .TweetBoxLink svg {\n  width: 50px;\n  height: 45px;\n}\n.Footer .TweetBoxLink svg path {\n  fill: #fff;\n}\n.Footer .TaskBoxLink svg {\n  margin-top: 5px;\n  width: 50px;\n  height: 40px;\n}\n.Footer .TaskBoxLink svg path {\n  fill: #fff;\n}\n.Footer .screenLinks {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.Footer .screenLinks .screenLink {\n  border-radius: 10px;\n  margin: 5px;\n  width: 70px;\n  height: 60px;\n  cursor: pointer;\n  text-align: center;\n}\n.Footer .version {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  margin: 5px;\n}\n"},{}],25:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_asbjornengeReactSvg=require("@asbjornenge/react-svg"),_asbjornengeReactSvg2=_interopRequireDefault(_asbjornengeReactSvg),_footerStyl=require("./footer.styl"),_footerStyl2=_interopRequireDefault(_footerStyl),_graphicsSvgLetter121Svg=require("../../graphics/svg/letter121.svg"),_graphicsSvgLetter121Svg2=_interopRequireDefault(_graphicsSvgLetter121Svg),_graphicsSvgTwitter42Svg=require("../../graphics/svg/twitter42.svg"),_graphicsSvgTwitter42Svg2=_interopRequireDefault(_graphicsSvgTwitter42Svg),_graphicsSvgCheck66Svg=require("../../graphics/svg/check66.svg"),_graphicsSvgCheck66Svg2=_interopRequireDefault(_graphicsSvgCheck66Svg),_utilsNav=require("../../utils/nav"),_utilsNav2=_interopRequireDefault(_utilsNav),_packageJson=require("../../../../../package.json"),_packageJson2=_interopRequireDefault(_packageJson),Footer=function(_React$Component){function Footer(){_classCallCheck(this,Footer),_get(Object.getPrototypeOf(Footer.prototype),"constructor",this).apply(this,arguments)}return _inherits(Footer,_React$Component),_createClass(Footer,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"Footer"},_react2.default.createElement("style",null,_footerStyl2.default),_react2.default.createElement("div",{className:"screenLinks"},_react2.default.createElement("div",{className:"TaskBoxLink screenLink",onClick:_utilsNav2.default.navigate.bind(this,"/")},_react2.default.createElement(_asbjornengeReactSvg2.default,{svg:_graphicsSvgCheck66Svg2.default})),_react2.default.createElement("div",{className:"TweetBoxLink screenLink",onClick:_utilsNav2.default.navigate.bind(this,"/tweetbox")},_react2.default.createElement(_asbjornengeReactSvg2.default,{svg:_graphicsSvgTwitter42Svg2.default})),_react2.default.createElement("div",{className:"MailBoxLink screenLink",onClick:_utilsNav2.default.navigate.bind(this,"/mailbox")},_react2.default.createElement(_asbjornengeReactSvg2.default,{svg:_graphicsSvgLetter121Svg2.default}))),_react2.default.createElement("div",{className:"version"},_packageJson2.default.version))}}]),Footer}(_react2.default.Component);exports.default=Footer,module.exports=exports.default},{"../../../../../package.json":433,"../../graphics/svg/check66.svg":28,"../../graphics/svg/letter121.svg":29,"../../graphics/svg/twitter42.svg":31,"../../utils/nav":34,"./footer.styl":24,"@asbjornenge/react-svg":37,react:369}],26:[function(require,module){module.exports=".Header {\n  border-bottom: 1px solid #00f;\n  height: 60px;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: row;\n}\n.Header .logo {\n  width: 60px;\n  height: 55px;\n  margin-top: 5px;\n  cursor: pointer;\n}\n.Header .logo img {\n  width: 60px;\n}\n.Header .screentitle {\n  flex: auto;\n  text-align: center;\n  line-height: 50px;\n  font-size: 1.2em;\n}\n.Header .adder {\n  width: 60px;\n}\n.Header .adder div {\n  padding-top: 15px;\n}\n.Header .adder div svg {\n  width: 100%;\n  height: 30px;\n}\n.Header .adder div svg path,\n.Header .adder div svg polygon {\n  fill: #fff;\n}\n"},{}],27:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return void 0;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_react=require("react"),_react2=_interopRequireDefault(_react),_asbjornengeReactSvg=require("@asbjornenge/react-svg"),_asbjornengeReactSvg2=_interopRequireDefault(_asbjornengeReactSvg),_headerStyl=require("./header.styl"),_headerStyl2=_interopRequireDefault(_headerStyl),_graphicsSvgTool1067Svg=require("../../graphics/svg/tool1067.svg"),_graphicsSvgTool1067Svg2=_interopRequireDefault(_graphicsSvgTool1067Svg),_graphicsTaskboxPng=require("../../graphics/taskbox.png"),_graphicsTaskboxPng2=_interopRequireDefault(_graphicsTaskboxPng),_utilsNav=require("../../utils/nav"),Header=(_interopRequireDefault(_utilsNav),function(_React$Component){function Header(){_classCallCheck(this,Header),_get(Object.getPrototypeOf(Header.prototype),"constructor",this).apply(this,arguments)}return _inherits(Header,_React$Component),_createClass(Header,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"Header"},_react2.default.createElement("style",null,_headerStyl2.default),_react2.default.createElement("div",{className:"logo",onClick:this.logoClick.bind(this)},_react2.default.createElement("img",{src:_graphicsTaskboxPng2.default})),_react2.default.createElement("div",{className:"screentitle"},this.getScreenTitleFromPath()),_react2.default.createElement("div",{className:"adder",onClick:this.addClick.bind(this)},_react2.default.createElement(_asbjornengeReactSvg2.default,{svg:_graphicsSvgTool1067Svg2.default})))}},{key:"getScreenTitleFromPath",value:function(){return"Taskbox"}},{key:"addClick",value:function(){this.props.emitter.trigger("addclick")}},{key:"logoClick",value:function(){this.props.emitter.trigger("logoclick")}}]),Header}(_react2.default.Component));exports.default=Header,module.exports=exports.default},{"../../graphics/svg/tool1067.svg":30,"../../graphics/taskbox.png":32,"../../utils/nav":34,"./header.styl":26,"@asbjornenge/react-svg":37,react:369}],28:[function(require,module){module.exports='data:image/svg+xml;utf8,<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="394.893px" height="394.893px" viewBox="0 0 394.893 394.893" style="enable-background:new 0 0 394.893 394.893;"\r\n	 xml:space="preserve">\r\n<g>\r\n	<g>\r\n		<path d="M344.426,191.963c-6.904,0-12.5,5.597-12.5,12.5V350.91H25V43.982h246.57c6.904,0,12.5-5.597,12.5-12.5\r\n			c0-6.903-5.596-12.5-12.5-12.5H12.5c-6.903,0-12.5,5.597-12.5,12.5V363.41c0,6.903,5.597,12.5,12.5,12.5h331.926\r\n			c6.902,0,12.5-5.597,12.5-12.5V204.463C356.926,197.56,351.33,191.963,344.426,191.963z"/>\r\n		<path d="M391.23,27.204c-4.881-4.881-12.795-4.881-17.678,0L169.957,230.801l-50.584-50.584c-4.882-4.881-12.796-4.881-17.678,0\r\n			c-4.881,4.882-4.881,12.796,0,17.678l59.423,59.423c2.441,2.44,5.64,3.661,8.839,3.661c3.199,0,6.398-1.221,8.839-3.661\r\n			L391.23,44.882C396.113,40,396.113,32.086,391.23,27.204z"/>\r\n	</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},{}],29:[function(require,module){module.exports='data:image/svg+xml;utf8,<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 viewBox="0 0 167.707 167.707" style="enable-background:new 0 0 167.707 167.707;" xml:space="preserve">\r\n<path d="M154.799,140.863H12.909C5.791,140.863,0,135.072,0,127.954V39.753\r\n	c0-7.118,5.791-12.909,12.909-12.909h141.89c7.117,0,12.908,5.791,12.908,12.909v88.201\r\n	C167.707,135.072,161.916,140.863,154.799,140.863z M7.013,133.22c1.449,1.621,3.556,2.644,5.896,2.644h141.89\r\n	c2.324,0,4.416-1.008,5.864-2.608L97.388,86.822l-12.068,8.809c-0.876,0.64-2.065,0.641-2.943,0.003l-12.133-8.814L7.013,133.22z\r\n	 M101.624,83.729l61.062,44.808c0.015-0.192,0.021-0.387,0.021-0.583V39.753c0-0.199-0.008-0.397-0.022-0.593L101.624,83.729z\r\n	 M5.007,39.427C5.002,39.535,5,39.644,5,39.753v88.201c0,0.178,0.006,0.354,0.018,0.527l60.979-44.747L5.007,39.427z M6.896,34.619\r\n	l76.945,55.899l76.817-56.07c-1.448-1.599-3.539-2.604-5.86-2.604H12.909C10.505,31.844,8.349,32.922,6.896,34.619z"/>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},{}],30:[function(require,module){module.exports='data:image/svg+xml;utf8,<?xml version="1.0" encoding="iso-8859-1"?>\r\n<!-- Generator: Adobe Illustrator 19.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 viewBox="0 0 371.66 371.66" style="enable-background:new 0 0 371.66 371.66;" xml:space="preserve">\r\n<g>\r\n	<g>\r\n		<path d="M107.009,238.763l57.958-10.228L345.771,47.729L298.042,0L117.236,180.806L107.009,238.763z M131.187,188.068\r\n			L298.042,21.213l26.517,26.517L157.704,214.585l-32.199,5.682L131.187,188.068z"/>\r\n		<polygon points="275.889,356.66 40.889,356.66 40.889,69.883 208.418,69.883 208.418,54.883 25.889,54.883 25.889,371.66 \r\n			290.889,371.66 290.889,137.354 275.889,137.354 		"/>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n	<g>\r\n	</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n'},{}],31:[function(require,module){module.exports='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="611.981" height="611.981" viewBox="0 0 611.981 611.981"><path d="M605.95 114.16c-4.91-3.356-11.387-3.245-16.144.32-3.287 2.454-8.183 4.63-13.896 6.53 18.82-23.34 19.098-38.943 18.82-42.785-.375-4.993-3.412-9.417-7.947-11.54-4.55-2.135-9.875-1.663-13.952 1.277-25.657 18.363-51.328 22.357-66.307 22.884-24.382-22.648-55.906-35.06-89.414-35.06-72.495 0-131.48 58.956-131.48 131.45 0 5.243.305 10.485.93 15.672C165.58 199.898 67.456 85.868 66.47 84.703c-2.898-3.44-7.268-5.256-11.79-4.854-4.48.4-8.487 2.94-10.762 6.823-30.79 52.633-18.224 102.506 2.885 137.387-3.925-2.108-8.668-2.247-12.746-.208-4.633 2.302-7.615 7.004-7.698 12.19-.9 55.297 24.354 88.444 49.832 107.75-1.872.763-3.578 1.942-4.98 3.48-3.313 3.634-4.465 8.75-3.01 13.454 17.712 57.127 59.32 78.54 88.514 86.557-33.48 23.605-74.893 29.14-106.362 29.14-20.096 0-33.938-2.386-34.077-2.415-6.27-1.11-12.566 2.262-15.132 8.143-2.552 5.88-.75 12.745 4.383 16.6C68.678 546.227 144.93 556.2 197.785 556.2c41.773 0 70.8-6.104 72.27-6.422 271.307-63.354 281.612-306.618 281.182-350.943 50.857-46.725 58.957-64.963 60.233-69.512 1.595-5.715-.624-11.803-5.52-15.16zm-78.054 68.444c-3.148 2.857-4.812 6.99-4.52 11.234.18 2.635 15.005 264.8-259.366 328.877-.264.055-27.6 5.756-66.24 5.756-36.003 0-83.657-4.923-129.134-24.88 41.635-2.664 92.687-15.438 129.412-56.06 3.675-4.077 4.577-9.917 2.344-14.937-2.233-5.008-7.24-8.238-12.718-8.238-2.58 0-57.168-.652-84.49-51.398 12.648.402 24.118-1.47 32.62-5.34 5.45-2.482 8.668-8.17 8.03-14.12-.638-5.948-5.048-10.817-10.9-12.08-2.955-.636-65.796-14.95-77.127-81.23 9.847 3.76 21.83 6.366 33.425 4.66 5.38-.804 9.805-4.674 11.303-9.902 1.498-5.23-.208-10.86-4.34-14.382-2.774-2.358-62.703-54.436-36.67-122.588C94.433 153.41 189.422 236.82 303.967 230.37c4.133-.236 7.96-2.316 10.4-5.658 2.442-3.343 3.274-7.614 2.248-11.636-2.15-8.39-3.23-17.087-3.23-25.824 0-57.182 46.53-103.713 103.74-103.713 28.028 0 54.282 10.997 73.95 30.982 2.55 2.58 6.018 4.078 9.65 4.133l2.137.014c10.194 0 26.17-1.235 44.492-7.144-5.866 6.2-13.494 13.19-23.383 20.83-4.853 3.76-6.656 10.25-4.45 15.964 2.204 5.728 7.974 9.334 14.02 8.834 2.247-.18 12.12-1.04 24.34-3.23-7.697 7.877-17.502 17.35-29.984 28.68z"/></svg>\n'},{}],32:[function(require,module){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAB4CAYAAAAgwxoxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAE0lJREFUeNrsncuPJPlRxz8Rv8yqrn7Pe2Zt7661lu19cjCykIWQLMs2EtxBWCAhhIw4YIRkAVd84oAQHHzg4Av/APIJOACSDwYs1vbu+oX3gewd74y9Mz0904/qqvxFcMisrqquzOpXVXVXd8aopmcqO7Oyfvn9RXwjfhHxE3enllqOKloPQS01YGqZmiSnvcC33n2n9H1z54NrV752pbX0ecAGDgmg720//uPtbuefRKR/QGAv6xJ3t/lw6xrR7Rh3Irh00OXvotIuPgZEJL8wBq9dgZ+3IHFwB3JzHGLkzWc/wFsfvEHSzQDw4rxoyu3GA15OXyW6gCru+fnuBiyDfhJ3ATOcvol3VYhWcqfQcfjvPaHjvTudjXzh1vWzBUwrbVQCZrnR/MBi2niq9LwQVi0qOgAYFSEJkUfHAkotc6VhXMvnhzsY0q08z93c+/NRgKC1hbzwgBk0KQfVLkfUtgKEoIjUD+TiAyaWmw9xR8aYFlHJXyKoKjJk/Wu5wBrGqygoSLWGEVER1QIsgM2Y/dVyNoAZy29yf6ScFMeYeYxYYdbEHQHMDatJ78UFzHvt7UovKar+6ebu9rVBYushgLsk8Nkbiyv/jGrMFVX+W6vNVrIeWm/ETny9ggN9B3i1fnRzCpiOZZWA2cu632/nHlGfILvhFrm9uPZ7663lz5deUxqffbD3sIpQ/3UNmHnmMFR7SSLCcGBOUMmDYi7EqmseErDbqx/bBeUwB0WTgIjkUVStGW4NmHEfFBQpQurihtSr5DVgysxVUCWIDAXlpPhTyyUEjFWE2xxoxw7v7+yMRHCjRRYbCyksVbvk1RqoI2NCwv0lxUoUF+7awDkyeKaXXLE44gPveP//4MVapg8vPuIXblqcGjCr2qh8LkkW6XTboyAzo729+x/bNH6/CigrKyuj1xShm2XPt9vtF6X8M7Wh3Fbtp20IQC+46JKSScifZR81Gl2CJw/RtEGxnlWAUlB1kbDVCKyYEpDiDrVnVcXR1F0VzIYAZ6q7nbj3TRgm+DIExUsGmI82Vqsnswjaulp6LDP76ePHj0s1y9LSEmtra6XndbvdL+y1279VSqpFZL3hQcOohgCHGKCdjIYTM6VpC5AsjWgEcUiSJ6w2fVQ14eQpRaulISN3tu9n7z8T3R/IwG8b8KNOntqglw0wNm6euBOrDydygtXGYn4n40zS7MXLAYN3kT5bCwVY3th17kVI5BJqmFoOQVIxKXqa5fVd534GyZxmctQJKFMWGdAsr+8697s+l5ql1jCzAow77s739+B+Nt9gOWvAJOPiN+OI9HjJipeM8owYIYujTCeLmHl+1sFDDhEvrnlQIcfipZX3arD3Rke4F51UnOFogdSAOYa8BvxBmd3vxuy5vb29Py+7vyzLDrGwT1UD5vo60ITgBwNDrK0v8EzIzcdBSFwPC8DTJdc0yFrwi43Shy/Aj1P92D20k4rj4gzkpJqbvQXenjONeTq/4t69e1Ngit7CeRe4ehwNo6pcu3aDEGY4c5904F++k1cHDN6bOx7U/vVTL3c2V1tpGF1P9U770ecsdv59lprmC3duXDwOI8jyydcOjFE9MU0xCNpD8xBgUFUVFsZ80WTerNLZAsZLdPgl86Dm7SufGjCxKSfKVBARpJfPC9A1bM8uF2hEyZci5PIAxoPgekLAhAIw7kiSm5FLBRofWsG8RCbJT3le8VNbAQSsbfEkRSdn1onCfLTqoSjFNZc80b3C5xC5ZBrmlJIefCO0EgRbouvHpr1yFpVwIrDULPWSUKGVtOmI7/PiQf6ylW2knc52bppmJlfP2CSdgKyaO0tp64+WGotfkkFNk1/HpSkL4rJ2Ei2jsy63XWrAZ16sILXOp8I3MNlEDgb3RHj1cefpn+7EGa8rffxsAWMuCIrqMR6uO0HD04mEj1d6R8J8ZOWJQBrGDHAXaJcMtZOmSQjNhKDzw2NOb5Kk4G7ROerkLjKPupeA1RazoYynCO7uxDhXmVST4TACFh3xI5rjOfQOpqKczERsvtI4J0p6DUG9ut66loPzTOYueDdxL8m9iLGM0bN1vUCfpinzVaI1FbfaHRCtNk85qsaGNbKKZg4iJ09tjEW4pIxpJNOqrXOKsoSKi6vM1QyaWhzG930cq3LGK+Xrdzv85bd3kAOrzh6dX76R8I+/snyie/qT/9nm397rjl43c/7sxRZ/+Fxz8mD55g143GLUIxBY24GFDlgduOuDxksA4uOrhx50nB8+zEZVSeasLpw8aPHWlpVft+vca0+pxciTFDYajETuXCDsgMcaMAcHRmQYNIcFw4MUfx3Ma3FonCLI1dCK69oUM/jV84Stg0lbuXMg0s8TnwuZUYxxHhfyazkbDXPAiXTx2lfaH/0EaTSQ2iRVYSbvlGlY3vLjsosZEuPlAoz1orZFj7q+8Skiv+4Ddi/3ncQN3CqTn7uWE9HRA85OPHlQcDd65XU702qrF628UsEUYtbtepZ3Eb8sgFlvLn45aFjGzQdK2HMTJLlH1FcmeUcqN/NGSD9ddc1P30r42q+tjMRx3OD24slp11+80OJ3nm6WXvcT16agbEX43seeZrudjcR4RIS7nR++/CBuoJJcHsCsNRe/oqITDWB8ZDnwkeXJJ3J/5lYKt2Y3uA785PY6D300LV0UOvdavyQb81WRPwmTtKnCzZqQVAxwhNRKACOQhdBlYQH0EmmYWk4128AiJ0qKrgFzyUTIS3c73bkySXX3hnr8aw1zniQrPPmDXrs4mOsbfmhTvhNoLq0BM7dW55nGz7jue+iByLYI3F/c+/amrU0ucV0d9gS2mFogvQbMlB3rF5qvAQ8pq/d+PU1aloSJVA24Omk3sPxWkwePxvCiT9SAOecSimEeBYxF8Cw7tZPk4mhXufHjFWwTLHSntlJXk95512HqaFRuvbVO60kDS6abT11rmLN82L6/Qe2JwRIy5fabKyxspVhwqrf8OCeAqesDTsOK5cSpQqZO0g3ceXOFhScJMXVmUQ9Xa5gZEN+qhvaeBjyt7n7hYzhL2lWeenOZhSdKDLPbwW6qgNne3q7sSbe4uEiapqXHut0uOzs75TecJCwtLc0PXjaaeR+8ktpqnkT3PcNL2vGJVhVWOMGVp/5vhdaWEkOc6deZKmDefvttHj58SAjDHkKMkeeff56bN8vXLDc2NvjBD34wcp6Zsb6+ziuvvDI/yuVb12CjVZKfLPiVDby1O5QPIw7thrFyo8N6w0fKYlyNhcdXaG01sNCdOSdIJjQsFSZaRnZl671/uHkvP0/mLVOvlwAvowntfqB+Ql3opF2eLEdWAmgYHV0PIIHBvTVmKrVbPTPQlL+3DxgXOmnGTmsXxKmsNj5jL6MmvWdpsZLEPW2ACVnSYbe5U/jZ5/eeaw1zlhIj3s2IaZfO4m6RG32+Te50Kx+LyNTB3nNH6UVXdZ7PW5uQgST5g6bFMstisoetCJ457tL/9QsLmDHfLEkS0jQd8XZUdewKraqWnmdmJEkyVXAflYAfVbppgjfSklJZhUWuJOvZTQkpZriEIpU+4ArbDu3RDQWd8nr1GdGx087YrsV7qYbS1OosyzCzSjBVgcbMKuM3IlIZvzmNbG1tsb29PQIMd6fZbLK+vn6iufSNhxmb0Ue3tXDhxaVXd2833t7r9Yb0/o7wbO7aV7a7/rfDd2N4aGAPPox+dxs8wz3f4sw1oA7bscPPbK8yePwbv/2b59cknVQbqCqNRmPGlsPJsqwUMKcB6G4zYbukaiBzSJpJaymhVeZOdTJWO3GgBYkYeEqUV8ikCTy5eCZp7rzfKcR51EFt1LtQH8/lrNj90AvNgqdEexmTq8Bm7SXVUgkdIAeL+1WQrHaraylTd+qu4JpgvJSDhezMb+vUJkmkrqo/itX2SktedlRyluMJzks4N4DOxXCrM4+Ma5o5gKbN8f6gyPDAlW8HrqIKrDAn/UL8REeNGBOz7CUkuYF7d5/vDLv/Xvzpudv5ttA2xcE5NWDeeXD/19MkaaIB3FHf710hksdRRNyiwDtAJqpCr8ume16er0Xhvu17lX0C2vM08wYz3ul0ri5kjf8SkbVJekgLCwtcv3690msbE1gA3i19+ILwydYHyUjLNv9jVT8OPFPCDJyVZvLFVrr4aREb8rgRcdoKngLpYL8dB5FtCT/PhC9q3n584v7JJDTMt8U1D2nngBkI8hR9aN32B0y8N5T7gCl+T/I2CvRKa3pb41hf/3SM7tbeQxF/fxqAOZkrb4WL66X6dX1sctNy8RqVxZRngWdLDzayfNkaPaCIhYbwYEP2Ej0AQgeinwPAyIEdAQ7+e7hnTPlPKTmvzKTTdlqhJY6fD4M+5Dv4eIM82aBRpc4wfNsGSYLkE8JQfAI65vyvVvf4367l4QjxumHeeC/EGVhScXcs2sT84eTcg6XjsGtTnbAXyyVzwWKhfwS3gbGbgEnScw2WbAAstRyLk7nLVILw51bDeNdgt3RrmEmXr08gbcJmzGGKl/TUhgwwSpYN2bYgYDbgcPvF5TDmTsyykbtzQEVaVxdWV5TJzqCTL3YmwFNjAFM9xNsOuyV7KjiwKPmrTHZSfvSe7HyV6O5JsNwMuTguGb67pumXUgkLiAlawETUUW8Df3fxNIwLoZGWTqwg2lpeXl45P7u1BeD6ic7cMnhUwketuGwVYDpL6f9ufezm39sP7xYcpUhUA0SDPKcLmw1kZbQTI9mFAoyP9xh7mtjd3S7CikSvlYse05hJtCT5wFVIE7rfuwtZxMl3r1WzFVN/ArpSMoiPL4xJcsBEx45UvpOM+GV3l1wEN9A7V0k0kL3+E7zTzd/vxWmmNETnwkvKtz403I7ymjjnnUPEkBPaTpdwcxW5vozF2YxJch6+u5sf84xL7zj3bXeMQ27jtKdTctaaxYsSwKOo0GJVVi6UojiGkz40dEPgCOBJr32rE4MzpYB4cnaDJTlnOUa4Iucw+iywOjeo2O0W8ZBRWUwTCKHUrV6QI8RhIN+ca60NTz1hf0lgyWFKG74nZ6NZik0tThavalLW/+u8yqMd2MtGN5Q0Z+XGMiuN438VF8FDKHaECfidXfzWBpDkOLrd9ovRFFEkXwyzU4T7hflaK5Bi99GDYQCdwKzrTSMTiAMmKBNIZf4Bk4PldDa/pr09FW0FCGWmm8Yns/yO8ZRfrCC9tZtUZODtrxGp4pJ36vRjcMJzCxjz+jFPeYDzHq7IxNIYzgQwUnhDUcL+dzm1hpE5q4wZWu8o4yAn5UUh54QExHLd4jgKEmSwmnJIWucWMCJg5tgAR/VJjP28UZhU82Ee6UDlo57TMflgHr5ydjNjtxsRFBWyjXb8z1aqt/ZtV/+pPF5bOKeAMQezOOHJOodhu+vLUyW9KkInu8I7D99ExRHYcfjNhTR3uz3G/dnmovzqM6f76Knod3cnmk9LFdRsaECiR6627rC2cA33iBZefNXrtDJRwAg58DPr99CxSb/A67XH4aUB1cCdlY8yi4yPiZokA6LqNAcqJ72XPRlcJF8GKBAScVaX7rC6dZPH7Z/PB2DMDLMZTH2tTRLuearHgEpRVa4tfojH7fvnHzBuTrTpR+z305iPuLp9kQHTj/T2JmyX9eYtlhpXcN9hWsttE9iGGDLzc/EMHYhme0NV/QOBLBVpiJQHcsw9unu37Lyh96h438sJuaouVIWgzL1rg585eJ5IQ+XoO6AbTtCUm8sfxnntPGsYKUo0ZOq2ooiBVX5MN2YP3n74i885vrlv60XBImbGrZW1r15fXPlc2bnvPdn4m8327j/s5wpryOu6fQAJRcOBwQWxPO0kgMdiPxvyykN3LEZ57tqNry+lzRfKPvOnm4++vNHZ/boUGXROnpYQHV9Pm7/73LXrf1XBYTxfDhjGYcRYW/wQWfYY83dBGucQMBpmRiq8WDcZo8q6At+P5m2jUNmaP4xoRnR/VM3B/K7DW7HIws8jj3EYML1uEgPxJRdyf9X2AVO4i06MEXN2Kl1i/F1zf8ei5YCR3P+J0ehquDvWHxUp3b1CUNL0ZbKoRH934np/HjuB+5gDAjSDalsGdnL1EEAFkWoXziFR8kBY3O9AIWMCCNXv5f12iy1JvDp0IWZpMCeIkBUP3/dbnkg6hjTme16X+tERUBKeB5yMn0z0MZ+ew8Q4Q6Q41mO+UkEHRYuiQEU8EqMVB+zQ6kYDgghBwok3NuuVe6BagOYQE5vzFYIqXe83Bxq3ZtZL7ZSx30QI8jwukeh3Jwaai7fXwOCsc8m5BUVEcRxgVJ0BXqAwtA52dOfF+hznsP35BlIt9wvz5BDldqieHfwFIdEXwCLR7wGNsweMz7CgzA/7PCfxmPUTrQbSKoqf1SbJXf0Ao1ZRzOORwXJwOaT4dxgzduIi+/VEnmW5dnHvrwGVSzhadYABStBXcE+I3D0HGmbW6QaiXfKNoMvkfae/J1VJ+cWjynPdtw/GNvqgsUODljFaVePDh5WfqdJGdb+ofjDc77BbeZ7Io9K0z8pppiT6EsTTPyvxOrOpluM4xfUQ1FIDppYaMLXUgKmlBkwtNWBqqaUGTC01YGqZifz/AFzuGSAaNJwEAAAAAElFTkSuQmCC";

},{}],33:[function(require,module){module.exports="* {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\ninput,\ntextarea {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n"},{}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var nav={navigate:function(path){window.location.hash="#"+path}};exports.default=nav,module.exports=exports.default},{}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils={getUserDefinedGroups:function(tasks){return tasks.reduce(function(groups,task){var taskgroup=task.group?[task.group]:[];return 0==taskgroup.length?groups:groups.indexOf(taskgroup[0])>=0?groups:groups.concat(taskgroup)},[]).filter(function(group){return["later","done"].indexOf(group)<0}).sort()}};exports.default=utils,module.exports=exports.default},{}],36:[function(require,module){"use strict";var React=require("react");module.exports=React.createClass({displayName:"exports",render:function(){return React.createElement("style",{dangerouslySetInnerHTML:{__html:this.props.style}})}})},{react:369}],37:[function(require,module){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=require("react");module.exports=React.createClass({displayName:"exports",render:function(){var _this=this,svg=this.props.svg,props=Object.keys(this.props).reduce(function(_props,prop){return"svg"==prop?_props:(_props[prop]=_this.props[prop],_props)},{});return 0==svg.indexOf("data:image")&&(svg=svg.slice(svg.indexOf("<svg"))),React.createElement("div",_extends({},props,{dangerouslySetInnerHTML:{__html:svg}}))}})},{react:369}],38:[function(require,module){(function(Buffer){"use strict";function token(user,pass){return base64([user,pass].join(":"))}function base64(string){return new Buffer(string).toString(ENCODING)}module.exports=token;var ENCODING="base64"}).call(this,require("buffer").Buffer)},{buffer:39}],39:[function(require,module,exports){(function(global){function typedArraySupport(){function Bar(){}try{var arr=new Uint8Array(1);return arr.foo=function(){return 42},arr.constructor=Bar,42===arr.foo()&&arr.constructor===Bar&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){return this instanceof Buffer?(this.length=0,this.parent=void 0,"number"==typeof arg?fromNumber(this,arg):"string"==typeof arg?fromString(this,arg,arguments.length>1?arguments[1]:"utf8"):fromObject(this,arg)):arguments.length>1?new Buffer(arg,arguments[1]):new Buffer(arg)}function fromNumber(that,length){if(that=allocate(that,0>length?0:0|checked(length)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;length>i;i++)that[i]=0;return that}function fromString(that,string,encoding){("string"!=typeof encoding||""===encoding)&&(encoding="utf8");var length=0|byteLength(string,encoding);return that=allocate(that,length),that.write(string,encoding),that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(null==object)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(object.buffer instanceof ArrayBuffer)return fromTypedArray(that,object);if(object instanceof ArrayBuffer)return fromArrayBuffer(that,object)}return object.length?fromArrayLike(that,object):fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=0|checked(buffer.length);return that=allocate(that,length),buffer.copy(that,0,0,length),that}function fromArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromTypedArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array){return Buffer.TYPED_ARRAY_SUPPORT?(array.byteLength,that=Buffer._augment(new Uint8Array(array))):that=fromTypedArray(that,new Uint8Array(array)),that}function fromArrayLike(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromJsonObject(that,object){var array,length=0;"Buffer"===object.type&&isArray(object.data)&&(array=object.data,length=0|checked(array.length)),that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function allocate(that,length){Buffer.TYPED_ARRAY_SUPPORT?(that=Buffer._augment(new Uint8Array(length)),that.__proto__=Buffer.prototype):(that.length=length,that._isBuffer=!0);var fromPool=0!==length&&length<=Buffer.poolSize>>>1;return fromPool&&(that.parent=rootParent),that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);return delete buf.parent,buf}function byteLength(string,encoding){"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if(start=0|start,end=void 0===end||end===1/0?this.length:0|end,encoding||(encoding="utf8"),0>start&&(start=0),end>this.length&&(end=this.length),start>=end)return"";for(;;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;end>i;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(end>=i+bytesPerSequence){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:128>firstByte&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(55296>tempCodePoint||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&1114112>tempCodePoint&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(MAX_ARGUMENTS_LENGTH>=len)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;len>i;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(127&buf[i]);return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(0>offset)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;length>i;i++){if(codePoint=string.charCodeAt(i),codePoint>55295&&57344>codePoint){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if((units-=1)<0)break;bytes.push(codePoint)}else if(2048>codePoint){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(65536>codePoint){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(1114112>codePoint))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array),Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);len>i&&a[i]===b[i];)++i;return i!==len&&(x=a[i],y=b[i]),y>x?-1:x>y?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(0===list.length)return new Buffer(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;i++)length+=list[i].length;var buf=new Buffer(length),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.byteLength=byteLength,Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0,Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:Buffer.compare(this,b)},Buffer.prototype.indexOf=function(val,byteOffset){function arrayIndexOf(arr,val,byteOffset){for(var foundIndex=-1,i=0;byteOffset+i<arr.length;i++)if(arr[byteOffset+i]===val[-1===foundIndex?0:i-foundIndex]){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===val.length)return byteOffset+foundIndex}else foundIndex=-1;return-1}if(byteOffset>2147483647?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset>>=0,0===this.length)return-1;if(byteOffset>=this.length)return-1;if(0>byteOffset&&(byteOffset=Math.max(this.length+byteOffset,0)),"string"==typeof val)return 0===val.length?-1:String.prototype.indexOf.call(this,val,byteOffset);if(Buffer.isBuffer(val))return arrayIndexOf(this,val,byteOffset);if("number"==typeof val)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,val,byteOffset):arrayIndexOf(this,[val],byteOffset);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=0|length,length=swap}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(0>length||0>offset)||offset>this.length)throw new RangeError("attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),start>end&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=Buffer._augment(this.subarray(start,end));else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;sliceLen>i;i++)newBuf[i]=this[i+start]}return newBuf.length&&(newBuf.parent=this.parent||this),newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0>value?1:0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0>value?1:0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&start>end&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&targetStart>start&&end>targetStart)for(i=len-1;i>=0;i--)target[i+targetStart]=this[i+start];else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;len>i;i++)target[i+targetStart]=this[i+start];else target._set(this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),start>end)throw new RangeError("end < start");if(end!==start&&0!==this.length){if(0>start||start>=this.length)throw new RangeError("start out of bounds");if(0>end||end>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof value)for(i=start;end>i;i++)this[i]=value;else{var bytes=utf8ToBytes(value.toString()),len=bytes.length;for(i=start;end>i;i++)this[i]=bytes[i%len]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr.constructor=Buffer,arr._isBuffer=!0,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.equals=BP.equals,arr.compare=BP.compare,arr.indexOf=BP.indexOf,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUIntLE=BP.readUIntLE,arr.readUIntBE=BP.readUIntBE,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readIntLE=BP.readIntLE,arr.readIntBE=BP.readIntBE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUIntLE=BP.writeUIntLE,arr.writeUIntBE=BP.writeUIntBE,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeIntLE=BP.writeIntLE,arr.writeIntBE=BP.writeIntBE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":40,ieee754:41,isarray:42}],40:[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),
output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)},{}],41:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],42:[function(require,module){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],43:[function(require,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],44:[function(require,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],45:[function(require,module){!function(){"use strict";function FastClick(layer,options){function bind(method,context){return function(){return method.apply(context,arguments)}}var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;l>i;i++)context[methods[i]]=bind(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(scrollParent=targetElement.fastClickScrollParent,!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary?!0:!1},FastClick.prototype.onTouchMove=function(event){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),targetTagName=targetElement.tagName.toLowerCase(),"label"===targetTagName){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(scrollParent=targetElement.fastClickScrollParent,scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop)?!0:(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return this.targetElement?event.forwardedTouchEvent?!0:event.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail?!0:(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion,firefoxVersion;if("undefined"==typeof window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),blackberryVersion[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]")))){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction?!0:(firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],firefoxVersion>=27&&(metaViewport=document.querySelector("meta[name=viewport]"),metaViewport&&(-1!==metaViewport.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===layer.style.touchAction||"manipulation"===layer.style.touchAction?!0:!1)},FastClick.attach=function(layer,options){return new FastClick(layer,options)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}()},{}],46:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(0/0);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():0/0),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date(+matched[1])):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return firstDayOfWeek>d&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){
var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+input>+this):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;count>i;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0===thresholds[threshold]?!1:void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0)}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this>other?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){
return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment})},{}],47:[function(require,module){function eventemitter(){this.listeners={}}eventemitter.prototype.on=function(event,fn){return"function"!=typeof fn?this:("undefined"==typeof this.listeners[event]&&(this.listeners[event]=[]),this.listeners[event].push(fn),this)},eventemitter.prototype.off=function(event,fn){if("undefined"==typeof this.listeners[event])return this;var index;for(var i in this.listeners[event])this.listeners[event][i]===fn&&(index=i);return void 0!=index&&this.listeners[event].splice(index,1),this},eventemitter.prototype.trigger=function(event,data){if("undefined"==typeof this.listeners[event])return this;for(var i in this.listeners[event])"function"==typeof this.listeners[event][i]&&this.listeners[event][i](data);return this},eventemitter.prototype.empty=function(){return this.listeners={},this},module.exports=function(){return new eventemitter}},{}],48:[function(require,module){function serialize(data){if("string"!=typeof data){var serialized=[];for(var datum in data)serialized.push(datum+"="+data[datum]);data=serialized.join("&")}return data}var nxhr=function(url){this.req=new XMLHttpRequest,this.url=url,this._async=!0,this._data=null,this._method="GET",this._headers={},this.callback_called=!1};nxhr.prototype.method=function(method){return this._method=method,this},nxhr.prototype.set=function(header,value){return this._headers[header]=value,this},nxhr.prototype.query=function(query){return this.url+="?"+serialize(query),this},nxhr.prototype.data=function(data){return this._data=data,this},nxhr.prototype.timeout=function(ms){return this._timeout=ms,this},nxhr.prototype.respond=function(callback){this.callback_called||(callback(this.req),this.callback_called=!0)},nxhr.prototype.sync=function(callback){return this._async=!1,this.call(callback)},nxhr.prototype.call=function(callback){this.callback_called=!1,this.req.onload=function(){this.respond(callback)}.bind(this),this.req.onerror=function(){this.respond(callback)}.bind(this),this.req.ontimeout=function(){this.respond(callback)}.bind(this),this._timeout&&(this.req.timeout=this._timeout),this.req.open(this._method,this.url,this._async);for(var header in this._headers)this.req.setRequestHeader(header,this._headers[header]);try{this.req.send(serialize(this._data))}catch(err){this.respond(callback)}return this},module.exports=function(url){return new nxhr(url)}},{}],49:[function(require,module){"use strict";var keys=require("object-keys");module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test");if("string"==typeof sym)return!1;var symVal=42;obj[sym]=symVal;for(sym in obj)return!1;if(0!==keys(obj).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==!0)return!1}return!0}},{"object-keys":55}],50:[function(require,module){"use strict";var keys=require("object-keys"),bind=require("function-bind"),canBeObject=function(obj){return"undefined"!=typeof obj&&null!==obj},hasSymbols=require("./hasSymbols")(),toObject=Object,push=bind.call(Function.call,Array.prototype.push),propIsEnumerable=bind.call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function(target){if(!canBeObject(target))throw new TypeError("target must be an object");var s,source,i,props,syms,value,key,objTarget=toObject(target);for(s=1;s<arguments.length;++s){if(source=toObject(arguments[s]),props=keys(source),hasSymbols&&Object.getOwnPropertySymbols)for(syms=Object.getOwnPropertySymbols(source),i=0;i<syms.length;++i)key=syms[i],propIsEnumerable(source,key)&&push(props,key);for(i=0;i<props.length;++i)key=props[i],value=source[key],propIsEnumerable(source,key)&&(objTarget[key]=value)}return objTarget}},{"./hasSymbols":49,"function-bind":54,"object-keys":55}],51:[function(require,module){"use strict";var defineProperties=require("define-properties"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim");defineProperties(implementation,{implementation:implementation,getPolyfill:getPolyfill,shim:shim}),module.exports=implementation},{"./implementation":50,"./polyfill":57,"./shim":58,"define-properties":52}],52:[function(require,module){"use strict";var keys=require("object-keys"),foreach=require("foreach"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol(),toStr=Object.prototype.toString,isFunction=function(fn){return"function"==typeof fn&&"[object Function]"===toStr.call(fn)},arePropertyDescriptorsSupported=function(){var obj={};try{Object.defineProperty(obj,"x",{enumerable:!1,value:obj});for(var _ in obj)return!1;return obj.x===obj}catch(e){return!1}},supportsDescriptors=Object.defineProperty&&arePropertyDescriptorsSupported(),defineProperty=function(object,name,value,predicate){(!(name in object)||isFunction(predicate)&&predicate())&&(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=props.concat(Object.getOwnPropertySymbols(map))),foreach(props,function(name){defineProperty(object,name,map[name],predicates[name])})};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},{foreach:53,"object-keys":55}],53:[function(require,module){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;l>i;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},{}],54:[function(require,module){var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]";module.exports=function(that){var target=this;if("function"!=typeof target||toStr.call(target)!==funcType)throw new TypeError(ERROR_MESSAGE+target);for(var args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;boundLength>i;i++)boundArgs.push("$"+i);var bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},{}],55:[function(require,module){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=require("./isArguments"),hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},blacklistedKeys={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!blacklistedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}},keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function(){if(Object.keys){var keysWorksWithArguments=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function(object){return originalKeys(isArgs(object)?slice.call(object):object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},{"./isArguments":56}],56:[function(require,module){"use strict";var toStr=Object.prototype.toString;module.exports=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},{}],57:[function(require,module){"use strict";var implementation=require("./implementation"),lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var str="abcdefghijklmnopqrst",letters=str.split(""),map={},i=0;i<letters.length;++i)map[letters[i]]=letters[i];var obj=Object.assign({},map),actual="";for(var k in obj)actual+=k;return str!==actual},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}};module.exports=function(){return Object.assign?lacksProperEnumerationOrder()?implementation:assignHasPendingExceptions()?implementation:Object.assign:implementation}},{"./implementation":50}],58:[function(require,module){"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var polyfill=getPolyfill();return define(Object,{assign:polyfill},{assign:function(){return Object.assign!==polyfill}}),polyfill}},{"./polyfill":57,"define-properties":52}],59:[function(require,module,exports){"use strict";var wrappers=require("pouchdb-wrappers");exports.enableUndo=function(options){options||(options={}),options.hasOwnProperty("limit")||(options.limit=100);var db=this,PouchDB=this.constructor,Promise=PouchDB.utils.Promise,uuid=PouchDB.utils.uuid,error=function(options){var error=new Error(options.reason);return error.status=options.status,error.error=options.error,error.reason=options.reason,error},origBulkDocs=db.bulkDocs,wrapUndo=function(orig,args){var docs=args.docs;return orig().then(function(result){var undoId=uuid();return db.get("_local/_undo").catch(function(err){if(404!==err.status)throw err;return{_id:"_local/_undo",history:[],undos:{}}}).then(function(undoDoc){return undoDoc.history.push(undoId),undoDoc.undos[undoId]=result.filter(function(row){return row.ok}).map(function(row,i){return{id:row.id,oldRev:docs[i]._rev,newRev:row.rev}}),undoDoc.history.length>options.limit&&undoDoc.history.slice(0,-options.limit).forEach(function(undoId){delete undoDoc.undos[undoId],undoDoc.history.shift()}),origBulkDocs.call(db,[undoDoc])}).then(function(){return result.map(function(row){return row.undoId=undoId,row})})})};db.undo=function(undoId){return db.get("_local/_undo").then(function(undoDoc){var revisions=undoDoc.undos[undoId];if("undefined"==typeof revisions)throw error({status:404,error:"not_found",reason:"Undo with that ID not found"});return Promise.all(revisions.map(function(revision){return db.get(revision.id,{open_revs:"all"}).then(function(doc){var latestRev=doc[0].ok._rev;if(revision.newRev!==latestRev)throw error({status:409,error:"conflict",reason:"The document has changed since this undoID was issued"});return db.get(revision.id,{rev:revision.oldRev}).then(function(doc){return revision.oldRev||(doc._deleted=!0),doc._rev=revision.newRev,doc})})})).then(function(docs){return origBulkDocs.call(db,docs)}).then(function(){return delete undoDoc.undos[undoId],origBulkDocs.call(db,[undoDoc])})}).then(function(){return{id:undoId,ok:!0}})},db.clearUndo=function(){return db.get("_local/_undo").then(function(doc){return doc._deleted=!0,origBulkDocs.call(db,[doc])}).catch(function(err){if(404!==err.status)throw err})},wrappers.installWrapperMethods(db,{bulkDocs:wrapUndo})},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(exports)},{"pouchdb-wrappers":60}],60:[function(require,module,exports){"use strict";function installWrappers(base,handlers,createWrapperMethod){for(var name in handlers)if(handlers.hasOwnProperty(name)){var info=getBaseAndName(base,name),original=info.base[info.name];if(original)if(original.hasOwnProperty("_handlers")){if(-1!==original._handlers.indexOf(handlers[name]))throw new Error("Wrapper method for '"+name+"' already installed: "+handlers[name]);original._handlers.push(handlers[name])}else info.base[info.name]=createWrapperMethod(name,original,handlers[name],base)}}function getBaseAndName(base,name){for(name=name.split(".");name.length>1;)base=base[name.shift(0)];return{base:base,name:name[0]}}function createWrapper(name,original,handler,theWrapperBuilders,thisVal){var buildWrapper=theWrapperBuilders[name];if("undefined"==typeof createWrapper)throw new Error("No known wrapper for method name: "+name);var handlers=[handler],wrapper=buildWrapper(thisVal,original,handlers);return wrapper._original=original,wrapper._handlers=handlers,wrapper}function parseBaseArgs(thisVal1,thisVal2,options,callback){return"function"==typeof options&&(callback=options,options={}),{base:thisVal1||thisVal2,db:thisVal1||thisVal2,options:options||{},callback:callback}}function callHandlers(handlers,args,method){var callback=args.callback;delete args.callback,method=method.bind(args.base);for(var i=handlers.length-1;i>=0;i-=1)method=handlers[i].bind(null,method,args);var promise=method();return nodify(promise,callback),promise}function makeCall(func){return function(){return func.call(this)}}function makeCallWithOptions(func,args){return function(){return func.call(this,args.options)}}function uninstallWrappers(base,handlers){for(var name in handlers)if(handlers.hasOwnProperty(name)){var info=getBaseAndName(base,name),wrapper=info.base[info.name];if("undefined"!=typeof wrapper){var idx;try{idx=wrapper._handlers.indexOf(handlers[name])}catch(err){idx=-1}if(-1===idx)throw new Error("Wrapper method for '"+name+"' not installed: "+handlers[name]);wrapper._handlers.splice(idx,1),wrapper._handlers.length||(delete info.base[info.name],info.base[info.name]!==wrapper._original&&(info.base[info.name]=wrapper._original))}}}var nodify=require("promise-nodify");exports.installStaticWrapperMethods=function(PouchDB,handlers){PouchDB.new=PouchDB.new||function(name,options,callback){return new PouchDB(name,options,callback)},PouchDB.destroy=PouchDB.destroy||function(name,options,callback){var args=parseBaseArgs(PouchDB,this,options,callback),db=new PouchDB(name,args.options),promise=db.destroy();return nodify(promise,args.callback),promise},installWrappers(PouchDB,handlers,exports.createStaticWrapperMethod)},exports.installWrapperMethods=function(db,handlers){installWrappers(db,handlers,exports.createWrapperMethod)},exports.createStaticWrapperMethod=function(name,original,handler,PouchDB){return createWrapper(name,original,handler,staticWrapperBuilders,PouchDB)},exports.createWrapperMethod=function(name,original,handler,db){return createWrapper(name,original,handler,wrapperBuilders,db)};var wrapperBuilders={};wrapperBuilders.destroy=function(db,destroy,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCall(destroy))}},wrapperBuilders.put=function(db,put,handlers){return function(){var args={};args.base=db||this,args.db=db||this;var argsList=Array.prototype.slice.call(arguments);args.doc=argsList.shift();for(var id=("_id"in args.doc);;){var temp=argsList.shift(),temptype=typeof temp;if("string"!==temptype||id?"string"!==temptype||!id||"_rev"in args.doc?"object"===temptype?args.options=temp:"function"===temptype&&(args.callback=temp):args.doc._rev=temp:(args.doc._id=temp,id=!0),!argsList.length)break}return args.options=args.options||{},callHandlers(handlers,args,function(){
return put.call(this,args.doc,args.options)})}},wrapperBuilders.post=function(db,post,handlers){return function(doc,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.doc=doc,callHandlers(handlers,args,function(){return post.call(this,args.doc,args.options)})}},wrapperBuilders.get=function(db,get,handlers){return function(docId,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.docId=docId,callHandlers(handlers,args,function(){return get.call(this,args.docId,args.options)})}},wrapperBuilders.remove=function(db,remove,handlers){return function(docOrId,optsOrRev,opts,callback){var args;return"string"==typeof optsOrRev?(args=parseBaseArgs(db,this,opts,callback),args.doc={_id:docOrId,_rev:optsOrRev}):(args=parseBaseArgs(db,this,optsOrRev,opts),args.doc=docOrId),callHandlers(handlers,args,function(){return remove.call(this,args.doc,args.options)})}},wrapperBuilders.bulkDocs=function(db,bulkDocs,handlers){return function(docs,options,callback){var args=parseBaseArgs(db,this,options,callback);return"new_edits"in docs&&(args.options.new_edits=docs.new_edits),args.docs=docs.docs||docs,callHandlers(handlers,args,function(){return bulkDocs.call(this,args.docs,args.options)})}},wrapperBuilders.allDocs=function(db,allDocs,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCallWithOptions(allDocs,args))}},wrapperBuilders.changes=function(db,changes,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCallWithOptions(changes,args))}},wrapperBuilders.sync=function(db,replicate,handlers){return function(url,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.url=url,callHandlers(handlers,args,function(){return replicate.call(this,args.url,args.options)})}},wrapperBuilders["replicate.from"]=wrapperBuilders.sync,wrapperBuilders["replicate.to"]=wrapperBuilders.sync,wrapperBuilders.putAttachment=function(db,putAttachment,handlers){return function(docId,attachmentId,rev,doc,type,options,callback){var args;return"string"==typeof type?(args=parseBaseArgs(db,this,options,callback),args.rev=rev,args.doc=doc,args.type=type):(args=parseBaseArgs(db,this,type,options),args.rev=null,args.doc=rev,args.type=doc),args.docId=docId,args.attachmentId=attachmentId,callHandlers(handlers,args,function(){return putAttachment.call(this,args.docId,args.attachmentId,args.rev,args.doc,args.type)})}},wrapperBuilders.getAttachment=function(db,getAttachment,handlers){return function(docId,attachmentId,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.docId=docId,args.attachmentId=attachmentId,callHandlers(handlers,args,function(){return getAttachment.call(this,args.docId,args.attachmentId,args.options)})}},wrapperBuilders.removeAttachment=function(db,removeAttachment,handlers){return function(docId,attachmentId,rev,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.docId=docId,args.attachmentId=attachmentId,args.rev=rev,callHandlers(handlers,args,function(){return removeAttachment.call(this,args.docId,args.attachmentId,args.rev)})}},wrapperBuilders.query=function(db,query,handlers){return function(fun,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.fun=fun,callHandlers(handlers,args,function(){return query.call(this,args.fun,args.options)})}},wrapperBuilders.viewCleanup=function(db,viewCleanup,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCallWithOptions(viewCleanup,args))}},wrapperBuilders.info=function(db,info,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCall(info))}},wrapperBuilders.compact=function(db,compact,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCallWithOptions(compact,args))}},wrapperBuilders.revsDiff=function(db,revsDiff,handlers){return function(diff,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.diff=diff,callHandlers(handlers,args,function(){return revsDiff.call(this,args.diff)})}},wrapperBuilders.list=function(db,orig,handlers){return function(path,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.path=path,callHandlers(handlers,args,function(){return orig.call(this,args.path,args.options)})}},wrapperBuilders.rewriteResultRequestObject=wrapperBuilders.list,wrapperBuilders.show=wrapperBuilders.list,wrapperBuilders.update=wrapperBuilders.list,wrapperBuilders.getSecurity=function(db,getSecurity,handlers){return function(options,callback){var args=parseBaseArgs(db,this,options,callback);return callHandlers(handlers,args,makeCallWithOptions(getSecurity,args))}},wrapperBuilders.putSecurity=function(db,putSecurity,handlers){return function(secObj,options,callback){var args=parseBaseArgs(db,this,options,callback);return args.secObj=secObj,callHandlers(handlers,args,function(){return putSecurity.call(this,args.secObj)})}};var staticWrapperBuilders={};staticWrapperBuilders.new=function(PouchDB,construct,handlers){return function(name,options,callback){var args;return"object"==typeof name?args=parseBaseArgs(PouchDB,this,name,options):(args=parseBaseArgs(PouchDB,this,options,callback),args.options.name=name),callHandlers(handlers,args,function(){return construct.call(this,args.options)})}},staticWrapperBuilders.destroy=function(PouchDB,destroy,handlers){return function(name,options,callback){var args;return"object"==typeof name?args=parseBaseArgs(PouchDB,this,name,options):(args=parseBaseArgs(PouchDB,this,options,callback),args.options.name=name),args.options.internal?destroy.apply(PouchDB,arguments):callHandlers(handlers,args,function(){var name=args.options.name;return delete args.options.name,destroy.call(this,name,args.options)})}},staticWrapperBuilders.replicate=function(PouchDB,replicate,handlers){return function(source,target,options,callback){var args=parseBaseArgs(PouchDB,this,options,callback);return args.source=source,args.target=target,callHandlers(handlers,args,function(){return replicate.call(this,args.source,args.target,args.options)})}},staticWrapperBuilders.allDbs=function(PouchDB,allDbs,handlers){return function(options,callback){var args=parseBaseArgs(PouchDB,this,options,callback);return callHandlers(handlers,args,makeCall(allDbs))}},exports.uninstallWrapperMethods=function(db,handlers){uninstallWrappers(db,handlers)},exports.uninstallStaticWrapperMethods=function(PouchDB,handlers){uninstallWrappers(PouchDB,handlers)}},{"promise-nodify":61}],61:[function(require,module){"use strict";module.exports=function(promise,callback){"function"==typeof callback&&promise.then(function(resp){callback(null,resp)},function(err){callback(err,null)})}},{}],62:[function(require,module){(function(process){"use strict";function compare(left,right){return right>left?-1:left>right?1:0}function arrayFirst(arr,callback){for(var i=0;i<arr.length;i++)if(callback(arr[i],i)===!0)return arr[i]}function yankError(callback){return function(err,results){err||results[0]&&results[0].error?callback(err||results[0]):callback(null,results.length?results[0]:results)}}function cleanDocs(docs){for(var i=0;i<docs.length;i++){var doc=docs[i];if(doc._deleted)delete doc._attachments;else if(doc._attachments)for(var atts=Object.keys(doc._attachments),j=0;j<atts.length;j++){var att=atts[j];doc._attachments[att]=pick(doc._attachments[att],["data","digest","content_type","length","revpos","stub"])}}}function compareByIdThenRev(a,b){var idCompare=compare(a._id,b._id);if(0!==idCompare)return idCompare;var aStart=a._revisions?a._revisions.start:0,bStart=b._revisions?b._revisions.start:0;return compare(aStart,bStart)}function computeHeight(revs){var height={},edges=[];return traverseRevTree(revs,function(isLeaf,pos,id,prnt){var rev=pos+"-"+id;return isLeaf&&(height[rev]=0),void 0!==prnt&&edges.push({from:prnt,to:rev}),rev}),edges.reverse(),edges.forEach(function(edge){height[edge.from]=void 0===height[edge.from]?1+height[edge.to]:Math.min(height[edge.from],1+height[edge.to])}),height}function allDocsKeysQuery(api,opts,callback){var keys="limit"in opts?opts.keys.slice(opts.skip,opts.limit+opts.skip):opts.skip>0?opts.keys.slice(opts.skip):opts.keys;if(opts.descending&&keys.reverse(),!keys.length)return api._allDocs({limit:0},callback);var finalResults={offset:opts.skip};return Promise.all(keys.map(function(key){var subOpts=extend({key:key,deleted:"ok"},opts);return["limit","skip","keys"].forEach(function(optKey){delete subOpts[optKey]}),new Promise(function(resolve,reject){api._allDocs(subOpts,function(err,res){return err?reject(err):(finalResults.total_rows=res.total_rows,void resolve(res.rows[0]||{key:key,error:"not_found"}))})})})).then(function(results){return finalResults.rows=results,finalResults})}function doNextCompaction(self){var task=self._compactionQueue[0],opts=task.opts,callback=task.callback;self.get("_local/compaction").catch(function(){return!1}).then(function(doc){doc&&doc.last_seq&&(opts.last_seq=doc.last_seq),self._compact(opts,function(err,res){err?callback(err):callback(null,res),process.nextTick(function(){self._compactionQueue.shift(),self._compactionQueue.length&&doNextCompaction(self)})})})}function attachmentNameError(name){return"_"===name.charAt(0)?name+"is not a valid attachment name, attachment names cannot start with '_'":!1}function AbstractPouchDB(){EventEmitter.call(this)}var extend=require("js-extend").extend,Promise=require("./deps/promise"),pick=require("./deps/pick"),collections=require("pouchdb-collections"),inherits=require("inherits"),getArguments=require("argsarray"),adapterFun=require("./deps/adapterFun"),errors=require("./deps/errors"),EventEmitter=require("events").EventEmitter,upsert=require("./deps/upsert"),Changes=require("./changes"),bulkGetShim=require("./deps/bulkGetShim"),isDeleted=require("./deps/docs/isDeleted"),isLocalId=require("./deps/docs/isLocalId"),traverseRevTree=require("./deps/merge/traverseRevTree"),collectLeaves=require("./deps/merge/collectLeaves"),rootToLeaf=require("./deps/merge/rootToLeaf"),collectConflicts=require("./deps/merge/collectConflicts"),parseDoc=require("./deps/docs/parseDoc");inherits(AbstractPouchDB,EventEmitter),module.exports=AbstractPouchDB,AbstractPouchDB.prototype.post=adapterFun("post",function(doc,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),"object"!=typeof doc||Array.isArray(doc)?callback(errors.error(errors.NOT_AN_OBJECT)):void this.bulkDocs({docs:[doc]},opts,yankError(callback))}),AbstractPouchDB.prototype.put=adapterFun("put",getArguments(function(args){var temp,temptype,opts,callback,doc=args.shift(),id="_id"in doc;if("object"!=typeof doc||Array.isArray(doc))return(callback=args.pop())(errors.error(errors.NOT_AN_OBJECT));for(;;)if(temp=args.shift(),temptype=typeof temp,"string"!==temptype||id?"string"!==temptype||!id||"_rev"in doc?"object"===temptype?opts=temp:"function"===temptype&&(callback=temp):doc._rev=temp:(doc._id=temp,id=!0),!args.length)break;return opts=opts||{},parseDoc.invalidIdError(doc._id),isLocalId(doc._id)&&"function"==typeof this._putLocal?doc._deleted?this._removeLocal(doc,callback):this._putLocal(doc,callback):void this.bulkDocs({docs:[doc]},opts,yankError(callback))})),AbstractPouchDB.prototype.putAttachment=adapterFun("putAttachment",function(docId,attachmentId,rev,blob,type,callback){function createAttachment(doc){return doc._attachments=doc._attachments||{},doc._attachments[attachmentId]={content_type:type,data:blob},api.put(doc)}var api=this;return"function"==typeof type&&(callback=type,type=blob,blob=rev,rev=null),"undefined"==typeof type&&(type=blob,blob=rev,rev=null),api.get(docId).then(function(doc){if(doc._rev!==rev)throw errors.error(errors.REV_CONFLICT);return createAttachment(doc)},function(err){if(err.reason===errors.MISSING_DOC.message)return createAttachment({_id:docId});throw err})}),AbstractPouchDB.prototype.removeAttachment=adapterFun("removeAttachment",function(docId,attachmentId,rev,callback){var self=this;self.get(docId,function(err,obj){return err?void callback(err):obj._rev!==rev?void callback(errors.error(errors.REV_CONFLICT)):obj._attachments?(delete obj._attachments[attachmentId],0===Object.keys(obj._attachments).length&&delete obj._attachments,void self.put(obj,callback)):callback()})}),AbstractPouchDB.prototype.remove=adapterFun("remove",function(docOrId,optsOrRev,opts,callback){var doc;"string"==typeof optsOrRev?(doc={_id:docOrId,_rev:optsOrRev},"function"==typeof opts&&(callback=opts,opts={})):(doc=docOrId,"function"==typeof optsOrRev?(callback=optsOrRev,opts={}):(callback=opts,opts=optsOrRev)),opts=opts||{},opts.was_delete=!0;var newDoc={_id:doc._id,_rev:doc._rev||opts.rev};return newDoc._deleted=!0,isLocalId(newDoc._id)&&"function"==typeof this._removeLocal?this._removeLocal(doc,callback):void this.bulkDocs({docs:[newDoc]},opts,yankError(callback))}),AbstractPouchDB.prototype.revsDiff=adapterFun("revsDiff",function(req,opts,callback){function addToMissing(id,revId){missing.has(id)||missing.set(id,{missing:[]}),missing.get(id).missing.push(revId)}function processDoc(id,rev_tree){var missingForId=req[id].slice(0);traverseRevTree(rev_tree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash,idx=missingForId.indexOf(rev);-1!==idx&&(missingForId.splice(idx,1),"available"!==opts.status&&addToMissing(id,rev))}),missingForId.forEach(function(rev){addToMissing(id,rev)})}"function"==typeof opts&&(callback=opts,opts={});var ids=Object.keys(req);if(!ids.length)return callback(null,{});var count=0,missing=new collections.Map;ids.map(function(id){this._getRevisionTree(id,function(err,rev_tree){if(err&&404===err.status&&"missing"===err.message)missing.set(id,{missing:req[id]});else{if(err)return callback(err);processDoc(id,rev_tree)}if(++count===ids.length){var missingObj={};return missing.forEach(function(value,key){missingObj[key]=value}),callback(null,missingObj)}})},this)}),AbstractPouchDB.prototype.bulkGet=adapterFun("bulkGet",function(opts,callback){bulkGetShim(this,opts,callback)}),AbstractPouchDB.prototype.compactDocument=adapterFun("compactDocument",function(docId,maxHeight,callback){var self=this;this._getRevisionTree(docId,function(err,revTree){if(err)return callback(err);var height=computeHeight(revTree),candidates=[],revs=[];Object.keys(height).forEach(function(rev){height[rev]>maxHeight&&candidates.push(rev)}),traverseRevTree(revTree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash;"available"===opts.status&&-1!==candidates.indexOf(rev)&&revs.push(rev)}),self._doCompaction(docId,revs,callback)})}),AbstractPouchDB.prototype.compact=adapterFun("compact",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={});var self=this;opts=opts||{},self._compactionQueue=self._compactionQueue||[],self._compactionQueue.push({opts:opts,callback:callback}),1===self._compactionQueue.length&&doNextCompaction(self)}),AbstractPouchDB.prototype._compact=function(opts,callback){function onChange(row){promises.push(self.compactDocument(row.id,0))}function onComplete(resp){var lastSeq=resp.last_seq;Promise.all(promises).then(function(){return upsert(self,"_local/compaction",function(doc){return!doc.last_seq||doc.last_seq<lastSeq?(doc.last_seq=lastSeq,doc):!1})}).then(function(){callback(null,{ok:!0})}).catch(callback)}var self=this,changesOpts={return_docs:!1,last_seq:opts.last_seq||0},promises=[];self.changes(changesOpts).on("change",onChange).on("complete",onComplete).on("error",callback)},AbstractPouchDB.prototype.get=adapterFun("get",function(id,opts,callback){function finishOpenRevs(){var result=[],count=leaves.length;return count?void leaves.forEach(function(leaf){self.get(id,{rev:leaf,revs:opts.revs,attachments:opts.attachments},function(err,doc){result.push(err?{missing:leaf}:{ok:doc}),count--,count||callback(null,result)})}):callback(null,result)}if("function"==typeof opts&&(callback=opts,opts={}),"string"!=typeof id)return callback(errors.error(errors.INVALID_ID));if(isLocalId(id)&&"function"==typeof this._getLocal)return this._getLocal(id,callback);var leaves=[],self=this;if(!opts.open_revs)return this._get(id,opts,function(err,result){if(err)return callback(err);var doc=result.doc,metadata=result.metadata,ctx=result.ctx;if(opts.conflicts){var conflicts=collectConflicts(metadata);conflicts.length&&(doc._conflicts=conflicts)}if(isDeleted(metadata,doc._rev)&&(doc._deleted=!0),opts.revs||opts.revs_info){var paths=rootToLeaf(metadata.rev_tree),path=arrayFirst(paths,function(arr){return-1!==arr.ids.map(function(x){return x.id}).indexOf(doc._rev.split("-")[1])}),indexOfRev=path.ids.map(function(x){return x.id}).indexOf(doc._rev.split("-")[1])+1,howMany=path.ids.length-indexOfRev;if(path.ids.splice(indexOfRev,howMany),path.ids.reverse(),opts.revs&&(doc._revisions={start:path.pos+path.ids.length-1,ids:path.ids.map(function(rev){return rev.id})}),opts.revs_info){var pos=path.pos+path.ids.length;doc._revs_info=path.ids.map(function(rev){return pos--,{rev:pos+"-"+rev.id,status:rev.opts.status}})}}if(opts.attachments&&doc._attachments){var attachments=doc._attachments,count=Object.keys(attachments).length;if(0===count)return callback(null,doc);Object.keys(attachments).forEach(function(key){this._getAttachment(attachments[key],{binary:opts.binary,ctx:ctx},function(err,data){var att=doc._attachments[key];att.data=data,delete att.stub,delete att.length,--count||callback(null,doc)})},self)}else{if(doc._attachments)for(var key in doc._attachments)doc._attachments.hasOwnProperty(key)&&(doc._attachments[key].stub=!0);callback(null,doc)}});if("all"===opts.open_revs)this._getRevisionTree(id,function(err,rev_tree){return err?callback(err):(leaves=collectLeaves(rev_tree).map(function(leaf){return leaf.rev}),void finishOpenRevs())});else{if(!Array.isArray(opts.open_revs))return callback(errors.error(errors.UNKNOWN_ERROR,"function_clause"));leaves=opts.open_revs;for(var i=0;i<leaves.length;i++){var l=leaves[i];if("string"!=typeof l||!/^\d+-/.test(l))return callback(errors.error(errors.INVALID_REV))}finishOpenRevs()}}),AbstractPouchDB.prototype.getAttachment=adapterFun("getAttachment",function(docId,attachmentId,opts,callback){var self=this;opts instanceof Function&&(callback=opts,opts={}),this._get(docId,opts,function(err,res){return err?callback(err):res.doc._attachments&&res.doc._attachments[attachmentId]?(opts.ctx=res.ctx,opts.binary=!0,self._getAttachment(res.doc._attachments[attachmentId],opts,callback),void 0):callback(errors.error(errors.MISSING_DOC))})}),AbstractPouchDB.prototype.allDocs=adapterFun("allDocs",function(opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),opts.skip="undefined"!=typeof opts.skip?opts.skip:0,opts.start_key&&(opts.startkey=opts.start_key),opts.end_key&&(opts.endkey=opts.end_key),"keys"in opts){if(!Array.isArray(opts.keys))return callback(new TypeError("options.keys must be an array"));var incompatibleOpt=["startkey","endkey","key"].filter(function(incompatibleOpt){return incompatibleOpt in opts})[0];if(incompatibleOpt)return void callback(errors.error(errors.QUERY_PARSE_ERROR,"Query parameter `"+incompatibleOpt+"` is not compatible with multi-get"));if("http"!==this.type())return allDocsKeysQuery(this,opts,callback)}return this._allDocs(opts,callback)}),AbstractPouchDB.prototype.changes=function(opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),new Changes(this,opts,callback)},AbstractPouchDB.prototype.close=adapterFun("close",function(callback){return this._closed=!0,this._close(callback)}),AbstractPouchDB.prototype.info=adapterFun("info",function(callback){var self=this;this._info(function(err,info){return err?callback(err):(info.db_name=info.db_name||self._db_name,info.auto_compaction=!(!self.auto_compaction||"http"===self.type()),info.adapter=self.type(),void callback(null,info))})}),AbstractPouchDB.prototype.id=adapterFun("id",function(callback){return this._id(callback)}),AbstractPouchDB.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},AbstractPouchDB.prototype.bulkDocs=adapterFun("bulkDocs",function(req,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),opts=opts||{},Array.isArray(req)&&(req={docs:req}),!req||!req.docs||!Array.isArray(req.docs))return callback(errors.error(errors.MISSING_BULK_DOCS));for(var i=0;i<req.docs.length;++i)if("object"!=typeof req.docs[i]||Array.isArray(req.docs[i]))return callback(errors.error(errors.NOT_AN_OBJECT));var attachmentError;return req.docs.forEach(function(doc){doc._attachments&&Object.keys(doc._attachments).forEach(function(name){attachmentError=attachmentError||attachmentNameError(name)})}),attachmentError?callback(errors.error(errors.BAD_REQUEST,attachmentError)):("new_edits"in opts||(opts.new_edits="new_edits"in req?req.new_edits:!0),opts.new_edits||"http"===this.type()||req.docs.sort(compareByIdThenRev),cleanDocs(req.docs),this._bulkDocs(req,opts,function(err,res){return err?callback(err):(opts.new_edits||(res=res.filter(function(x){return x.error})),void callback(null,res))}))}),AbstractPouchDB.prototype.registerDependentDatabase=adapterFun("registerDependentDatabase",function(dependentDb,callback){function diffFun(doc){return doc.dependentDbs=doc.dependentDbs||{},doc.dependentDbs[dependentDb]?!1:(doc.dependentDbs[dependentDb]=!0,doc)}var depDB=new this.constructor(dependentDb,this.__opts);upsert(this,"_local/_pouch_dependentDbs",diffFun).then(function(){callback(null,{db:depDB})}).catch(callback)}),AbstractPouchDB.prototype.destroy=adapterFun("destroy",function(opts,callback){function destroyDb(){self._destroy(opts,function(err,resp){return err?callback(err):(self.emit("destroyed"),void callback(null,resp||{ok:!0}))})}"function"==typeof opts&&(callback=opts,opts={});var self=this,usePrefix="use_prefix"in self?self.use_prefix:!0;return"http"===self.type()?destroyDb():void self.get("_local/_pouch_dependentDbs",function(err,localDoc){if(err)return 404!==err.status?callback(err):destroyDb();var dependentDbs=localDoc.dependentDbs,PouchDB=self.constructor,deletedMap=Object.keys(dependentDbs).map(function(name){var trueName=usePrefix?name.replace(new RegExp("^"+PouchDB.prefix),""):name;return new PouchDB(trueName,self.__opts).destroy()});Promise.all(deletedMap).then(destroyDb,function(error){callback(error)})})})}).call(this,require("_process"))},{"./changes":75,"./deps/adapterFun":78,"./deps/bulkGetShim":97,"./deps/docs/isDeleted":99,"./deps/docs/isLocalId":100,"./deps/docs/parseDoc":103,"./deps/errors":109,"./deps/merge/collectConflicts":114,"./deps/merge/collectLeaves":115,"./deps/merge/rootToLeaf":119,"./deps/merge/traverseRevTree":120,"./deps/pick":125,"./deps/promise":126,"./deps/upsert":130,_process:44,argsarray:153,events:43,inherits:157,"js-extend":158,"pouchdb-collections":163}],63:[function(require,module){"use strict";module.exports={idb:require("./adapters/idb"),websql:require("./adapters/websql")}},{"./adapters/idb":69,"./adapters/websql":73}],64:[function(require,module){"use strict";function readAttachmentsAsBlobOrBuffer(row){var atts=row.doc&&row.doc._attachments;atts&&Object.keys(atts).forEach(function(filename){var att=atts[filename];att.data=b64StringToBluffer(att.data,att.content_type)})}function encodeDocId(id){return/^_design/.test(id)?"_design/"+encodeURIComponent(id.slice(8)):/^_local/.test(id)?"_local/"+encodeURIComponent(id.slice(7)):encodeURIComponent(id)}function preprocessAttachments(doc){return doc._attachments&&Object.keys(doc._attachments)?Promise.all(Object.keys(doc._attachments).map(function(key){var attachment=doc._attachments[key];return attachment.data&&"string"!=typeof attachment.data?blufferToBase64(attachment.data).then(function(b64){attachment.data=b64}):void 0})):Promise.resolve()}function getHost(name){var uri=parseUri(name);(uri.user||uri.password)&&(uri.auth={username:uri.user,password:uri.password});var parts=uri.path.replace(/(^\/|\/$)/g,"").split("/");return uri.db=encodeURIComponent(parts.pop()),uri.path=parts.join("/"),uri}function genDBUrl(opts,path){return genUrl(opts,opts.db+"/"+path)}function genUrl(opts,path){var pathDel=opts.path?"/":"";return opts.protocol+"://"+opts.host+(opts.port?":"+opts.port:"")+"/"+opts.path+pathDel+path}function paramsToStr(params){return"?"+Object.keys(params).map(function(k){return k+"="+encodeURIComponent(params[k])}).join("&")}function HttpPouch(opts,callback){function ajax(userOpts,options,callback){var reqAjax=userOpts.ajax||{},reqOpts=extend(clone(ajaxOpts),reqAjax,options);return log(reqOpts.method+" "+reqOpts.url),utils.ajax(reqOpts,callback)}function ajaxPromise(userOpts,opts){return new Promise(function(resolve,reject){ajax(userOpts,opts,function(err,res){return err?reject(err):void resolve(res)})})}function adapterFun(name,fun){return coreAdapterFun(name,getArguments(function(args){setup().then(function(){return fun.apply(this,args)}).catch(function(e){var callback=args.pop();callback(e)})}))}function setup(){if(opts.skipSetup||opts.skip_setup)return Promise.resolve();if(setupPromise)return setupPromise;var checkExists={method:"GET",url:dbUrl};return setupPromise=ajaxPromise({},checkExists).catch(function(err){return err&&err.status&&404===err.status?(explainError(404,"PouchDB is just detecting if the remote exists."),ajaxPromise({},{method:"PUT",url:dbUrl})):Promise.reject(err)}).catch(function(err){return err&&err.status&&412===err.status?!0:Promise.reject(err)}),setupPromise.catch(function(){setupPromise=null}),setupPromise}function encodeAttachmentId(attachmentId){return attachmentId.split("/").map(encodeURIComponent).join("/")}var api=this,getHostFun=getHost;opts.getHost&&(getHostFun=opts.getHost);var host=getHostFun(opts.name,opts),dbUrl=genDBUrl(host,"");opts=clone(opts);var ajaxOpts=opts.ajax||{};if(api.getUrl=function(){return dbUrl},api.getHeaders=function(){return ajaxOpts.headers||{}},opts.auth||host.auth){var nAuth=opts.auth||host.auth,token=btoa(nAuth.username+":"+nAuth.password);ajaxOpts.headers=ajaxOpts.headers||{},ajaxOpts.headers.Authorization="Basic "+token}var setupPromise;setTimeout(function(){callback(null,api)}),api.type=function(){return"http"},api.id=adapterFun("id",function(callback){ajax({},{method:"GET",url:genUrl(host,"")},function(err,result){var uuid=result&&result.uuid?result.uuid+host.db:genDBUrl(host,"");callback(null,uuid)})}),api.request=adapterFun("request",function(options,callback){options.url=genDBUrl(host,options.url),ajax({},options,callback)}),api.compact=adapterFun("compact",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={}),opts=clone(opts),ajax(opts,{url:genDBUrl(host,"_compact"),method:"POST"},function(){function ping(){api.info(function(err,res){res.compact_running?setTimeout(ping,opts.interval||200):callback(null,{ok:!0})})}ping()})}),api.bulkGet=coreAdapterFun("bulkGet",function(opts,callback){function doBulkGet(cb){var params={};opts.revs&&(params.revs=!0),opts.attachments&&(params.attachments=!0),ajax({},{headers:host.headers,url:genDBUrl(host,"_bulk_get"+paramsToStr(params)),method:"POST",body:{docs:opts.docs}},cb)}function doBulkGetShim(){function onResult(batchNum){return function(err,res){results[batchNum]=res.results,++numDone===numBatches&&callback(null,{results:flatten(results)})}}for(var batchSize=MAX_SIMULTANEOUS_REVS,numBatches=Math.ceil(opts.docs.length/batchSize),numDone=0,results=new Array(numBatches),i=0;numBatches>i;i++){var subOpts=pick(opts,["revs","attachments"]);subOpts.docs=opts.docs.slice(i*batchSize,Math.min(opts.docs.length,(i+1)*batchSize)),bulkGetShim(self,subOpts,onResult(i))}}var self=this,dbUrl=genUrl(host,""),supportsBulkGet=supportsBulkGetMap[dbUrl];"boolean"!=typeof supportsBulkGet?doBulkGet(function(err,res){err?4===Math.floor(err.status/100)?(supportsBulkGetMap[dbUrl]=!1,explainError(err.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),doBulkGetShim()):callback(err):(supportsBulkGetMap[dbUrl]=!0,callback(null,res))}):supportsBulkGet?doBulkGet(callback):doBulkGetShim()}),api._info=function(callback){setup().then(function(){ajax({},{method:"GET",url:genDBUrl(host,"")},function(err,res){return err?callback(err):(res.host=genDBUrl(host,""),void callback(null,res))})}).catch(callback)},api.get=adapterFun("get",function(id,opts,callback){function fetchAttachments(doc){var atts=doc._attachments,filenames=atts&&Object.keys(atts);return atts&&filenames.length?Promise.all(filenames.map(function(filename){var att=atts[filename],path=encodeDocId(doc._id)+"/"+encodeAttachmentId(filename)+"?rev="+doc._rev;return ajaxPromise(opts,{method:"GET",url:genDBUrl(host,path),binary:!0}).then(function(blob){return opts.binary?blob:blufferToBase64(blob)}).then(function(data){delete att.stub,delete att.length,att.data=data})})):void 0}function fetchAllAttachments(docOrDocs){return Array.isArray(docOrDocs)?Promise.all(docOrDocs.map(function(doc){return doc.ok?fetchAttachments(doc.ok):void 0})):fetchAttachments(docOrDocs)}"function"==typeof opts&&(callback=opts,opts={}),opts=clone(opts);var params={};opts.revs&&(params.revs=!0),opts.revs_info&&(params.revs_info=!0),opts.open_revs&&("all"!==opts.open_revs&&(opts.open_revs=JSON.stringify(opts.open_revs)),params.open_revs=opts.open_revs),opts.rev&&(params.rev=opts.rev),opts.conflicts&&(params.conflicts=opts.conflicts),id=encodeDocId(id);var options={method:"GET",url:genDBUrl(host,id+paramsToStr(params))};ajaxPromise(opts,options).then(function(res){return Promise.resolve().then(function(){return opts.attachments?fetchAllAttachments(res):void 0}).then(function(){callback(null,res)})}).catch(callback)}),api.remove=adapterFun("remove",function(docOrId,optsOrRev,opts,callback){var doc;"string"==typeof optsOrRev?(doc={_id:docOrId,_rev:optsOrRev},"function"==typeof opts&&(callback=opts,opts={})):(doc=docOrId,"function"==typeof optsOrRev?(callback=optsOrRev,opts={}):(callback=opts,opts=optsOrRev));var rev=doc._rev||opts.rev;ajax(opts,{method:"DELETE",url:genDBUrl(host,encodeDocId(doc._id))+"?rev="+rev},callback)}),api.getAttachment=adapterFun("getAttachment",function(docId,attachmentId,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var params=opts.rev?"?rev="+opts.rev:"",url=genDBUrl(host,encodeDocId(docId))+"/"+encodeAttachmentId(attachmentId)+params;ajax(opts,{method:"GET",url:url,binary:!0},callback)}),api.removeAttachment=adapterFun("removeAttachment",function(docId,attachmentId,rev,callback){var url=genDBUrl(host,encodeDocId(docId)+"/"+encodeAttachmentId(attachmentId))+"?rev="+rev;ajax({},{method:"DELETE",url:url},callback)}),api.putAttachment=adapterFun("putAttachment",function(docId,attachmentId,rev,blob,type,callback){"function"==typeof type&&(callback=type,type=blob,blob=rev,rev=null);var id=encodeDocId(docId)+"/"+encodeAttachmentId(attachmentId),url=genDBUrl(host,id);if(rev&&(url+="?rev="+rev),"string"==typeof blob){var binary;try{binary=atob(blob)}catch(err){return callback(errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded"))}blob=binary?binStringToBluffer(binary,type):""}var opts={headers:{"Content-Type":type},method:"PUT",url:url,processData:!1,body:blob,timeout:ajaxOpts.timeout||6e4};ajax({},opts,callback)}),api._bulkDocs=function(req,opts,callback){req.new_edits=opts.new_edits,setup().then(function(){return Promise.all(req.docs.map(preprocessAttachments))}).then(function(){ajax(opts,{method:"POST",url:genDBUrl(host,"_bulk_docs"),body:req},function(err,results){return err?callback(err):(results.forEach(function(result){result.ok=!0}),void callback(null,results))})}).catch(callback)},api.allDocs=adapterFun("allDocs",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={}),opts=clone(opts);var body,params={},method="GET";opts.conflicts&&(params.conflicts=!0),opts.descending&&(params.descending=!0),
opts.include_docs&&(params.include_docs=!0),opts.attachments&&(params.attachments=!0),opts.key&&(params.key=JSON.stringify(opts.key)),opts.start_key&&(opts.startkey=opts.start_key),opts.startkey&&(params.startkey=JSON.stringify(opts.startkey)),opts.end_key&&(opts.endkey=opts.end_key),opts.endkey&&(params.endkey=JSON.stringify(opts.endkey)),"undefined"!=typeof opts.inclusive_end&&(params.inclusive_end=!!opts.inclusive_end),"undefined"!=typeof opts.limit&&(params.limit=opts.limit),"undefined"!=typeof opts.skip&&(params.skip=opts.skip);var paramStr=paramsToStr(params);if("undefined"!=typeof opts.keys){var keysAsString="keys="+encodeURIComponent(JSON.stringify(opts.keys));keysAsString.length+paramStr.length+1<=MAX_URL_LENGTH?paramStr+="&"+keysAsString:(method="POST",body={keys:opts.keys})}ajaxPromise(opts,{method:method,url:genDBUrl(host,"_all_docs"+paramStr),body:body}).then(function(res){opts.include_docs&&opts.attachments&&opts.binary&&res.rows.forEach(readAttachmentsAsBlobOrBuffer),callback(null,res)}).catch(callback)}),api._changes=function(opts){var batchSize="batch_size"in opts?opts.batch_size:CHANGES_BATCH_SIZE;opts=clone(opts),opts.timeout=opts.timeout||ajaxOpts.timeout||3e4;var returnDocs,params={timeout:opts.timeout-5e3},limit="undefined"!=typeof opts.limit?opts.limit:!1;returnDocs="return_docs"in opts?opts.return_docs:"returnDocs"in opts?opts.returnDocs:!0;var leftToFetch=limit;if(opts.style&&(params.style=opts.style),(opts.include_docs||opts.filter&&"function"==typeof opts.filter)&&(params.include_docs=!0),opts.attachments&&(params.attachments=!0),opts.continuous&&(params.feed="longpoll"),opts.conflicts&&(params.conflicts=!0),opts.descending&&(params.descending=!0),"heartbeat"in opts?opts.heartbeat&&(params.heartbeat=opts.heartbeat):params.heartbeat=1e4,opts.filter&&"string"==typeof opts.filter&&(params.filter=opts.filter,"_view"===opts.filter&&opts.view&&"string"==typeof opts.view&&(params.view=opts.view)),opts.query_params&&"object"==typeof opts.query_params)for(var param_name in opts.query_params)opts.query_params.hasOwnProperty(param_name)&&(params[param_name]=opts.query_params[param_name]);var body,method="GET";if(opts.doc_ids){params.filter="_doc_ids";var docIdsJson=JSON.stringify(opts.doc_ids);docIdsJson.length<MAX_URL_LENGTH?params.doc_ids=docIdsJson:(method="POST",body={doc_ids:opts.doc_ids})}var xhr,lastFetchedSeq,fetch=function(since,callback){if(!opts.aborted){params.since=since,"object"==typeof params.since&&(params.since=JSON.stringify(params.since)),opts.descending?limit&&(params.limit=leftToFetch):params.limit=!limit||leftToFetch>batchSize?batchSize:leftToFetch;var xhrOpts={method:method,url:genDBUrl(host,"_changes"+paramsToStr(params)),timeout:opts.timeout,body:body};lastFetchedSeq=since,opts.aborted||setup().then(function(){xhr=ajax(opts,xhrOpts,callback)}).catch(callback)}},results={results:[]},fetched=function(err,res){if(!opts.aborted){var raw_results_length=0;if(res&&res.results){raw_results_length=res.results.length,results.last_seq=res.last_seq;var req={};req.query=opts.query_params,res.results=res.results.filter(function(c){leftToFetch--;var ret=filterChange(opts)(c);return ret&&(opts.include_docs&&opts.attachments&&opts.binary&&readAttachmentsAsBlobOrBuffer(c),returnDocs&&results.results.push(c),opts.onChange(c)),ret})}else if(err)return opts.aborted=!0,void opts.complete(err);res&&res.last_seq&&(lastFetchedSeq=res.last_seq);var finished=limit&&0>=leftToFetch||res&&batchSize>raw_results_length||opts.descending;(!opts.continuous||limit&&0>=leftToFetch)&&finished?opts.complete(null,results):setTimeout(function(){fetch(lastFetchedSeq,fetched)},0)}};return fetch(opts.since||0,fetched),{cancel:function(){opts.aborted=!0,xhr&&xhr.abort()}}},api.revsDiff=adapterFun("revsDiff",function(req,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),ajax(opts,{method:"POST",url:genDBUrl(host,"_revs_diff"),body:req},callback)}),api._close=function(callback){callback()},api._destroy=function(options,callback){ajax(options,{url:genDBUrl(host,""),method:"DELETE"},function(err,resp){return err&&err.status&&404!==err.status?callback(err):(api.emit("destroyed"),api.constructor.emit("destroyed",opts.name),void callback(null,resp))})}}var CHANGES_BATCH_SIZE=25,MAX_SIMULTANEOUS_REVS=50,supportsBulkGetMap={},MAX_URL_LENGTH=1800,extend=require("js-extend").extend,pick=require("../../deps/pick"),filterChange=require("../../deps/filterChange"),coreAdapterFun=require("../../deps/adapterFun"),explainError=require("../../deps/ajax/explainError"),binStringToBluffer=require("../../deps/binary/binaryStringToBlobOrBuffer"),b64StringToBluffer=require("../../deps/binary/base64StringToBlobOrBuffer"),utils=require("../../utils"),Promise=require("../../deps/promise"),clone=require("../../deps/clone"),parseUri=require("../../deps/parseUri"),getArguments=require("argsarray"),base64=require("../../deps/binary/base64"),btoa=base64.btoa,atob=base64.atob,errors=require("../../deps/errors"),log=require("debug")("pouchdb:http"),blufferToBase64=require("../../deps/binary/blobOrBufferToBase64"),bulkGetShim=require("../../deps/bulkGetShim"),flatten=require("../../deps/flatten");HttpPouch.valid=function(){return!0},module.exports=HttpPouch},{"../../deps/adapterFun":78,"../../deps/ajax/explainError":83,"../../deps/binary/base64":87,"../../deps/binary/base64StringToBlobOrBuffer":88,"../../deps/binary/binaryStringToBlobOrBuffer":90,"../../deps/binary/blobOrBufferToBase64":92,"../../deps/bulkGetShim":97,"../../deps/clone":98,"../../deps/errors":109,"../../deps/filterChange":110,"../../deps/flatten":111,"../../deps/parseUri":124,"../../deps/pick":125,"../../deps/promise":126,"../../utils":151,argsarray:153,debug:154,"js-extend":158}],65:[function(require,module){"use strict";function createKeyRange(start,end,inclusiveEnd,key,descending){try{if(start&&end)return descending?IDBKeyRange.bound(end,start,!inclusiveEnd,!1):IDBKeyRange.bound(start,end,!1,!inclusiveEnd);if(start)return descending?IDBKeyRange.upperBound(start):IDBKeyRange.lowerBound(start);if(end)return descending?IDBKeyRange.lowerBound(end,!inclusiveEnd):IDBKeyRange.upperBound(end,!inclusiveEnd);if(key)return IDBKeyRange.only(key)}catch(e){return{error:e}}return null}function handleKeyRangeError(api,opts,err,callback){return"DataError"===err.name&&0===err.code?callback(null,{total_rows:api._meta.docCount,offset:opts.skip,rows:[]}):void callback(errors.error(errors.IDB_ERROR,err.name,err.message))}function idbAllDocs(opts,api,idb,callback){function allDocsQuery(opts,callback){function fetchDocAsynchronously(metadata,row,winningRev){var key=metadata.id+"::"+winningRev;docIdRevIndex.get(key).onsuccess=function(e){row.doc=decodeDoc(e.target.result),opts.conflicts&&(row.doc._conflicts=collectConflicts(metadata)),fetchAttachmentsIfNecessary(row.doc,opts,txn)}}function allDocsInner(cursor,winningRev,metadata){var row={id:metadata.id,key:metadata.id,value:{rev:winningRev}},deleted=metadata.deleted;if("ok"===opts.deleted)results.push(row),deleted?(row.value.deleted=!0,row.doc=null):opts.include_docs&&fetchDocAsynchronously(metadata,row,winningRev);else if(!deleted&&skip--<=0&&(results.push(row),opts.include_docs&&fetchDocAsynchronously(metadata,row,winningRev),0===--limit))return;cursor.continue()}function onGetCursor(e){docCount=api._meta.docCount;var cursor=e.target.result;if(cursor){var metadata=decodeMetadata(cursor.value),winningRev=metadata.winningRev;allDocsInner(cursor,winningRev,metadata)}}function onResultsReady(){callback(null,{total_rows:docCount,offset:opts.skip,rows:results})}function onTxnComplete(){opts.attachments?postProcessAttachments(results,opts.binary).then(onResultsReady):onResultsReady()}var start="startkey"in opts?opts.startkey:!1,end="endkey"in opts?opts.endkey:!1,key="key"in opts?opts.key:!1,skip=opts.skip||0,limit="number"==typeof opts.limit?opts.limit:-1,inclusiveEnd=opts.inclusive_end!==!1,descending="descending"in opts&&opts.descending?"prev":null,keyRange=createKeyRange(start,end,inclusiveEnd,key,descending);if(keyRange&&keyRange.error)return handleKeyRangeError(api,opts,keyRange.error,callback);var stores=[DOC_STORE,BY_SEQ_STORE];opts.attachments&&stores.push(ATTACH_STORE);var txnResult=openTransactionSafely(idb,stores,"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,docStore=txn.objectStore(DOC_STORE),seqStore=txn.objectStore(BY_SEQ_STORE),cursor=descending?docStore.openCursor(keyRange,descending):docStore.openCursor(keyRange),docIdRevIndex=seqStore.index("_doc_id_rev"),results=[],docCount=0;txn.oncomplete=onTxnComplete,cursor.onsuccess=onGetCursor}function allDocs(opts,callback){return 0===opts.limit?callback(null,{total_rows:api._meta.docCount,offset:opts.skip,rows:[]}):void allDocsQuery(opts,callback)}allDocs(opts,callback)}var errors=require("../../deps/errors"),idbUtils=require("./utils"),idbConstants=require("./constants"),collectConflicts=require("../../deps/merge/collectConflicts"),ATTACH_STORE=idbConstants.ATTACH_STORE,BY_SEQ_STORE=idbConstants.BY_SEQ_STORE,DOC_STORE=idbConstants.DOC_STORE,decodeDoc=idbUtils.decodeDoc,decodeMetadata=idbUtils.decodeMetadata,fetchAttachmentsIfNecessary=idbUtils.fetchAttachmentsIfNecessary,postProcessAttachments=idbUtils.postProcessAttachments,openTransactionSafely=idbUtils.openTransactionSafely;module.exports=idbAllDocs},{"../../deps/errors":109,"../../deps/merge/collectConflicts":114,"./constants":68,"./utils":70}],66:[function(require,module){"use strict";function checkBlobSupport(txn){return new Promise(function(resolve){var blob=createBlob([""]);txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key"),txn.onabort=function(e){e.preventDefault(),e.stopPropagation(),resolve(!1)},txn.oncomplete=function(){var matchedChrome=navigator.userAgent.match(/Chrome\/(\d+)/),matchedEdge=navigator.userAgent.match(/Edge\//);resolve(matchedEdge||!matchedChrome||parseInt(matchedChrome[1],10)>=43)}}).catch(function(){return!1})}var createBlob=require("../../deps/binary/blob"),Promise=require("../../deps/promise"),idbConstants=require("./constants"),DETECT_BLOB_SUPPORT_STORE=idbConstants.DETECT_BLOB_SUPPORT_STORE;module.exports=checkBlobSupport},{"../../deps/binary/blob":91,"../../deps/promise":126,"./constants":68}],67:[function(require,module){"use strict";function idbBulkDocs(req,opts,api,idb,Changes,callback){function startTransaction(){var stores=[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,META_STORE,LOCAL_STORE,ATTACH_AND_SEQ_STORE],txnResult=openTransactionSafely(idb,stores,"readwrite");return txnResult.error?callback(txnResult.error):(txn=txnResult.txn,txn.onabort=idbError(callback),txn.ontimeout=idbError(callback),txn.oncomplete=complete,docStore=txn.objectStore(DOC_STORE),bySeqStore=txn.objectStore(BY_SEQ_STORE),attachStore=txn.objectStore(ATTACH_STORE),attachAndSeqStore=txn.objectStore(ATTACH_AND_SEQ_STORE),void verifyAttachments(function(err){return err?(preconditionErrored=!0,callback(err)):void fetchExistingDocs()}))}function idbProcessDocs(){processDocs(docInfos,api,fetchedDocs,txn,results,writeDoc,opts)}function fetchExistingDocs(){function checkDone(){++numFetched===docInfos.length&&idbProcessDocs()}function readMetadata(event){var metadata=decodeMetadata(event.target.result);metadata&&fetchedDocs.set(metadata.id,metadata),checkDone()}if(docInfos.length)for(var numFetched=0,i=0,len=docInfos.length;len>i;i++){var docInfo=docInfos[i];if(docInfo._id&&isLocalId(docInfo._id))checkDone();else{var req=docStore.get(docInfo.metadata.id);req.onsuccess=readMetadata}}}function complete(){preconditionErrored||(Changes.notify(api._meta.name),api._meta.docCount+=docCountDelta,callback(null,results))}function verifyAttachment(digest,callback){var req=attachStore.get(digest);req.onsuccess=function(e){if(e.target.result)callback();else{var err=errors.error(errors.MISSING_STUB,"unknown stub attachment with digest "+digest);err.status=412,callback(err)}}}function verifyAttachments(finish){function checkDone(){++numDone===digests.length&&finish(err)}var digests=[];if(docInfos.forEach(function(docInfo){docInfo.data&&docInfo.data._attachments&&Object.keys(docInfo.data._attachments).forEach(function(filename){var att=docInfo.data._attachments[filename];att.stub&&digests.push(att.digest)})}),!digests.length)return finish();var err,numDone=0;digests.forEach(function(digest){verifyAttachment(digest,function(attErr){attErr&&!err&&(err=attErr),checkDone()})})}function writeDoc(docInfo,winningRev,winningRevIsDeleted,newRevIsDeleted,isUpdate,delta,resultsIdx,callback){docCountDelta+=delta,docInfo.metadata.winningRev=winningRev,docInfo.metadata.deleted=winningRevIsDeleted;var doc=docInfo.data;doc._id=docInfo.metadata.id,doc._rev=docInfo.metadata.rev,newRevIsDeleted&&(doc._deleted=!0);var hasAttachments=doc._attachments&&Object.keys(doc._attachments).length;return hasAttachments?writeAttachments(docInfo,winningRev,winningRevIsDeleted,isUpdate,resultsIdx,callback):void finishDoc(docInfo,winningRev,winningRevIsDeleted,isUpdate,resultsIdx,callback)}function autoCompact(docInfo){var revsToDelete=compactTree(docInfo.metadata);compactRevs(revsToDelete,docInfo.metadata.id,txn)}function finishDoc(docInfo,winningRev,winningRevIsDeleted,isUpdate,resultsIdx,callback){function afterPutDoc(e){isUpdate&&api.auto_compaction&&autoCompact(docInfo),metadata.seq=e.target.result,delete metadata.rev;var metadataToStore=encodeMetadata(metadata,winningRev,winningRevIsDeleted),metaDataReq=docStore.put(metadataToStore);metaDataReq.onsuccess=afterPutMetadata}function afterPutDocError(e){e.preventDefault(),e.stopPropagation();var index=bySeqStore.index("_doc_id_rev"),getKeyReq=index.getKey(doc._doc_id_rev);getKeyReq.onsuccess=function(e){var putReq=bySeqStore.put(doc,e.target.result);putReq.onsuccess=afterPutDoc}}function afterPutMetadata(){results[resultsIdx]={ok:!0,id:metadata.id,rev:winningRev},fetchedDocs.set(docInfo.metadata.id,docInfo.metadata),insertAttachmentMappings(docInfo,metadata.seq,callback)}var doc=docInfo.data,metadata=docInfo.metadata;doc._doc_id_rev=metadata.id+"::"+metadata.rev,delete doc._id,delete doc._rev;var putReq=bySeqStore.put(doc);putReq.onsuccess=afterPutDoc,putReq.onerror=afterPutDocError}function writeAttachments(docInfo,winningRev,winningRevIsDeleted,isUpdate,resultsIdx,callback){function collectResults(){numDone===attachments.length&&finishDoc(docInfo,winningRev,winningRevIsDeleted,isUpdate,resultsIdx,callback)}function attachmentSaved(){numDone++,collectResults()}var doc=docInfo.data,numDone=0,attachments=Object.keys(doc._attachments);attachments.forEach(function(key){var att=docInfo.data._attachments[key];if(att.stub)numDone++,collectResults();else{var data=att.data;delete att.data;var digest=att.digest;saveAttachment(digest,data,attachmentSaved)}})}function insertAttachmentMappings(docInfo,seq,callback){function checkDone(){++attsAdded===attsToAdd.length&&callback()}function add(att){var digest=docInfo.data._attachments[att].digest,req=attachAndSeqStore.put({seq:seq,digestSeq:digest+"::"+seq});req.onsuccess=checkDone,req.onerror=function(e){e.preventDefault(),e.stopPropagation(),checkDone()}}var attsAdded=0,attsToAdd=Object.keys(docInfo.data._attachments||{});if(!attsToAdd.length)return callback();for(var i=0;i<attsToAdd.length;i++)add(attsToAdd[i])}function saveAttachment(digest,data,callback){var getKeyReq=attachStore.count(digest);getKeyReq.onsuccess=function(e){var count=e.target.result;if(count)return callback();var newAtt={digest:digest,body:data},putReq=attachStore.put(newAtt);putReq.onsuccess=callback}}for(var txn,docStore,bySeqStore,attachStore,attachAndSeqStore,docInfoError,docInfos=req.docs,docCountDelta=0,i=0,len=docInfos.length;len>i;i++){var doc=docInfos[i];doc._id&&isLocalId(doc._id)||(doc=docInfos[i]=parseDoc.parseDoc(doc,opts.new_edits),doc.error&&!docInfoError&&(docInfoError=doc))}if(docInfoError)return callback(docInfoError);var results=new Array(docInfos.length),fetchedDocs=new collections.Map,preconditionErrored=!1,blobType=api._meta.blobSupport?"blob":"base64";preprocessAttachments(docInfos,blobType,function(err){return err?callback(err):void startTransaction()})}var collections=require("pouchdb-collections"),errors=require("../../deps/errors"),preprocessAttachments=require("../../deps/docs/preprocessAttachments"),processDocs=require("../../deps/docs/processDocs"),isLocalId=require("../../deps/docs/isLocalId"),compactTree=require("../../deps/merge/compactTree"),parseDoc=require("../../deps/docs/parseDoc"),idbUtils=require("./utils"),idbConstants=require("./constants"),ATTACH_AND_SEQ_STORE=idbConstants.ATTACH_AND_SEQ_STORE,ATTACH_STORE=idbConstants.ATTACH_STORE,BY_SEQ_STORE=idbConstants.BY_SEQ_STORE,DOC_STORE=idbConstants.DOC_STORE,LOCAL_STORE=idbConstants.LOCAL_STORE,META_STORE=idbConstants.META_STORE,compactRevs=idbUtils.compactRevs,decodeMetadata=idbUtils.decodeMetadata,encodeMetadata=idbUtils.encodeMetadata,idbError=idbUtils.idbError,openTransactionSafely=idbUtils.openTransactionSafely;module.exports=idbBulkDocs},{"../../deps/docs/isLocalId":100,"../../deps/docs/parseDoc":103,"../../deps/docs/preprocessAttachments":104,"../../deps/docs/processDocs":105,"../../deps/errors":109,"../../deps/merge/compactTree":116,"./constants":68,"./utils":70,"pouchdb-collections":163}],68:[function(require,module,exports){"use strict";exports.ADAPTER_VERSION=5,exports.DOC_STORE="document-store",exports.BY_SEQ_STORE="by-sequence",exports.ATTACH_STORE="attach-store",exports.ATTACH_AND_SEQ_STORE="attach-seq-store",exports.META_STORE="meta-store",exports.LOCAL_STORE="local-store",exports.DETECT_BLOB_SUPPORT_STORE="detect-blob-support"},{}],69:[function(require,module){(function(process){"use strict";function IdbPouch(opts,callback){var api=this;taskQueue.queue.push({action:function(thisCallback){init(api,opts,thisCallback)},callback:callback}),applyNext()}function init(api,opts,callback){function createSchema(db){var docStore=db.createObjectStore(DOC_STORE,{keyPath:"id"});db.createObjectStore(BY_SEQ_STORE,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),db.createObjectStore(ATTACH_STORE,{keyPath:"digest"}),db.createObjectStore(META_STORE,{keyPath:"id",autoIncrement:!1}),db.createObjectStore(DETECT_BLOB_SUPPORT_STORE),docStore.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),db.createObjectStore(LOCAL_STORE,{keyPath:"_id"});var attAndSeqStore=db.createObjectStore(ATTACH_AND_SEQ_STORE,{autoIncrement:!0});attAndSeqStore.createIndex("seq","seq"),attAndSeqStore.createIndex("digestSeq","digestSeq",{unique:!0})}function addDeletedOrLocalIndex(txn,callback){var docStore=txn.objectStore(DOC_STORE);docStore.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),docStore.openCursor().onsuccess=function(event){var cursor=event.target.result;if(cursor){var metadata=cursor.value,deleted=isDeleted(metadata);metadata.deletedOrLocal=deleted?"1":"0",docStore.put(metadata),cursor.continue()}else callback()}}function createLocalStoreSchema(db){db.createObjectStore(LOCAL_STORE,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function migrateLocalStore(txn,cb){var localStore=txn.objectStore(LOCAL_STORE),docStore=txn.objectStore(DOC_STORE),seqStore=txn.objectStore(BY_SEQ_STORE),cursor=docStore.openCursor();cursor.onsuccess=function(event){var cursor=event.target.result;if(cursor){var metadata=cursor.value,docId=metadata.id,local=isLocalId(docId),rev=calculateWinningRev(metadata);if(local){var docIdRev=docId+"::"+rev,start=docId+"::",end=docId+"::~",index=seqStore.index("_doc_id_rev"),range=IDBKeyRange.bound(start,end,!1,!1),seqCursor=index.openCursor(range);seqCursor.onsuccess=function(e){if(seqCursor=e.target.result){var data=seqCursor.value;data._doc_id_rev===docIdRev&&localStore.put(data),seqStore.delete(seqCursor.primaryKey),seqCursor.continue()}else docStore.delete(cursor.primaryKey),cursor.continue()}}else cursor.continue()}else cb&&cb()}}function addAttachAndSeqStore(db){var attAndSeqStore=db.createObjectStore(ATTACH_AND_SEQ_STORE,{autoIncrement:!0});attAndSeqStore.createIndex("seq","seq"),attAndSeqStore.createIndex("digestSeq","digestSeq",{unique:!0})}function migrateAttsAndSeqs(txn,callback){var seqStore=txn.objectStore(BY_SEQ_STORE),attStore=txn.objectStore(ATTACH_STORE),attAndSeqStore=txn.objectStore(ATTACH_AND_SEQ_STORE),req=attStore.count();req.onsuccess=function(e){var count=e.target.result;return count?void(seqStore.openCursor().onsuccess=function(e){var cursor=e.target.result;if(!cursor)return callback();for(var doc=cursor.value,seq=cursor.primaryKey,atts=Object.keys(doc._attachments||{}),digestMap={},j=0;j<atts.length;j++){var att=doc._attachments[atts[j]];digestMap[att.digest]=!0}var digests=Object.keys(digestMap);for(j=0;j<digests.length;j++){var digest=digests[j];attAndSeqStore.put({seq:seq,digestSeq:digest+"::"+seq})}cursor.continue()}):callback()}}function migrateMetadata(txn){function decodeMetadataCompat(storedObject){return storedObject.data?decodeMetadata(storedObject):(storedObject.deleted="1"===storedObject.deletedOrLocal,storedObject)}var bySeqStore=txn.objectStore(BY_SEQ_STORE),docStore=txn.objectStore(DOC_STORE),cursor=docStore.openCursor();cursor.onsuccess=function(e){function fetchMetadataSeq(){var start=metadata.id+"::",end=metadata.id+"::",req=bySeqStore.index("_doc_id_rev").openCursor(IDBKeyRange.bound(start,end)),metadataSeq=0;req.onsuccess=function(e){var cursor=e.target.result;if(!cursor)return metadata.seq=metadataSeq,onGetMetadataSeq();var seq=cursor.primaryKey;seq>metadataSeq&&(metadataSeq=seq),cursor.continue()}}function onGetMetadataSeq(){var metadataToStore=encodeMetadata(metadata,metadata.winningRev,metadata.deleted),req=docStore.put(metadataToStore);req.onsuccess=function(){cursor.continue()}}var cursor=e.target.result;if(cursor){var metadata=decodeMetadataCompat(cursor.value);return metadata.winningRev=metadata.winningRev||calculateWinningRev(metadata),metadata.seq?onGetMetadataSeq():void fetchMetadataSeq()}}}var dbName=opts.name,idb=null;api._meta=null,api.type=function(){return"idb"},api._id=toPromise(function(callback){callback(null,api._meta.instanceId)}),api._bulkDocs=function(req,opts,callback){idbBulkDocs(req,opts,api,idb,IdbPouch.Changes,callback)},api._get=function(id,opts,callback){function finish(){callback(err,{doc:doc,metadata:metadata,ctx:txn})}var doc,metadata,err,txn=opts.ctx;if(!txn){var txnResult=openTransactionSafely(idb,[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);txn=txnResult.txn}txn.objectStore(DOC_STORE).get(id).onsuccess=function(e){if(metadata=decodeMetadata(e.target.result),!metadata)return err=errors.error(errors.MISSING_DOC,"missing"),finish();if(isDeleted(metadata)&&!opts.rev)return err=errors.error(errors.MISSING_DOC,"deleted"),finish();var objectStore=txn.objectStore(BY_SEQ_STORE),rev=opts.rev||metadata.winningRev,key=metadata.id+"::"+rev;objectStore.index("_doc_id_rev").get(key).onsuccess=function(e){return doc=e.target.result,doc&&(doc=decodeDoc(doc)),doc?void finish():(err=errors.error(errors.MISSING_DOC,"missing"),finish())}}},api._getAttachment=function(attachment,opts,callback){var txn;if(opts.ctx)txn=opts.ctx;else{var txnResult=openTransactionSafely(idb,[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);txn=txnResult.txn}var digest=attachment.digest,type=attachment.content_type;txn.objectStore(ATTACH_STORE).get(digest).onsuccess=function(e){var body=e.target.result.body;readBlobData(body,type,opts.binary,function(blobData){callback(null,blobData)})}},api._info=function(callback){if(null===idb||!cachedDBs[dbName]){var error=new Error("db isn't open");return error.id="idbNull",callback(error)}var updateSeq,docCount,txnResult=openTransactionSafely(idb,[BY_SEQ_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,cursor=txn.objectStore(BY_SEQ_STORE).openCursor(null,"prev");cursor.onsuccess=function(event){var cursor=event.target.result;updateSeq=cursor?cursor.key:0,docCount=api._meta.docCount},txn.oncomplete=function(){callback(null,{doc_count:docCount,update_seq:updateSeq,idb_attachment_format:api._meta.blobSupport?"binary":"base64"})}},api._allDocs=function(opts,callback){idbAllDocs(opts,api,idb,callback)},api._changes=function(opts){function onGetCursor(cursor){function onGetMetadata(){return metadata.seq!==seq?cursor.continue():(lastSeq=seq,metadata.winningRev===doc._rev?onGetWinningDoc(doc):void fetchWinningDoc())}function fetchWinningDoc(){var docIdRev=doc._id+"::"+metadata.winningRev,req=docIdRevIndex.get(docIdRev);req.onsuccess=function(e){onGetWinningDoc(decodeDoc(e.target.result))}}function onGetWinningDoc(winningDoc){var change=opts.processChange(winningDoc,metadata,opts);change.seq=metadata.seq;var filtered=filter(change);return"object"==typeof filtered?opts.complete(filtered):(filtered&&(numResults++,returnDocs&&results.push(change),opts.attachments&&opts.include_docs?fetchAttachmentsIfNecessary(winningDoc,opts,txn,function(){postProcessAttachments([change],opts.binary).then(function(){opts.onChange(change)})}):opts.onChange(change)),void(numResults!==limit&&cursor.continue()))}var doc=decodeDoc(cursor.value),seq=cursor.key;if(docIds&&!docIds.has(doc._id))return cursor.continue();var metadata;return(metadata=docIdsToMetadata.get(doc._id))?onGetMetadata():void(docStore.get(doc._id).onsuccess=function(event){metadata=decodeMetadata(event.target.result),docIdsToMetadata.set(doc._id,metadata),onGetMetadata()})}function onsuccess(event){var cursor=event.target.result;cursor&&onGetCursor(cursor)}function fetchChanges(){var objectStores=[DOC_STORE,BY_SEQ_STORE];opts.attachments&&objectStores.push(ATTACH_STORE);var txnResult=openTransactionSafely(idb,objectStores,"readonly");if(txnResult.error)return opts.complete(txnResult.error);txn=txnResult.txn,txn.onabort=idbError(opts.complete),txn.oncomplete=onTxnComplete,bySeqStore=txn.objectStore(BY_SEQ_STORE),docStore=txn.objectStore(DOC_STORE),docIdRevIndex=bySeqStore.index("_doc_id_rev");var req;req=opts.descending?bySeqStore.openCursor(null,"prev"):bySeqStore.openCursor(IDBKeyRange.lowerBound(opts.since,!0)),req.onsuccess=onsuccess}function onTxnComplete(){function finish(){opts.complete(null,{results:results,last_seq:lastSeq})}!opts.continuous&&opts.attachments?postProcessAttachments(results).then(finish):finish()}if(opts=clone(opts),opts.continuous){var id=dbName+":"+uuid();return IdbPouch.Changes.addListener(dbName,id,api,opts),IdbPouch.Changes.notify(dbName),{cancel:function(){IdbPouch.Changes.removeListener(dbName,id)}}}var docIds=opts.doc_ids&&new collections.Set(opts.doc_ids);opts.since=opts.since||0;var lastSeq=opts.since,limit="limit"in opts?opts.limit:-1;0===limit&&(limit=1);var returnDocs;returnDocs="return_docs"in opts?opts.return_docs:"returnDocs"in opts?opts.returnDocs:!0;var txn,bySeqStore,docStore,docIdRevIndex,results=[],numResults=0,filter=filterChange(opts),docIdsToMetadata=new collections.Map;fetchChanges()},api._close=function(callback){return null===idb?callback(errors.error(errors.NOT_OPEN)):(idb.close(),delete cachedDBs[dbName],idb=null,void callback())},api._getRevisionTree=function(docId,callback){var txnResult=openTransactionSafely(idb,[DOC_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,req=txn.objectStore(DOC_STORE).get(docId);req.onsuccess=function(event){var doc=decodeMetadata(event.target.result);doc?callback(null,doc.rev_tree):callback(errors.error(errors.MISSING_DOC))}},api._doCompaction=function(docId,revs,callback){var stores=[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,ATTACH_AND_SEQ_STORE],txnResult=openTransactionSafely(idb,stores,"readwrite");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,docStore=txn.objectStore(DOC_STORE);docStore.get(docId).onsuccess=function(event){var metadata=decodeMetadata(event.target.result);traverseRevTree(metadata.rev_tree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash;-1!==revs.indexOf(rev)&&(opts.status="missing")}),compactRevs(revs,docId,txn);var winningRev=metadata.winningRev,deleted=metadata.deleted;txn.objectStore(DOC_STORE).put(encodeMetadata(metadata,winningRev,deleted))},txn.onabort=idbError(callback),txn.oncomplete=function(){callback()}},api._getLocal=function(id,callback){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var tx=txnResult.txn,req=tx.objectStore(LOCAL_STORE).get(id);req.onerror=idbError(callback),req.onsuccess=function(e){var doc=e.target.result;doc?(delete doc._doc_id_rev,callback(null,doc)):callback(errors.error(errors.MISSING_DOC))}},api._putLocal=function(doc,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),delete doc._revisions;var oldRev=doc._rev,id=doc._id;doc._rev=oldRev?"0-"+(parseInt(oldRev.split("-")[1],10)+1):"0-1";var ret,tx=opts.ctx;if(!tx){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readwrite");if(txnResult.error)return callback(txnResult.error);tx=txnResult.txn,tx.onerror=idbError(callback),tx.oncomplete=function(){ret&&callback(null,ret)}}var req,oStore=tx.objectStore(LOCAL_STORE);oldRev?(req=oStore.get(id),req.onsuccess=function(e){var oldDoc=e.target.result;if(oldDoc&&oldDoc._rev===oldRev){var req=oStore.put(doc);req.onsuccess=function(){ret={ok:!0,id:doc._id,rev:doc._rev},opts.ctx&&callback(null,ret)}}else callback(errors.error(errors.REV_CONFLICT))}):(req=oStore.add(doc),req.onerror=function(e){callback(errors.error(errors.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},req.onsuccess=function(){ret={ok:!0,id:doc._id,rev:doc._rev},opts.ctx&&callback(null,ret)})},api._removeLocal=function(doc,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var tx=opts.ctx;if(!tx){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readwrite");if(txnResult.error)return callback(txnResult.error);tx=txnResult.txn,tx.oncomplete=function(){ret&&callback(null,ret)}}var ret,id=doc._id,oStore=tx.objectStore(LOCAL_STORE),req=oStore.get(id);req.onerror=idbError(callback),req.onsuccess=function(e){var oldDoc=e.target.result;oldDoc&&oldDoc._rev===doc._rev?(oStore.delete(id),ret={ok:!0,id:id,rev:"0-0"},opts.ctx&&callback(null,ret)):callback(errors.error(errors.MISSING_DOC))}},api._destroy=function(opts,callback){IdbPouch.Changes.removeAllListeners(dbName),IdbPouch.openReqList[dbName]&&IdbPouch.openReqList[dbName].result&&(IdbPouch.openReqList[dbName].result.close(),delete cachedDBs[dbName]);var req=indexedDB.deleteDatabase(dbName);req.onsuccess=function(){IdbPouch.openReqList[dbName]&&(IdbPouch.openReqList[dbName]=null),hasLocalStorage()&&dbName in localStorage&&delete localStorage[dbName],callback(null,{ok:!0})},req.onerror=idbError(callback)};var cached=cachedDBs[dbName];if(cached)return idb=cached.idb,api._meta=cached.global,void process.nextTick(function(){callback(null,api)});var req;req=opts.storage?indexedDB.open(dbName,{version:ADAPTER_VERSION,storage:opts.storage}):indexedDB.open(dbName,ADAPTER_VERSION),"openReqList"in IdbPouch||(IdbPouch.openReqList={}),IdbPouch.openReqList[dbName]=req,req.onupgradeneeded=function(e){function next(){var migration=migrations[i-1];i++,migration&&migration(txn,next)}var db=e.target.result;if(e.oldVersion<1)return createSchema(db);var txn=e.currentTarget.transaction;e.oldVersion<3&&createLocalStoreSchema(db),e.oldVersion<4&&addAttachAndSeqStore(db);var migrations=[addDeletedOrLocalIndex,migrateLocalStore,migrateAttsAndSeqs,migrateMetadata],i=e.oldVersion;next()},req.onsuccess=function(e){idb=e.target.result,idb.onversionchange=function(){idb.close(),delete cachedDBs[dbName]},idb.onabort=function(e){console.error("Database has a global failure",e.target.error),idb.close(),delete cachedDBs[dbName]};var txn=idb.transaction([META_STORE,DETECT_BLOB_SUPPORT_STORE,DOC_STORE],"readwrite"),req=txn.objectStore(META_STORE).get(META_STORE),blobSupport=null,docCount=null,instanceId=null;req.onsuccess=function(e){var checkSetupComplete=function(){
null!==blobSupport&&null!==docCount&&null!==instanceId&&(api._meta={name:dbName,instanceId:instanceId,blobSupport:blobSupport,docCount:docCount},cachedDBs[dbName]={idb:idb,global:api._meta},callback(null,api))},meta=e.target.result||{id:META_STORE};dbName+"_id"in meta?(instanceId=meta[dbName+"_id"],checkSetupComplete()):(instanceId=uuid(),meta[dbName+"_id"]=instanceId,txn.objectStore(META_STORE).put(meta).onsuccess=function(){checkSetupComplete()}),blobSupportPromise||(blobSupportPromise=checkBlobSupport(txn)),blobSupportPromise.then(function(val){blobSupport=val,checkSetupComplete()});var index=txn.objectStore(DOC_STORE).index("deletedOrLocal");index.count(IDBKeyRange.only("0")).onsuccess=function(e){docCount=e.target.result,checkSetupComplete()}}},req.onerror=function(){var msg="Failed to open indexedDB, are you in private browsing mode?";console.error(msg),callback(errors.error(errors.IDB_ERROR,msg))}}var blobSupportPromise,clone=require("../../deps/clone"),uuid=require("../../deps/uuid"),collections=require("pouchdb-collections"),filterChange=require("../../deps/filterChange"),toPromise=require("../../deps/toPromise"),isDeleted=require("../../deps/docs/isDeleted"),isLocalId=require("../../deps/docs/isLocalId"),errors=require("../../deps/errors"),idbUtils=require("./utils"),idbConstants=require("./constants"),idbBulkDocs=require("./bulkDocs"),idbAllDocs=require("./allDocs"),checkBlobSupport=require("./blobSupport"),hasLocalStorage=require("../../deps/env/hasLocalStorage"),calculateWinningRev=require("../../deps/merge/winningRev"),traverseRevTree=require("../../deps/merge/traverseRevTree"),Changes=require("../../changesHandler"),ADAPTER_VERSION=idbConstants.ADAPTER_VERSION,ATTACH_AND_SEQ_STORE=idbConstants.ATTACH_AND_SEQ_STORE,ATTACH_STORE=idbConstants.ATTACH_STORE,BY_SEQ_STORE=idbConstants.BY_SEQ_STORE,DETECT_BLOB_SUPPORT_STORE=idbConstants.DETECT_BLOB_SUPPORT_STORE,DOC_STORE=idbConstants.DOC_STORE,LOCAL_STORE=idbConstants.LOCAL_STORE,META_STORE=idbConstants.META_STORE,applyNext=idbUtils.applyNext,compactRevs=idbUtils.compactRevs,decodeDoc=idbUtils.decodeDoc,decodeMetadata=idbUtils.decodeMetadata,encodeMetadata=idbUtils.encodeMetadata,fetchAttachmentsIfNecessary=idbUtils.fetchAttachmentsIfNecessary,idbError=idbUtils.idbError,postProcessAttachments=idbUtils.postProcessAttachments,readBlobData=idbUtils.readBlobData,taskQueue=idbUtils.taskQueue,openTransactionSafely=idbUtils.openTransactionSafely,cachedDBs={};IdbPouch.valid=function(){var isSafari="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!isSafari&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange},IdbPouch.Changes=new Changes,module.exports=IdbPouch}).call(this,require("_process"))},{"../../changesHandler":76,"../../deps/clone":98,"../../deps/docs/isDeleted":99,"../../deps/docs/isLocalId":100,"../../deps/env/hasLocalStorage":107,"../../deps/errors":109,"../../deps/filterChange":110,"../../deps/merge/traverseRevTree":120,"../../deps/merge/winningRev":121,"../../deps/toPromise":129,"../../deps/uuid":131,"./allDocs":65,"./blobSupport":66,"./bulkDocs":67,"./constants":68,"./utils":70,_process:44,"pouchdb-collections":163}],70:[function(require,module,exports){(function(process){"use strict";function tryCode(fun,that,args){try{fun.apply(that,args)}catch(err){"undefined"!=typeof PouchDB&&PouchDB.emit("error",err)}}var extend=require("js-extend").extend,Promise=require("../../deps/promise"),errors=require("../../deps/errors"),pick=require("../../deps/pick"),safeJsonParse=require("../../deps/safeJsonParse"),safeJsonStringify=require("../../deps/safeJsonStringify"),base64=require("../../deps/binary/base64"),btoa=base64.btoa,constants=require("./constants"),readAsBinaryString=require("../../deps/binary/readAsBinaryString"),b64StringToBlob=require("../../deps/binary/base64StringToBlobOrBuffer"),createBlob=require("../../deps/binary/blob");exports.taskQueue={running:!1,queue:[]},exports.applyNext=function(){if(!exports.taskQueue.running&&exports.taskQueue.queue.length){exports.taskQueue.running=!0;var item=exports.taskQueue.queue.shift();item.action(function(err,res){tryCode(item.callback,this,[err,res]),exports.taskQueue.running=!1,process.nextTick(exports.applyNext)})}},exports.idbError=function(callback){return function(evt){var message="unknown_error";evt.target&&evt.target.error&&(message=evt.target.error.name||evt.target.error.message),callback(errors.error(errors.IDB_ERROR,message,evt.type))}},exports.encodeMetadata=function(metadata,winningRev,deleted){return{data:safeJsonStringify(metadata),winningRev:winningRev,deletedOrLocal:deleted?"1":"0",seq:metadata.seq,id:metadata.id}},exports.decodeMetadata=function(storedObject){if(!storedObject)return null;var metadata=safeJsonParse(storedObject.data);return metadata.winningRev=storedObject.winningRev,metadata.deleted="1"===storedObject.deletedOrLocal,metadata.seq=storedObject.seq,metadata},exports.decodeDoc=function(doc){if(!doc)return doc;var idx=doc._doc_id_rev.lastIndexOf(":");return doc._id=doc._doc_id_rev.substring(0,idx-1),doc._rev=doc._doc_id_rev.substring(idx+1),delete doc._doc_id_rev,doc},exports.readBlobData=function(body,type,asBlob,callback){asBlob?callback(body?"string"!=typeof body?body:b64StringToBlob(body,type):createBlob([""],{type:type})):body?"string"!=typeof body?readAsBinaryString(body,function(binary){callback(btoa(binary))}):callback(body):callback("")},exports.fetchAttachmentsIfNecessary=function(doc,opts,txn,cb){function checkDone(){++numDone===attachments.length&&cb&&cb()}function fetchAttachment(doc,att){var attObj=doc._attachments[att],digest=attObj.digest,req=txn.objectStore(constants.ATTACH_STORE).get(digest);req.onsuccess=function(e){attObj.body=e.target.result.body,checkDone()}}var attachments=Object.keys(doc._attachments||{});if(!attachments.length)return cb&&cb();var numDone=0;attachments.forEach(function(att){opts.attachments&&opts.include_docs?fetchAttachment(doc,att):(doc._attachments[att].stub=!0,checkDone())})},exports.postProcessAttachments=function(results,asBlob){return Promise.all(results.map(function(row){if(row.doc&&row.doc._attachments){var attNames=Object.keys(row.doc._attachments);return Promise.all(attNames.map(function(att){var attObj=row.doc._attachments[att];if("body"in attObj){var body=attObj.body,type=attObj.content_type;return new Promise(function(resolve){exports.readBlobData(body,type,asBlob,function(data){row.doc._attachments[att]=extend(pick(attObj,["digest","content_type"]),{data:data}),resolve()})})}}))}}))},exports.compactRevs=function(revs,docId,txn){function checkDone(){count--,count||deleteOrphanedAttachments()}function deleteOrphanedAttachments(){possiblyOrphanedDigests.length&&possiblyOrphanedDigests.forEach(function(digest){var countReq=attAndSeqStore.index("digestSeq").count(IDBKeyRange.bound(digest+"::",digest+"::",!1,!1));countReq.onsuccess=function(e){var count=e.target.result;count||attStore.delete(digest)}})}var possiblyOrphanedDigests=[],seqStore=txn.objectStore(constants.BY_SEQ_STORE),attStore=txn.objectStore(constants.ATTACH_STORE),attAndSeqStore=txn.objectStore(constants.ATTACH_AND_SEQ_STORE),count=revs.length;revs.forEach(function(rev){var index=seqStore.index("_doc_id_rev"),key=docId+"::"+rev;index.getKey(key).onsuccess=function(e){var seq=e.target.result;if("number"!=typeof seq)return checkDone();seqStore.delete(seq);var cursor=attAndSeqStore.index("seq").openCursor(IDBKeyRange.only(seq));cursor.onsuccess=function(event){var cursor=event.target.result;if(cursor){var digest=cursor.value.digestSeq.split("::")[0];possiblyOrphanedDigests.push(digest),attAndSeqStore.delete(cursor.primaryKey),cursor.continue()}else checkDone()}}})},exports.openTransactionSafely=function(idb,stores,mode){try{return{txn:idb.transaction(stores,mode)}}catch(err){return{error:err}}}}).call(this,require("_process"))},{"../../deps/binary/base64":87,"../../deps/binary/base64StringToBlobOrBuffer":88,"../../deps/binary/blob":91,"../../deps/binary/readAsBinaryString":96,"../../deps/errors":109,"../../deps/pick":125,"../../deps/promise":126,"../../deps/safeJsonParse":127,"../../deps/safeJsonStringify":128,"./constants":68,_process:44,"js-extend":158}],71:[function(require,module){"use strict";function websqlBulkDocs(req,opts,api,db,Changes,callback){function complete(){return preconditionErrored?callback(preconditionErrored):(Changes.notify(api._name),api._docCount=-1,void callback(null,results))}function verifyAttachment(digest,callback){var sql="SELECT count(*) as cnt FROM "+ATTACH_STORE+" WHERE digest=?";tx.executeSql(sql,[digest],function(tx,result){if(0===result.rows.item(0).cnt){var err=errors.error(errors.MISSING_STUB,"unknown stub attachment with digest "+digest);callback(err)}else callback()})}function verifyAttachments(finish){function checkDone(){++numDone===digests.length&&finish(err)}var digests=[];if(docInfos.forEach(function(docInfo){docInfo.data&&docInfo.data._attachments&&Object.keys(docInfo.data._attachments).forEach(function(filename){var att=docInfo.data._attachments[filename];att.stub&&digests.push(att.digest)})}),!digests.length)return finish();var err,numDone=0;digests.forEach(function(digest){verifyAttachment(digest,function(attErr){attErr&&!err&&(err=attErr),checkDone()})})}function writeDoc(docInfo,winningRev,winningRevIsDeleted,newRevIsDeleted,isUpdate,delta,resultsIdx,callback){function finish(){function insertAttachmentMappings(seq,callback){function checkDone(){return++attsAdded===attsToAdd.length&&callback(),!1}function add(att){var sql="INSERT INTO "+ATTACH_AND_SEQ_STORE+" (digest, seq) VALUES (?,?)",sqlArgs=[data._attachments[att].digest,seq];tx.executeSql(sql,sqlArgs,checkDone,checkDone)}var attsAdded=0,attsToAdd=Object.keys(data._attachments||{});if(!attsToAdd.length)return callback();for(var i=0;i<attsToAdd.length;i++)add(attsToAdd[i])}var data=docInfo.data,deletedInt=newRevIsDeleted?1:0,id=data._id,rev=data._rev,json=stringifyDoc(data),sql="INSERT INTO "+BY_SEQ_STORE+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",sqlArgs=[id,rev,json,deletedInt];tx.executeSql(sql,sqlArgs,function(tx,result){var seq=result.insertId;insertAttachmentMappings(seq,function(){dataWritten(tx,seq)})},function(){var fetchSql=select("seq",BY_SEQ_STORE,null,"doc_id=? AND rev=?");return tx.executeSql(fetchSql,[id,rev],function(tx,res){var seq=res.rows.item(0).seq,sql="UPDATE "+BY_SEQ_STORE+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",sqlArgs=[json,deletedInt,id,rev];tx.executeSql(sql,sqlArgs,function(tx){insertAttachmentMappings(seq,function(){dataWritten(tx,seq)})})}),!1})}function collectResults(attachmentErr){err||(attachmentErr?(err=attachmentErr,callback(err)):recv===attachments.length&&finish())}function attachmentSaved(err){recv++,collectResults(err)}function autoCompact(){if(isUpdate&&api.auto_compaction){var id=docInfo.metadata.id,revsToDelete=compactTree(docInfo.metadata);compactRevs(revsToDelete,id,tx)}}function dataWritten(tx,seq){autoCompact(),docInfo.metadata.seq=seq,delete docInfo.metadata.rev;var sql=isUpdate?"UPDATE "+DOC_STORE+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id="+DOC_STORE+".id AND rev=?) WHERE id=?":"INSERT INTO "+DOC_STORE+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",metadataStr=safeJsonStringify(docInfo.metadata),id=docInfo.metadata.id,params=isUpdate?[metadataStr,seq,winningRev,id]:[id,seq,seq,metadataStr];tx.executeSql(sql,params,function(){results[resultsIdx]={ok:!0,id:docInfo.metadata.id,rev:winningRev},fetchedDocs.set(id,docInfo.metadata),callback()})}var err=null,recv=0;docInfo.data._id=docInfo.metadata.id,docInfo.data._rev=docInfo.metadata.rev;var attachments=Object.keys(docInfo.data._attachments||{});newRevIsDeleted&&(docInfo.data._deleted=!0),attachments.forEach(function(key){var att=docInfo.data._attachments[key];if(att.stub)recv++,collectResults();else{var data=att.data;delete att.data;var digest=att.digest;saveAttachment(digest,data,attachmentSaved)}}),attachments.length||finish()}function websqlProcessDocs(){processDocs(docInfos,api,fetchedDocs,tx,results,writeDoc,opts)}function fetchExistingDocs(callback){function checkDone(){++numFetched===docInfos.length&&callback()}if(!docInfos.length)return callback();var numFetched=0;docInfos.forEach(function(docInfo){if(docInfo._id&&isLocalId(docInfo._id))return checkDone();var id=docInfo.metadata.id;tx.executeSql("SELECT json FROM "+DOC_STORE+" WHERE id = ?",[id],function(tx,result){if(result.rows.length){var metadata=safeJsonParse(result.rows.item(0).json);fetchedDocs.set(id,metadata)}checkDone()})})}function saveAttachment(digest,data,callback){var sql="SELECT digest FROM "+ATTACH_STORE+" WHERE digest=?";tx.executeSql(sql,[digest],function(tx,result){return result.rows.length?callback():(sql="INSERT INTO "+ATTACH_STORE+" (digest, body, escaped) VALUES (?,?,1)",void tx.executeSql(sql,[digest,websqlUtils.escapeBlob(data)],function(){callback()},function(){return callback(),!1}))})}var newEdits=opts.new_edits,userDocs=req.docs,docInfos=userDocs.map(function(doc){if(doc._id&&isLocalId(doc._id))return doc;var newDoc=parseDoc.parseDoc(doc,newEdits);return newDoc}),docInfoErrors=docInfos.filter(function(docInfo){return docInfo.error});if(docInfoErrors.length)return callback(docInfoErrors[0]);var tx,preconditionErrored,results=new Array(docInfos.length),fetchedDocs=new collections.Map;preprocessAttachments(docInfos,"binary",function(err){return err?callback(err):void db.transaction(function(txn){tx=txn,verifyAttachments(function(err){err?preconditionErrored=err:fetchExistingDocs(websqlProcessDocs)})},unknownError(callback),complete)})}var collections=require("pouchdb-collections"),errors=require("../../deps/errors"),preprocessAttachments=require("../../deps/docs/preprocessAttachments"),isLocalId=require("../../deps/docs/isLocalId"),processDocs=require("../../deps/docs/processDocs"),safeJsonParse=require("../../deps/safeJsonParse"),safeJsonStringify=require("../../deps/safeJsonStringify"),compactTree=require("../../deps/merge/compactTree"),parseDoc=require("../../deps/docs/parseDoc"),websqlUtils=require("./utils"),websqlConstants=require("./constants"),DOC_STORE=websqlConstants.DOC_STORE,BY_SEQ_STORE=websqlConstants.BY_SEQ_STORE,ATTACH_STORE=websqlConstants.ATTACH_STORE,ATTACH_AND_SEQ_STORE=websqlConstants.ATTACH_AND_SEQ_STORE,select=websqlUtils.select,stringifyDoc=websqlUtils.stringifyDoc,compactRevs=websqlUtils.compactRevs,unknownError=websqlUtils.websqlError;module.exports=websqlBulkDocs},{"../../deps/docs/isLocalId":100,"../../deps/docs/parseDoc":103,"../../deps/docs/preprocessAttachments":104,"../../deps/docs/processDocs":105,"../../deps/errors":109,"../../deps/merge/compactTree":116,"../../deps/safeJsonParse":127,"../../deps/safeJsonStringify":128,"./constants":72,"./utils":74,"pouchdb-collections":163}],72:[function(require,module,exports){"use strict";function quote(str){return"'"+str+"'"}exports.ADAPTER_VERSION=7,exports.DOC_STORE=quote("document-store"),exports.BY_SEQ_STORE=quote("by-sequence"),exports.ATTACH_STORE=quote("attach-store"),exports.LOCAL_STORE=quote("local-store"),exports.META_STORE=quote("metadata-store"),exports.ATTACH_AND_SEQ_STORE=quote("attach-seq-store")},{}],73:[function(require,module){"use strict";function fetchAttachmentsIfNecessary(doc,opts,api,txn,cb){function checkDone(){++numDone===attachments.length&&cb&&cb()}function fetchAttachment(doc,att){var attObj=doc._attachments[att],attOpts={binary:opts.binary,ctx:txn};api._getAttachment(attObj,attOpts,function(_,data){doc._attachments[att]=extend(pick(attObj,["digest","content_type"]),{data:data}),checkDone()})}var attachments=Object.keys(doc._attachments||{});if(!attachments.length)return cb&&cb();var numDone=0;attachments.forEach(function(att){opts.attachments&&opts.include_docs?fetchAttachment(doc,att):(doc._attachments[att].stub=!0,checkDone())})}function WebSqlPouch(opts,callback){function dbCreated(){hasLocalStorage()&&(window.localStorage["_pouch__websqldb_"+api._name]=!0),callback(null,api)}function runMigration2(tx,callback){tx.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),tx.executeSql("ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){tx.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL),tx.executeSql("ALTER TABLE "+DOC_STORE+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){tx.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+DOC_STORE+" (local, id)");var sql="SELECT "+DOC_STORE+".winningseq AS seq, "+DOC_STORE+".json AS metadata FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq";tx.executeSql(sql,[],function(tx,result){for(var deleted=[],local=[],i=0;i<result.rows.length;i++){var item=result.rows.item(i),seq=item.seq,metadata=JSON.parse(item.metadata);isDeleted(metadata)&&deleted.push(seq),isLocalId(metadata.id)&&local.push(metadata.id)}tx.executeSql("UPDATE "+DOC_STORE+"SET local = 1 WHERE id IN "+qMarks(local.length),local,function(){tx.executeSql("UPDATE "+BY_SEQ_STORE+" SET deleted = 1 WHERE seq IN "+qMarks(deleted.length),deleted,callback)})})})})}function runMigration3(tx,callback){var local="CREATE TABLE IF NOT EXISTS "+LOCAL_STORE+" (id UNIQUE, rev, json)";tx.executeSql(local,[],function(){var sql="SELECT "+DOC_STORE+".id AS id, "+BY_SEQ_STORE+".json AS data FROM "+BY_SEQ_STORE+" JOIN "+DOC_STORE+" ON "+BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq WHERE local = 1";tx.executeSql(sql,[],function(tx,res){function doNext(){if(!rows.length)return callback(tx);var row=rows.shift(),rev=JSON.parse(row.data)._rev;tx.executeSql("INSERT INTO "+LOCAL_STORE+" (id, rev, json) VALUES (?,?,?)",[row.id,rev,row.data],function(tx){tx.executeSql("DELETE FROM "+DOC_STORE+" WHERE id=?",[row.id],function(tx){tx.executeSql("DELETE FROM "+BY_SEQ_STORE+" WHERE seq=?",[row.seq],function(){doNext()})})})}for(var rows=[],i=0;i<res.rows.length;i++)rows.push(res.rows.item(i));doNext()})})}function runMigration4(tx,callback){function updateRows(rows){function doNext(){if(!rows.length)return callback(tx);var row=rows.shift(),doc_id_rev=parseHexString(row.hex,encoding),idx=doc_id_rev.lastIndexOf("::"),doc_id=doc_id_rev.substring(0,idx),rev=doc_id_rev.substring(idx+2),sql="UPDATE "+BY_SEQ_STORE+" SET doc_id=?, rev=? WHERE doc_id_rev=?";tx.executeSql(sql,[doc_id,rev,doc_id_rev],function(){doNext()})}doNext()}var sql="ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN doc_id";tx.executeSql(sql,[],function(tx){var sql="ALTER TABLE "+BY_SEQ_STORE+" ADD COLUMN rev";tx.executeSql(sql,[],function(tx){tx.executeSql(BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL,[],function(tx){var sql="SELECT hex(doc_id_rev) as hex FROM "+BY_SEQ_STORE;tx.executeSql(sql,[],function(tx,res){for(var rows=[],i=0;i<res.rows.length;i++)rows.push(res.rows.item(i));updateRows(rows)})})})})}function runMigration5(tx,callback){function migrateAttsAndSeqs(tx){var sql="SELECT COUNT(*) AS cnt FROM "+ATTACH_STORE;tx.executeSql(sql,[],function(tx,res){function nextPage(){var sql=select(SELECT_DOCS+", "+DOC_STORE+".id AS id",[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,null,DOC_STORE+".id ");sql+=" LIMIT "+pageSize+" OFFSET "+offset,offset+=pageSize,tx.executeSql(sql,[],function(tx,res){function addDigestSeq(digest,seq){var seqs=digestSeqs[digest]=digestSeqs[digest]||[];-1===seqs.indexOf(seq)&&seqs.push(seq)}if(!res.rows.length)return callback(tx);for(var digestSeqs={},i=0;i<res.rows.length;i++)for(var row=res.rows.item(i),doc=unstringifyDoc(row.data,row.id,row.rev),atts=Object.keys(doc._attachments||{}),j=0;j<atts.length;j++){var att=doc._attachments[atts[j]];addDigestSeq(att.digest,row.seq)}var digestSeqPairs=[];if(Object.keys(digestSeqs).forEach(function(digest){var seqs=digestSeqs[digest];seqs.forEach(function(seq){digestSeqPairs.push([digest,seq])})}),!digestSeqPairs.length)return nextPage();var numDone=0;digestSeqPairs.forEach(function(pair){var sql="INSERT INTO "+ATTACH_AND_SEQ_STORE+" (digest, seq) VALUES (?,?)";tx.executeSql(sql,pair,function(){++numDone===digestSeqPairs.length&&nextPage()})})})}var count=res.rows.item(0).cnt;if(!count)return callback(tx);var offset=0,pageSize=10;nextPage()})}var attachAndRev="CREATE TABLE IF NOT EXISTS "+ATTACH_AND_SEQ_STORE+" (digest, seq INTEGER)";tx.executeSql(attachAndRev,[],function(tx){tx.executeSql(ATTACH_AND_SEQ_STORE_ATTACH_INDEX_SQL,[],function(tx){tx.executeSql(ATTACH_AND_SEQ_STORE_SEQ_INDEX_SQL,[],migrateAttsAndSeqs)})})}function runMigration6(tx,callback){var sql="ALTER TABLE "+ATTACH_STORE+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";tx.executeSql(sql,[],callback)}function runMigration7(tx,callback){var sql="ALTER TABLE "+DOC_STORE+" ADD COLUMN max_seq INTEGER";tx.executeSql(sql,[],function(tx){var sql="UPDATE "+DOC_STORE+" SET max_seq=(SELECT MAX(seq) FROM "+BY_SEQ_STORE+" WHERE doc_id=id)";tx.executeSql(sql,[],function(tx){var sql="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+DOC_STORE+" (max_seq)";tx.executeSql(sql,[],callback)})})}function checkEncoding(tx,cb){tx.executeSql('SELECT HEX("a") AS hex',[],function(tx,res){var hex=res.rows.item(0).hex;encoding=2===hex.length?"UTF-8":"UTF-16",cb()})}function onGetInstanceId(){for(;idRequests.length>0;){var idCallback=idRequests.pop();idCallback(null,instanceId)}}function onGetVersion(tx,dbVersion){if(0===dbVersion){var meta="CREATE TABLE IF NOT EXISTS "+META_STORE+" (dbid, db_version INTEGER)",attach="CREATE TABLE IF NOT EXISTS "+ATTACH_STORE+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",attachAndRev="CREATE TABLE IF NOT EXISTS "+ATTACH_AND_SEQ_STORE+" (digest, seq INTEGER)",doc="CREATE TABLE IF NOT EXISTS "+DOC_STORE+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",seq="CREATE TABLE IF NOT EXISTS "+BY_SEQ_STORE+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",local="CREATE TABLE IF NOT EXISTS "+LOCAL_STORE+" (id UNIQUE, rev, json)";tx.executeSql(attach),tx.executeSql(local),tx.executeSql(attachAndRev,[],function(){tx.executeSql(ATTACH_AND_SEQ_STORE_SEQ_INDEX_SQL),tx.executeSql(ATTACH_AND_SEQ_STORE_ATTACH_INDEX_SQL)}),tx.executeSql(doc,[],function(){tx.executeSql(DOC_STORE_WINNINGSEQ_INDEX_SQL),tx.executeSql(seq,[],function(){tx.executeSql(BY_SEQ_STORE_DELETED_INDEX_SQL),tx.executeSql(BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL),tx.executeSql(meta,[],function(){var initSeq="INSERT INTO "+META_STORE+" (db_version, dbid) VALUES (?,?)";instanceId=uuid();var initSeqArgs=[ADAPTER_VERSION,instanceId];tx.executeSql(initSeq,initSeqArgs,function(){onGetInstanceId()})})})})}else{var setupDone=function(){var migrated=ADAPTER_VERSION>dbVersion;migrated&&tx.executeSql("UPDATE "+META_STORE+" SET db_version = "+ADAPTER_VERSION);var sql="SELECT dbid FROM "+META_STORE;tx.executeSql(sql,[],function(tx,result){instanceId=result.rows.item(0).dbid,onGetInstanceId()})},tasks=[runMigration2,runMigration3,runMigration4,runMigration5,runMigration6,runMigration7,setupDone],i=dbVersion,nextMigration=function(tx){tasks[i-1](tx,nextMigration),i++};nextMigration(tx)}}function setup(){db.transaction(function(tx){checkEncoding(tx,function(){fetchVersion(tx)})},websqlError(callback),dbCreated)}function fetchVersion(tx){var sql="SELECT sql FROM sqlite_master WHERE tbl_name = "+META_STORE;tx.executeSql(sql,[],function(tx,result){result.rows.length?/db_version/.test(result.rows.item(0).sql)?tx.executeSql("SELECT db_version FROM "+META_STORE,[],function(tx,result){var dbVersion=result.rows.item(0).db_version;onGetVersion(tx,dbVersion)}):tx.executeSql("ALTER TABLE "+META_STORE+" ADD COLUMN db_version INTEGER",[],function(){onGetVersion(tx,1)}):onGetVersion(tx,0)})}function countDocs(tx,callback){if(-1!==api._docCount)return callback(api._docCount);var sql=select("COUNT("+DOC_STORE+".id) AS 'num'",[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,BY_SEQ_STORE+".deleted=0");tx.executeSql(sql,[],function(tx,result){api._docCount=result.rows.item(0).num,callback(api._docCount)})}var encoding,api=this,instanceId=null,size=getSize(opts),idRequests=[];api._docCount=-1,api._name=opts.name;var openDBResult=openDB({name:api._name,version:POUCH_VERSION,description:api._name,size:size,location:opts.location,createFromLocation:opts.createFromLocation,androidDatabaseImplementation:opts.androidDatabaseImplementation});if(openDBResult.error)return websqlError(callback)(openDBResult.error);var db=openDBResult.db;"function"!=typeof db.readTransaction&&(db.readTransaction=db.transaction),isCordova()?window.addEventListener(api._name+"_pouch",function cordova_init(){window.removeEventListener(api._name+"_pouch",cordova_init,!1),setup()},!1):setup(),api.type=function(){return"websql"},api._id=toPromise(function(callback){callback(null,instanceId)}),api._info=function(callback){db.readTransaction(function(tx){countDocs(tx,function(docCount){var sql="SELECT MAX(seq) AS seq FROM "+BY_SEQ_STORE;tx.executeSql(sql,[],function(tx,res){var updateSeq=res.rows.item(0).seq||0;callback(null,{doc_count:docCount,update_seq:updateSeq,sqlite_plugin:db._sqlitePlugin,websql_encoding:encoding})})})},websqlError(callback))},api._bulkDocs=function(req,opts,callback){websqlBulkDocs(req,opts,api,db,WebSqlPouch.Changes,callback)},api._get=function(id,opts,callback){function finish(){callback(err,{doc:doc,metadata:metadata,ctx:tx})}var doc,metadata,err,tx=opts.ctx;if(!tx)return db.readTransaction(function(txn){api._get(id,extend({ctx:txn},opts),callback)});var sql,sqlArgs;opts.rev?(sql=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE+".id="+BY_SEQ_STORE+".doc_id",[BY_SEQ_STORE+".doc_id=?",BY_SEQ_STORE+".rev=?"]),sqlArgs=[id,opts.rev]):(sql=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,DOC_STORE+".id=?"),sqlArgs=[id]),tx.executeSql(sql,sqlArgs,function(a,results){if(!results.rows.length)return err=errors.error(errors.MISSING_DOC,"missing"),finish();var item=results.rows.item(0);return metadata=safeJsonParse(item.metadata),item.deleted&&!opts.rev?(err=errors.error(errors.MISSING_DOC,"deleted"),finish()):(doc=unstringifyDoc(item.data,metadata.id,item.rev),void finish())})},api._allDocs=function(opts,callback){var totalRows,results=[],start="startkey"in opts?opts.startkey:!1,end="endkey"in opts?opts.endkey:!1,key="key"in opts?opts.key:!1,descending="descending"in opts?opts.descending:!1,limit="limit"in opts?opts.limit:-1,offset="skip"in opts?opts.skip:0,inclusiveEnd=opts.inclusive_end!==!1,sqlArgs=[],criteria=[];if(key!==!1)criteria.push(DOC_STORE+".id = ?"),sqlArgs.push(key);else if(start!==!1||end!==!1){if(start!==!1&&(criteria.push(DOC_STORE+".id "+(descending?"<=":">=")+" ?"),sqlArgs.push(start)),end!==!1){var comparator=descending?">":"<";inclusiveEnd&&(comparator+="="),criteria.push(DOC_STORE+".id "+comparator+" ?"),sqlArgs.push(end)}key!==!1&&(criteria.push(DOC_STORE+".id = ?"),sqlArgs.push(key))}"ok"!==opts.deleted&&criteria.push(BY_SEQ_STORE+".deleted = 0"),db.readTransaction(function(tx){countDocs(tx,function(count){if(totalRows=count,0!==limit){var sql=select(SELECT_DOCS,[DOC_STORE,BY_SEQ_STORE],DOC_STORE_AND_BY_SEQ_JOINER,criteria,DOC_STORE+".id "+(descending?"DESC":"ASC"));sql+=" LIMIT "+limit+" OFFSET "+offset,tx.executeSql(sql,sqlArgs,function(tx,result){for(var i=0,l=result.rows.length;l>i;i++){var item=result.rows.item(i),metadata=safeJsonParse(item.metadata),id=metadata.id,data=unstringifyDoc(item.data,id,item.rev),winningRev=data._rev,doc={id:id,key:id,value:{rev:winningRev}};if(opts.include_docs&&(doc.doc=data,doc.doc._rev=winningRev,opts.conflicts&&(doc.doc._conflicts=collectConflicts(metadata)),fetchAttachmentsIfNecessary(doc.doc,opts,api,tx)),item.deleted){if("ok"!==opts.deleted)continue;doc.value.deleted=!0,doc.doc=null}results.push(doc)}})}})},websqlError(callback),function(){callback(null,{total_rows:totalRows,offset:opts.skip,rows:results})})},api._changes=function(opts){function fetchChanges(){var selectStmt=DOC_STORE+".json AS metadata, "+DOC_STORE+".max_seq AS maxSeq, "+BY_SEQ_STORE+".json AS winningDoc, "+BY_SEQ_STORE+".rev AS winningRev ",from=DOC_STORE+" JOIN "+BY_SEQ_STORE,joiner=DOC_STORE+".id="+BY_SEQ_STORE+".doc_id AND "+DOC_STORE+".winningseq="+BY_SEQ_STORE+".seq",criteria=["maxSeq > ?"],sqlArgs=[opts.since];opts.doc_ids&&(criteria.push(DOC_STORE+".id IN "+qMarks(opts.doc_ids.length)),sqlArgs=sqlArgs.concat(opts.doc_ids));var orderBy="maxSeq "+(descending?"DESC":"ASC"),sql=select(selectStmt,from,joiner,criteria,orderBy),filter=filterChange(opts);opts.view||opts.filter||(sql+=" LIMIT "+limit);var lastSeq=opts.since||0;db.readTransaction(function(tx){tx.executeSql(sql,sqlArgs,function(tx,result){function reportChange(change){return function(){opts.onChange(change)}}for(var i=0,l=result.rows.length;l>i;i++){var item=result.rows.item(i),metadata=safeJsonParse(item.metadata);lastSeq=item.maxSeq;var doc=unstringifyDoc(item.winningDoc,metadata.id,item.winningRev),change=opts.processChange(doc,metadata,opts);change.seq=item.maxSeq;var filtered=filter(change);if("object"==typeof filtered)return opts.complete(filtered);if(filtered&&(numResults++,returnDocs&&results.push(change),opts.attachments&&opts.include_docs?fetchAttachmentsIfNecessary(doc,opts,api,tx,reportChange(change)):reportChange(change)()),numResults===limit)break}})},websqlError(opts.complete),function(){opts.continuous||opts.complete(null,{results:results,last_seq:lastSeq})})}if(opts=clone(opts),opts.continuous){var id=api._name+":"+uuid();return WebSqlPouch.Changes.addListener(api._name,id,api,opts),WebSqlPouch.Changes.notify(api._name),{cancel:function(){WebSqlPouch.Changes.removeListener(api._name,id)}}}var descending=opts.descending;opts.since=opts.since&&!descending?opts.since:0;var limit="limit"in opts?opts.limit:-1;0===limit&&(limit=1);var returnDocs;returnDocs="return_docs"in opts?opts.return_docs:"returnDocs"in opts?opts.returnDocs:!0;var results=[],numResults=0;fetchChanges()},api._close=function(callback){callback()},api._getAttachment=function(attachment,opts,callback){var res,tx=opts.ctx,digest=attachment.digest,type=attachment.content_type,sql="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ATTACH_STORE+" WHERE digest=?";tx.executeSql(sql,[digest],function(tx,result){var item=result.rows.item(0),data=item.escaped?websqlUtils.unescapeBlob(item.body):parseHexString(item.body,encoding);res=opts.binary?binStringToBlob(data,type):btoa(data),callback(null,res)})},api._getRevisionTree=function(docId,callback){db.readTransaction(function(tx){var sql="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";tx.executeSql(sql,[docId],function(tx,result){if(result.rows.length){var data=safeJsonParse(result.rows.item(0).metadata);callback(null,data.rev_tree)}else callback(errors.error(errors.MISSING_DOC))})})},api._doCompaction=function(docId,revs,callback){return revs.length?void db.transaction(function(tx){var sql="SELECT json AS metadata FROM "+DOC_STORE+" WHERE id = ?";tx.executeSql(sql,[docId],function(tx,result){var metadata=safeJsonParse(result.rows.item(0).metadata);traverseRevTree(metadata.rev_tree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash;-1!==revs.indexOf(rev)&&(opts.status="missing")});var sql="UPDATE "+DOC_STORE+" SET json = ? WHERE id = ?";tx.executeSql(sql,[safeJsonStringify(metadata),docId])}),compactRevs(revs,docId,tx)},websqlError(callback),function(){callback()}):callback()},api._getLocal=function(id,callback){db.readTransaction(function(tx){var sql="SELECT json, rev FROM "+LOCAL_STORE+" WHERE id=?";tx.executeSql(sql,[id],function(tx,res){if(res.rows.length){var item=res.rows.item(0),doc=unstringifyDoc(item.json,id,item.rev);callback(null,doc)}else callback(errors.error(errors.MISSING_DOC))})})},api._putLocal=function(doc,opts,callback){function putLocal(tx){var sql,values;oldRev?(sql="UPDATE "+LOCAL_STORE+" SET rev=?, json=? WHERE id=? AND rev=?",values=[newRev,json,id,oldRev]):(sql="INSERT INTO "+LOCAL_STORE+" (id, rev, json) VALUES (?,?,?)",values=[id,newRev,json]),tx.executeSql(sql,values,function(tx,res){
res.rowsAffected?(ret={ok:!0,id:id,rev:newRev},opts.ctx&&callback(null,ret)):callback(errors.error(errors.REV_CONFLICT))},function(){return callback(errors.error(errors.REV_CONFLICT)),!1})}"function"==typeof opts&&(callback=opts,opts={}),delete doc._revisions;var newRev,oldRev=doc._rev,id=doc._id;newRev=doc._rev=oldRev?"0-"+(parseInt(oldRev.split("-")[1],10)+1):"0-1";var ret,json=stringifyDoc(doc);opts.ctx?putLocal(opts.ctx):db.transaction(putLocal,websqlError(callback),function(){ret&&callback(null,ret)})},api._removeLocal=function(doc,opts,callback){function removeLocal(tx){var sql="DELETE FROM "+LOCAL_STORE+" WHERE id=? AND rev=?",params=[doc._id,doc._rev];tx.executeSql(sql,params,function(tx,res){return res.rowsAffected?(ret={ok:!0,id:doc._id,rev:"0-0"},void(opts.ctx&&callback(null,ret))):callback(errors.error(errors.MISSING_DOC))})}"function"==typeof opts&&(callback=opts,opts={});var ret;opts.ctx?removeLocal(opts.ctx):db.transaction(removeLocal,websqlError(callback),function(){ret&&callback(null,ret)})},api._destroy=function(opts,callback){WebSqlPouch.Changes.removeAllListeners(api._name),db.transaction(function(tx){var stores=[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,META_STORE,LOCAL_STORE,ATTACH_AND_SEQ_STORE];stores.forEach(function(store){tx.executeSql("DROP TABLE IF EXISTS "+store,[])})},websqlError(callback),function(){hasLocalStorage()&&(delete window.localStorage["_pouch__websqldb_"+api._name],delete window.localStorage[api._name]),callback(null,{ok:!0})})}}var extend=require("js-extend").extend,clone=require("../../deps/clone"),uuid=require("../../deps/uuid"),pick=require("../../deps/pick"),filterChange=require("../../deps/filterChange"),isDeleted=require("../../deps/docs/isDeleted"),isLocalId=require("../../deps/docs/isLocalId"),errors=require("../../deps/errors"),parseHexString=require("../../deps/parseHex"),binStringToBlob=require("../../deps/binary/binaryStringToBlobOrBuffer"),hasLocalStorage=require("../../deps/env/hasLocalStorage"),collectConflicts=require("../../deps/merge/collectConflicts"),traverseRevTree=require("../../deps/merge/traverseRevTree"),safeJsonParse=require("../../deps/safeJsonParse"),safeJsonStringify=require("../../deps/safeJsonStringify"),Changes=require("../../changesHandler"),isCordova=require("../../deps/isCordova"),toPromise=require("../../deps/toPromise"),base64=require("../../deps/binary/base64"),btoa=base64.btoa,websqlConstants=require("./constants"),websqlUtils=require("./utils"),websqlBulkDocs=require("./bulkDocs"),ADAPTER_VERSION=websqlConstants.ADAPTER_VERSION,DOC_STORE=websqlConstants.DOC_STORE,BY_SEQ_STORE=websqlConstants.BY_SEQ_STORE,ATTACH_STORE=websqlConstants.ATTACH_STORE,LOCAL_STORE=websqlConstants.LOCAL_STORE,META_STORE=websqlConstants.META_STORE,ATTACH_AND_SEQ_STORE=websqlConstants.ATTACH_AND_SEQ_STORE,qMarks=websqlUtils.qMarks,stringifyDoc=websqlUtils.stringifyDoc,unstringifyDoc=websqlUtils.unstringifyDoc,select=websqlUtils.select,compactRevs=websqlUtils.compactRevs,websqlError=websqlUtils.websqlError,getSize=websqlUtils.getSize,openDB=websqlUtils.openDB,POUCH_VERSION=1,BY_SEQ_STORE_DELETED_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+BY_SEQ_STORE+" (seq, deleted)",BY_SEQ_STORE_DOC_ID_REV_INDEX_SQL="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+BY_SEQ_STORE+" (doc_id, rev)",DOC_STORE_WINNINGSEQ_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+DOC_STORE+" (winningseq)",ATTACH_AND_SEQ_STORE_SEQ_INDEX_SQL="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+ATTACH_AND_SEQ_STORE+" (seq)",ATTACH_AND_SEQ_STORE_ATTACH_INDEX_SQL="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+ATTACH_AND_SEQ_STORE+" (digest, seq)",DOC_STORE_AND_BY_SEQ_JOINER=BY_SEQ_STORE+".seq = "+DOC_STORE+".winningseq",SELECT_DOCS=BY_SEQ_STORE+".seq AS seq, "+BY_SEQ_STORE+".deleted AS deleted, "+BY_SEQ_STORE+".json AS data, "+BY_SEQ_STORE+".rev AS rev, "+DOC_STORE+".json AS metadata";WebSqlPouch.valid=websqlUtils.valid,WebSqlPouch.Changes=new Changes,module.exports=WebSqlPouch},{"../../changesHandler":76,"../../deps/binary/base64":87,"../../deps/binary/binaryStringToBlobOrBuffer":90,"../../deps/clone":98,"../../deps/docs/isDeleted":99,"../../deps/docs/isLocalId":100,"../../deps/env/hasLocalStorage":107,"../../deps/errors":109,"../../deps/filterChange":110,"../../deps/isCordova":112,"../../deps/merge/collectConflicts":114,"../../deps/merge/traverseRevTree":120,"../../deps/parseHex":123,"../../deps/pick":125,"../../deps/safeJsonParse":127,"../../deps/safeJsonStringify":128,"../../deps/toPromise":129,"../../deps/uuid":131,"./bulkDocs":71,"./constants":72,"./utils":74,"js-extend":158}],74:[function(require,module){"use strict";function escapeBlob(str){return str.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function unescapeBlob(str){return str.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function stringifyDoc(doc){return delete doc._id,delete doc._rev,JSON.stringify(doc)}function unstringifyDoc(doc,id,rev){return doc=JSON.parse(doc),doc._id=id,doc._rev=rev,doc}function qMarks(num){for(var s="(";num--;)s+="?",num&&(s+=",");return s+")"}function select(selector,table,joiner,where,orderBy){return"SELECT "+selector+" FROM "+("string"==typeof table?table:table.join(" JOIN "))+(joiner?" ON "+joiner:"")+(where?" WHERE "+("string"==typeof where?where:where.join(" AND ")):"")+(orderBy?" ORDER BY "+orderBy:"")}function compactRevs(revs,docId,tx){function checkDone(){++numDone===revs.length&&deleteOrphans()}function deleteOrphans(){if(seqs.length){var sql="SELECT DISTINCT digest AS digest FROM "+ATTACH_AND_SEQ_STORE+" WHERE seq IN "+qMarks(seqs.length);tx.executeSql(sql,seqs,function(tx,res){for(var digestsToCheck=[],i=0;i<res.rows.length;i++)digestsToCheck.push(res.rows.item(i).digest);if(digestsToCheck.length){var sql="DELETE FROM "+ATTACH_AND_SEQ_STORE+" WHERE seq IN ("+seqs.map(function(){return"?"}).join(",")+")";tx.executeSql(sql,seqs,function(tx){var sql="SELECT digest FROM "+ATTACH_AND_SEQ_STORE+" WHERE digest IN ("+digestsToCheck.map(function(){return"?"}).join(",")+")";tx.executeSql(sql,digestsToCheck,function(tx,res){for(var nonOrphanedDigests=new collections.Set,i=0;i<res.rows.length;i++)nonOrphanedDigests.add(res.rows.item(i).digest);digestsToCheck.forEach(function(digest){nonOrphanedDigests.has(digest)||(tx.executeSql("DELETE FROM "+ATTACH_AND_SEQ_STORE+" WHERE digest=?",[digest]),tx.executeSql("DELETE FROM "+ATTACH_STORE+" WHERE digest=?",[digest]))})})})}})}}if(revs.length){var numDone=0,seqs=[];revs.forEach(function(rev){var sql="SELECT seq FROM "+BY_SEQ_STORE+" WHERE doc_id=? AND rev=?";tx.executeSql(sql,[docId,rev],function(tx,res){if(!res.rows.length)return checkDone();var seq=res.rows.item(0).seq;seqs.push(seq),tx.executeSql("DELETE FROM "+BY_SEQ_STORE+" WHERE seq=?",[seq],checkDone)})})}}function websqlError(callback){return function(event){console.error("WebSQL threw an error",event);var errorNameMatch=event&&event.constructor.toString().match(/function ([^\(]+)/),errorName=errorNameMatch&&errorNameMatch[1]||event.type,errorReason=event.target||event.message;callback(errors.error(errors.WSQ_ERROR,errorReason,errorName))}}function getSize(opts){if("size"in opts)return 1e6*opts.size;var isAndroid=/Android/.test(window.navigator.userAgent);return isAndroid?5e6:1}function createOpenDBFunction(){return"undefined"!=typeof sqlitePlugin?sqlitePlugin.openDatabase.bind(sqlitePlugin):"undefined"!=typeof openDatabase?function(opts){return openDatabase(opts.name,opts.version,opts.description,opts.size)}:void 0}function openDBSafely(openDBFunction,opts){try{return{db:openDBFunction(opts)}}catch(err){return{error:err}}}function openDB(opts){var cachedResult=cachedDatabases[opts.name];if(!cachedResult){var openDBFun=createOpenDBFunction();cachedResult=cachedDatabases[opts.name]=openDBSafely(openDBFun,opts),cachedResult.db&&(cachedResult.db._sqlitePlugin="undefined"!=typeof sqlitePlugin)}return cachedResult}function valid(){return"undefined"!=typeof openDatabase||"undefined"!=typeof SQLitePlugin}var errors=require("../../deps/errors"),collections=require("pouchdb-collections"),websqlConstants=require("./constants"),BY_SEQ_STORE=websqlConstants.BY_SEQ_STORE,ATTACH_STORE=websqlConstants.ATTACH_STORE,ATTACH_AND_SEQ_STORE=websqlConstants.ATTACH_AND_SEQ_STORE,cachedDatabases={};module.exports={escapeBlob:escapeBlob,unescapeBlob:unescapeBlob,stringifyDoc:stringifyDoc,unstringifyDoc:unstringifyDoc,qMarks:qMarks,select:select,compactRevs:compactRevs,websqlError:websqlError,getSize:getSize,openDB:openDB,valid:valid}},{"../../deps/errors":109,"./constants":72,"pouchdb-collections":163}],75:[function(require,module){"use strict";function Changes(db,opts,callback){function onDestroy(){self.cancel()}EE.call(this);var self=this;this.db=db,opts=opts?clone(opts):{};var complete=opts.complete=once(function(err,resp){err?self.emit("error",err):self.emit("complete",resp),self.removeAllListeners(),db.removeListener("destroyed",onDestroy)});callback&&(self.on("complete",function(resp){callback(null,resp)}),self.on("error",function(err){callback(err)})),db.once("destroyed",onDestroy),opts.onChange=function(change){opts.isCancelled||(self.emit("change",change),self.startSeq&&self.startSeq<=change.seq&&(self.startSeq=!1))};var promise=new Promise(function(fulfill,reject){opts.complete=function(err,res){err?reject(err):fulfill(res)}});self.once("cancel",function(){db.removeListener("destroyed",onDestroy),opts.complete(null,{status:"cancelled"})}),this.then=promise.then.bind(promise),this.catch=promise.catch.bind(promise),this.then(function(result){complete(null,result)},complete),db.taskqueue.isReady?self.doChanges(opts):db.taskqueue.addTask(function(){self.isCancelled?self.emit("cancel"):self.doChanges(opts)})}function processChange(doc,metadata,opts){var changeList=[{rev:doc._rev}];"all_docs"===opts.style&&(changeList=collectLeaves(metadata.rev_tree).map(function(x){return{rev:x.rev}}));var change={id:metadata.id,changes:changeList,doc:doc};return isDeleted(metadata,doc._rev)&&(change.deleted=!0),opts.conflicts&&(change.doc._conflicts=collectConflicts(metadata),change.doc._conflicts.length||delete change.doc._conflicts),change}var clone=require("./deps/clone"),Promise=require("./deps/promise"),isDeleted=require("./deps/docs/isDeleted"),inherits=require("inherits"),getArguments=require("argsarray"),once=require("./deps/once"),errors=require("./deps/errors"),EE=require("events").EventEmitter,evalFilter=require("./evalFilter"),evalView=require("./evalView"),parseDdocFunctionName=require("./deps/docs/parseDdocFunctionName"),normalizeDdocFunctionName=require("./deps/docs/normalizeDdocFunctionName"),collectLeaves=require("./deps/merge/collectLeaves"),collectConflicts=require("./deps/merge/collectConflicts");module.exports=Changes,inherits(Changes,EE),Changes.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Changes.prototype.doChanges=function(opts){var self=this,callback=opts.complete;if(opts=clone(opts),"live"in opts&&!("continuous"in opts)&&(opts.continuous=opts.live),opts.processChange=processChange,"latest"===opts.since&&(opts.since="now"),opts.since||(opts.since=0),"now"===opts.since)return void this.db.info().then(function(info){return self.isCancelled?void callback(null,{status:"cancelled"}):(opts.since=info.update_seq,void self.doChanges(opts))},callback);if(opts.continuous&&"now"!==opts.since&&this.db.info().then(function(info){self.startSeq=info.update_seq},function(err){if("idbNull"!==err.id)throw err}),opts.filter&&"string"==typeof opts.filter&&("_view"===opts.filter?opts.view=normalizeDdocFunctionName(opts.view):opts.filter=normalizeDdocFunctionName(opts.filter),"http"!==this.db.type()&&!opts.doc_ids))return this.filterChanges(opts);"descending"in opts||(opts.descending=!1),opts.limit=0===opts.limit?1:opts.limit,opts.complete=callback;var newPromise=this.db._changes(opts);if(newPromise&&"function"==typeof newPromise.cancel){var cancel=self.cancel;self.cancel=getArguments(function(args){newPromise.cancel(),cancel.apply(this,args)})}},Changes.prototype.filterChanges=function(opts){var self=this,callback=opts.complete;if("_view"===opts.filter){if(!opts.view||"string"!=typeof opts.view){var err=errors.error(errors.BAD_REQUEST,"`view` filter parameter not found or invalid.");return callback(err)}var viewName=parseDdocFunctionName(opts.view);this.db.get("_design/"+viewName[0],function(err,ddoc){if(self.isCancelled)return callback(null,{status:"cancelled"});if(err)return callback(errors.generateErrorFromResponse(err));var mapFun=ddoc&&ddoc.views&&ddoc.views[viewName[1]]&&ddoc.views[viewName[1]].map;return mapFun?(opts.filter=evalView(mapFun),void self.doChanges(opts)):callback(errors.error(errors.MISSING_DOC,ddoc.views?"missing json key: "+viewName[1]:"missing json key: views"))})}else{var filterName=parseDdocFunctionName(opts.filter);if(!filterName)return self.doChanges(opts);this.db.get("_design/"+filterName[0],function(err,ddoc){if(self.isCancelled)return callback(null,{status:"cancelled"});if(err)return callback(errors.generateErrorFromResponse(err));var filterFun=ddoc&&ddoc.filters&&ddoc.filters[filterName[1]];return filterFun?(opts.filter=evalFilter(filterFun),void self.doChanges(opts)):callback(errors.error(errors.MISSING_DOC,ddoc&&ddoc.filters?"missing json key: "+filterName[1]:"missing json key: filters"))})}}},{"./deps/clone":98,"./deps/docs/isDeleted":99,"./deps/docs/normalizeDdocFunctionName":101,"./deps/docs/parseDdocFunctionName":102,"./deps/errors":109,"./deps/merge/collectConflicts":114,"./deps/merge/collectLeaves":115,"./deps/once":122,"./deps/promise":126,"./evalFilter":132,"./evalView":133,argsarray:153,events:43,inherits:157}],76:[function(require,module){"use strict";function attachBrowserEvents(self){isChromeApp()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&self.emit(e.dbName.newValue)}):hasLocalStorage()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){self.emit(e.key)}):window.attachEvent("storage",function(e){self.emit(e.key)}))}function Changes(){EventEmitter.call(this),this._listeners={},attachBrowserEvents(this)}var EventEmitter=require("events").EventEmitter,inherits=require("inherits"),isChromeApp=require("./deps/env/isChromeApp"),hasLocalStorage=require("./deps/env/hasLocalStorage"),pick=require("./deps/pick");inherits(Changes,EventEmitter),Changes.prototype.addListener=function(dbName,id,db,opts){function eventFunction(){if(self._listeners[id]){if(inprogress)return void(inprogress="waiting");inprogress=!0;var changesOpts=pick(opts,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);db.changes(changesOpts).on("change",function(c){c.seq>opts.since&&!opts.cancelled&&(opts.since=c.seq,opts.onChange(c))}).on("complete",function(){"waiting"===inprogress&&setTimeout(function(){eventFunction()},0),inprogress=!1}).on("error",function(){inprogress=!1})}}if(!this._listeners[id]){var self=this,inprogress=!1;this._listeners[id]=eventFunction,this.on(dbName,eventFunction)}},Changes.prototype.removeListener=function(dbName,id){id in this._listeners&&EventEmitter.prototype.removeListener.call(this,dbName,this._listeners[id])},Changes.prototype.notifyLocalWindows=function(dbName){isChromeApp()?chrome.storage.local.set({dbName:dbName}):hasLocalStorage()&&(localStorage[dbName]="a"===localStorage[dbName]?"b":"a")},Changes.prototype.notify=function(dbName){this.emit(dbName),this.notifyLocalWindows(dbName)},module.exports=Changes},{"./deps/env/hasLocalStorage":107,"./deps/env/isChromeApp":108,"./deps/pick":125,events:43,inherits:157}],77:[function(require,module){(function(global){"use strict";function defaultCallback(err){err&&global.debug&&console.error(err)}function prepareForDestruction(self,opts){function onDestroyed(){ctor.emit("destroyed",name),ctor.emit(name,"destroyed")}function onConstructorDestroyed(){self.removeListener("destroyed",onDestroyed),self.emit("destroyed",self)}var name=opts.originalName,ctor=self.constructor,destructionListeners=ctor._destructionListeners;self.once("destroyed",onDestroyed),destructionListeners.has(name)||destructionListeners.set(name,[]),destructionListeners.get(name).push(onConstructorDestroyed)}function PouchDB(name,opts,callback){if(!(this instanceof PouchDB))return new PouchDB(name,opts,callback);var self=this;("function"==typeof opts||"undefined"==typeof opts)&&(callback=opts,opts={}),name&&"object"==typeof name&&(opts=name,name=void 0),"undefined"==typeof callback&&(callback=defaultCallback),name=name||opts.name,opts=clone(opts),delete opts.name,this.__opts=opts;var oldCB=callback;self.auto_compaction=opts.auto_compaction,self.prefix=PouchDB.prefix,Adapter.call(self),self.taskqueue=new TaskQueue;var promise=new Promise(function(fulfill,reject){callback=function(err,resp){return err?reject(err):(delete resp.then,void fulfill(resp))},opts=clone(opts);var backend,error,originalName=opts.name||name;return function(){try{if("string"!=typeof originalName)throw error=new Error("Missing/invalid DB name"),error.code=400,error;if(backend=PouchDB.parseAdapter(originalName,opts),opts.originalName=originalName,opts.name=backend.name,opts.prefix&&"http"!==backend.adapter&&"https"!==backend.adapter&&(opts.name=opts.prefix+opts.name),opts.adapter=opts.adapter||backend.adapter,self._adapter=opts.adapter,debug("pouchdb:adapter")("Picked adapter: "+opts.adapter),self._db_name=originalName,!PouchDB.adapters[opts.adapter])throw error=new Error("Adapter is missing"),error.code=404,error;if(!PouchDB.adapters[opts.adapter].valid())throw error=new Error("Invalid Adapter"),error.code=404,error}catch(err){self.taskqueue.fail(err)}}(),error?reject(error):(self.adapter=opts.adapter,self.replicate={},self.replicate.from=function(url,opts,callback){return self.constructor.replicate(url,self,opts,callback)},self.replicate.to=function(url,opts,callback){return self.constructor.replicate(self,url,opts,callback)},self.sync=function(dbName,opts,callback){return self.constructor.sync(self,dbName,opts,callback)},self.replicate.sync=self.sync,PouchDB.adapters[opts.adapter].call(self,opts,function(err){return err?(self.taskqueue.fail(err),void callback(err)):(prepareForDestruction(self,opts),self.emit("created",self),PouchDB.emit("created",opts.originalName),self.taskqueue.ready(self),void callback(null,self))}),void(isCordova()&&cordova.fireWindowEvent(opts.name+"_pouch",{})))});promise.then(function(resp){oldCB(null,resp)},oldCB),self.then=promise.then.bind(promise),self.catch=promise.catch.bind(promise)}var debug=require("debug"),inherits=require("inherits"),Adapter=require("./adapter"),TaskQueue=require("./taskqueue"),isCordova=require("./deps/isCordova"),Promise=require("./deps/promise"),clone=require("./deps/clone");inherits(PouchDB,Adapter),PouchDB.debug=debug,module.exports=PouchDB}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter":62,"./deps/clone":98,"./deps/isCordova":112,"./deps/promise":126,"./taskqueue":150,debug:154,inherits:157}],78:[function(require,module){"use strict";var Promise=require("./promise"),toPromise=require("./toPromise"),getArguments=require("argsarray");module.exports=function(name,callback){function logApiCall(self,name,args){if(log.enabled){for(var logArgs=[self._db_name,name],i=0;i<args.length-1;i++)logArgs.push(args[i]);log.apply(null,logArgs);var origCallback=args[args.length-1];args[args.length-1]=function(err,res){var responseArgs=[self._db_name,name];responseArgs=responseArgs.concat(err?["error",err]:["success",res]),log.apply(null,responseArgs),origCallback(err,res)}}}var log=require("debug")("pouchdb:api");return toPromise(getArguments(function(args){if(this._closed)return Promise.reject(new Error("database is closed"));var self=this;return logApiCall(self,name,args),this.taskqueue.isReady?callback.apply(this,args):new Promise(function(fulfill,reject){self.taskqueue.addTask(function(failed){failed?reject(failed):fulfill(self[name].apply(self,args))})})}))}},{"./promise":126,"./toPromise":129,argsarray:153,debug:154}],79:[function(require,module){"use strict";function ajax(options,callback){function onSuccess(obj,resp,cb){if(!options.binary&&options.json&&"string"==typeof obj)try{obj=JSON.parse(obj)}catch(e){return cb(e)}Array.isArray(obj)&&(obj=obj.map(function(v){return v.error||v.missing?errors.generateErrorFromResponse(v):v})),options.binary&&applyTypeToBuffer(obj,resp),cb(null,obj,resp)}function onError(err,cb){var errParsed,errObj;if(err.code&&err.status){var err2=new Error(err.message||err.code);return err2.status=err.status,cb(err2)}try{errParsed=JSON.parse(err.responseText),errObj=errors.generateErrorFromResponse(errParsed)}catch(e){errObj=errors.generateErrorFromResponse(err)}cb(errObj)}options=clone(options);var defaultOptions={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return options=extend(defaultOptions,options),options.json&&(options.binary||(options.headers.Accept="application/json"),options.headers["Content-Type"]=options.headers["Content-Type"]||"application/json"),options.binary&&(options.encoding=null,options.json=!1),options.processData||(options.json=!1),request(options,function(err,response,body){if(err){if(response){var origin="undefined"!=typeof document&&document.location.origin,isCrossOrigin=origin&&0!==options.url.indexOf(origin);isCrossOrigin&&0===response.statusCode&&explainCors(),err.status=response.statusCode}else err.status=400;return onError(err,callback)}var error,content_type=response.headers&&response.headers["content-type"],data=body||defaultBody();if(!options.binary&&(options.json||!options.processData)&&"object"!=typeof data&&(/json/.test(content_type)||/^[\s]*\{/.test(data)&&/\}[\s]*$/.test(data)))try{data=JSON.parse(data.toString())}catch(e){}response.statusCode>=200&&response.statusCode<300?onSuccess(data,response,callback):(error=errors.generateErrorFromResponse(data),error.status=response.statusCode,callback(error))})}var request=require("request"),extend=require("js-extend").extend,errors=require("./../errors"),clone=require("../../deps/clone"),applyTypeToBuffer=require("./applyTypeToBuffer"),defaultBody=require("./defaultBody"),explainCors=require("./explainCors");module.exports=ajax},{"../../deps/clone":98,"./../errors":109,"./applyTypeToBuffer":80,"./defaultBody":81,"./explainCors":82,"js-extend":158,request:85}],80:[function(require,module){"use strict";module.exports=function(){}},{}],81:[function(require,module){"use strict";module.exports=function(){return""}},{}],82:[function(require,module){(function(global){"use strict";module.exports=function(){"console"in global&&"warn"in console&&console.warn("PouchDB: the remote database may not have CORS enabled.If not please enable CORS: http://pouchdb.com/errors.html#no_access_control_allow_origin_header")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(require,module){(function(global){"use strict";module.exports=function(status,str){"console"in global&&"info"in console&&console.info("The above "+status+" is totally normal. "+str)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(require,module){"use strict";var ajax=require("./ajaxCore");module.exports=function(opts,callback){if(("POST"===opts.method||"GET"===opts.method)&&!opts.cache){var hasArgs=-1!==opts.url.indexOf("?");opts.url+=(hasArgs?"&":"?")+"_nonce="+Date.now()}return ajax(opts,callback)}},{"./ajaxCore":79}],85:[function(require,module){"use strict";function wrappedFetch(){for(var wrappedPromise={},promise=new Promise(function(resolve,reject){wrappedPromise.resolve=resolve,wrappedPromise.reject=reject}),args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return wrappedPromise.promise=promise,Promise.resolve().then(function(){return fetch.apply(null,args)}).then(function(response){wrappedPromise.resolve(response)}).catch(function(error){wrappedPromise.reject(error)}),wrappedPromise}function fetchRequest(options,callback){var wrappedPromise,timer,response,headers=new Headers,fetchOptions={method:options.method,credentials:"include",headers:headers};return options.json&&(headers.set("Accept","application/json"),headers.set("Content-Type",options.headers["Content-Type"]||"application/json")),options.body&&options.body instanceof Blob?readAsArrayBuffer(options.body,function(arrayBuffer){fetchOptions.body=arrayBuffer}):fetchOptions.body=options.body&&options.processData&&"string"!=typeof options.body?JSON.stringify(options.body):"body"in options?options.body:null,Object.keys(options.headers).forEach(function(key){options.headers.hasOwnProperty(key)&&headers.set(key,options.headers[key])}),wrappedPromise=wrappedFetch(options.url,fetchOptions),options.timeout>0&&(timer=setTimeout(function(){wrappedPromise.reject(new Error("Load timeout for resource: "+options.url))},options.timeout)),wrappedPromise.promise.then(function(fetchResponse){return response={statusCode:fetchResponse.status},options.timeout>0&&clearTimeout(timer),response.statusCode>=200&&response.statusCode<300?options.binary?fetchResponse.blob():fetchResponse.text():fetchResponse.json()}).then(function(result){response.statusCode>=200&&response.statusCode<300?callback(null,response,result):callback(result,response)}).catch(function(error){callback(error,response)}),{abort:wrappedPromise.reject}}function xhRequest(options,callback){var xhr,timer,hasUpload,abortReq=function(){xhr.abort()};xhr=options.xhr?new options.xhr:new XMLHttpRequest,xhr.open(options.method,options.url),xhr.withCredentials="withCredentials"in options?options.withCredentials:!0,"GET"===options.method?delete options.headers["Content-Type"]:options.json&&(options.headers.Accept="application/json",options.headers["Content-Type"]=options.headers["Content-Type"]||"application/json",options.body&&options.processData&&"string"!=typeof options.body&&(options.body=JSON.stringify(options.body))),options.binary&&(xhr.responseType="arraybuffer"),"body"in options||(options.body=null);for(var key in options.headers)options.headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,options.headers[key]);return options.timeout>0&&(timer=setTimeout(abortReq,options.timeout),xhr.onprogress=function(){clearTimeout(timer),timer=setTimeout(abortReq,options.timeout)},"undefined"==typeof hasUpload&&(hasUpload=-1!==Object.keys(xhr).indexOf("upload")&&"undefined"!=typeof xhr.upload),hasUpload&&(xhr.upload.onprogress=xhr.onprogress)),xhr.onreadystatechange=function(){if(4===xhr.readyState){var response={statusCode:xhr.status};if(xhr.status>=200&&xhr.status<300){var data;data=options.binary?createBlob([xhr.response||""],{type:xhr.getResponseHeader("Content-Type")}):xhr.responseText,callback(null,response,data)}else{var err={};try{err=JSON.parse(xhr.response)}catch(e){}callback(err,response)}}},options.body&&options.body instanceof Blob?readAsArrayBuffer(options.body,function(arrayBuffer){xhr.send(arrayBuffer)}):xhr.send(options.body),{abort:abortReq}}function testXhr(){try{return new XMLHttpRequest,!0}catch(err){return!1}}var createBlob=require("./../binary/blob.js"),readAsArrayBuffer=require("./../binary/readAsArrayBuffer"),Promise=require("../../deps/promise"),hasXhr=testXhr();module.exports=function(options,callback){return hasXhr||options.xhr?xhRequest(options,callback):fetchRequest(options,callback)}},{"../../deps/promise":126,"./../binary/blob.js":91,"./../binary/readAsArrayBuffer":95}],86:[function(require,module){"use strict";module.exports=function(buffer){for(var binary="",bytes=new Uint8Array(buffer),length=bytes.byteLength,i=0;length>i;i++)binary+=String.fromCharCode(bytes[i]);return binary}},{}],87:[function(require,module,exports){"use strict";exports.atob=function(str){return atob(str)},exports.btoa=function(str){return btoa(str)}},{}],88:[function(require,module){"use strict";var atob=require("./base64").atob,binaryStringToBlobOrBuffer=require("./binaryStringToBlobOrBuffer");module.exports=function(b64,type){return binaryStringToBlobOrBuffer(atob(b64),type)}},{"./base64":87,"./binaryStringToBlobOrBuffer":90}],89:[function(require,module){"use strict";module.exports=function(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;length>i;i++)arr[i]=bin.charCodeAt(i);return buf}},{}],90:[function(require,module){"use strict";var createBlob=require("./blob"),binaryStringToArrayBuffer=require("./binaryStringToArrayBuffer");module.exports=function(binString,type){return createBlob([binaryStringToArrayBuffer(binString)],{type:type})}},{"./binaryStringToArrayBuffer":89,"./blob":91}],91:[function(require,module){"use strict";function createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var Builder="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,builder=new Builder,i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}module.exports=createBlob},{}],92:[function(require,module){"use strict";var Promise=require("../promise"),readAsBinaryString=require("./readAsBinaryString"),btoa=require("./base64").btoa;module.exports=function(blobOrBuffer){return new Promise(function(resolve){readAsBinaryString(blobOrBuffer,function(bin){resolve(btoa(bin))})})}},{"../promise":126,"./base64":87,"./readAsBinaryString":96}],93:[function(require,module){"use strict";function cloneArrayBuffer(buff){if("function"==typeof buff.slice)return buff.slice(0);var target=new ArrayBuffer(buff.byteLength),targetArray=new Uint8Array(target),sourceArray=new Uint8Array(buff);return targetArray.set(sourceArray),target}module.exports=function(object){if(object instanceof ArrayBuffer)return cloneArrayBuffer(object);var size=object.size,type=object.type;return"function"==typeof object.slice?object.slice(0,size,type):object.webkitSlice(0,size,type)}},{}],94:[function(require,module){"use strict";module.exports=function(object){return object instanceof ArrayBuffer||"undefined"!=typeof Blob&&object instanceof Blob}},{}],95:[function(require,module){"use strict";module.exports=function(blob,callback){if("undefined"==typeof FileReader)return callback((new FileReaderSync).readAsArrayBuffer(blob));var reader=new FileReader;reader.onloadend=function(e){var result=e.target.result||new ArrayBuffer(0);callback(result)},reader.readAsArrayBuffer(blob)}},{}],96:[function(require,module){"use strict";var arrayBufferToBinaryString=require("./arrayBufferToBinaryString");module.exports=function(blob,callback){if("undefined"==typeof FileReader)return callback(arrayBufferToBinaryString((new FileReaderSync).readAsArrayBuffer(blob)));var reader=new FileReader,hasBinaryString="function"==typeof reader.readAsBinaryString;reader.onloadend=function(e){var result=e.target.result||"";return hasBinaryString?callback(result):void callback(arrayBufferToBinaryString(result))},hasBinaryString?reader.readAsBinaryString(blob):reader.readAsArrayBuffer(blob)}},{"./arrayBufferToBinaryString":86}],97:[function(require,module){"use strict";function bulkGet(db,opts,callback){function collapseResults(){var results=[];perDocResults.forEach(function(res){res.docs.forEach(function(info){results.push({id:res.id,docs:[info]})})}),callback(null,{results:results})}function checkDone(){++numDone===numDocs&&collapseResults()}function gotResult(i,id,docs){perDocResults[i]={id:id,docs:docs},checkDone()}var requests=Array.isArray(opts)?opts:opts.docs,requestsById={};requests.forEach(function(request){request.id in requestsById?requestsById[request.id].push(request):requestsById[request.id]=[request]});var numDocs=Object.keys(requestsById).length,numDone=0,perDocResults=new Array(numDocs);

Object.keys(requestsById).forEach(function(docId,i){var docRequests=requestsById[docId],docOpts=pick(docRequests[0],["atts_since","attachments"]);docOpts.open_revs=docRequests.map(function(request){return request.rev}),["revs","attachments","binary"].forEach(function(param){param in opts&&(docOpts[param]=opts[param])}),db.get(docId,docOpts,function(err,res){gotResult(i,docId,err?[{error:err}]:res)})})}var pick=require("../deps/pick");module.exports=bulkGet},{"../deps/pick":125}],98:[function(require,module){"use strict";var isBinaryObject=require("./binary/isBinaryObject"),cloneBinaryObject=require("./binary/cloneBinaryObject");module.exports=function clone(object){var newObject,i,len;if(!object||"object"!=typeof object)return object;if(Array.isArray(object)){for(newObject=[],i=0,len=object.length;len>i;i++)newObject[i]=clone(object[i]);return newObject}if(object instanceof Date)return object.toISOString();if(isBinaryObject(object))return cloneBinaryObject(object);newObject={};for(i in object)if(Object.prototype.hasOwnProperty.call(object,i)){var value=clone(object[i]);"undefined"!=typeof value&&(newObject[i]=value)}return newObject}},{"./binary/cloneBinaryObject":93,"./binary/isBinaryObject":94}],99:[function(require,module){"use strict";function getTrees(node){return node.ids}function isDeleted(metadata,rev){rev||(rev=winningRev(metadata));for(var tree,id=rev.substring(rev.indexOf("-")+1),toVisit=metadata.rev_tree.map(getTrees);tree=toVisit.pop();){if(tree[0]===id)return!!tree[1].deleted;toVisit=toVisit.concat(tree[2])}}var winningRev=require("../../deps/merge/winningRev");module.exports=isDeleted},{"../../deps/merge/winningRev":121}],100:[function(require,module){"use strict";function isLocalId(id){return/^_local/.test(id)}module.exports=isLocalId},{}],101:[function(require,module){"use strict";var parseDdocFunctionName=require("./parseDdocFunctionName");module.exports=function(s){var normalized=parseDdocFunctionName(s);return normalized?normalized.join("/"):null}},{"./parseDdocFunctionName":102}],102:[function(require,module){"use strict";module.exports=function(s){if(!s)return null;var parts=s.split("/");return 2===parts.length?parts:1===parts.length?[s,s]:null}},{}],103:[function(require,module,exports){"use strict";function toObject(array){return array.reduce(function(obj,item){return obj[item]=!0,obj},{})}function parseRevisionInfo(rev){if(!/^\d+\-./.test(rev))return errors.error(errors.INVALID_REV);var idx=rev.indexOf("-"),left=rev.substring(0,idx),right=rev.substring(idx+1);return{prefix:parseInt(left,10),id:right}}function makeRevTreeFromRevisions(revisions,opts){for(var pos=revisions.start-revisions.ids.length+1,revisionIds=revisions.ids,ids=[revisionIds[0],opts,[]],i=1,len=revisionIds.length;len>i;i++)ids=[revisionIds[i],{status:"missing"},[ids]];return[{pos:pos,ids:ids}]}var errors=require("./../errors"),uuid=require("./../uuid"),reservedWords=toObject(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),dataWords=toObject(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);exports.invalidIdError=function(id){var err;if(id?"string"!=typeof id?err=errors.error(errors.INVALID_ID):/^_/.test(id)&&!/^_(design|local)/.test(id)&&(err=errors.error(errors.RESERVED_ID)):err=errors.error(errors.MISSING_ID),err)throw err},exports.parseDoc=function(doc,newEdits){var nRevNum,newRevId,revInfo,opts={status:"available"};if(doc._deleted&&(opts.deleted=!0),newEdits)if(doc._id||(doc._id=uuid()),newRevId=uuid(32,16).toLowerCase(),doc._rev){if(revInfo=parseRevisionInfo(doc._rev),revInfo.error)return revInfo;doc._rev_tree=[{pos:revInfo.prefix,ids:[revInfo.id,{status:"missing"},[[newRevId,opts,[]]]]}],nRevNum=revInfo.prefix+1}else doc._rev_tree=[{pos:1,ids:[newRevId,opts,[]]}],nRevNum=1;else if(doc._revisions&&(doc._rev_tree=makeRevTreeFromRevisions(doc._revisions,opts),nRevNum=doc._revisions.start,newRevId=doc._revisions.ids[0]),!doc._rev_tree){if(revInfo=parseRevisionInfo(doc._rev),revInfo.error)return revInfo;nRevNum=revInfo.prefix,newRevId=revInfo.id,doc._rev_tree=[{pos:nRevNum,ids:[newRevId,opts,[]]}]}exports.invalidIdError(doc._id),doc._rev=nRevNum+"-"+newRevId;var result={metadata:{},data:{}};for(var key in doc)if(Object.prototype.hasOwnProperty.call(doc,key)){var specialKey="_"===key[0];if(specialKey&&!reservedWords[key]){var error=errors.error(errors.DOC_VALIDATION,key);throw error.message=errors.DOC_VALIDATION.message+": "+key,error}specialKey&&!dataWords[key]?result.metadata[key.slice(1)]=doc[key]:result.data[key]=doc[key]}return result}},{"./../errors":109,"./../uuid":131}],104:[function(require,module){"use strict";function preprocessAttachments(docInfos,blobType,callback){function parseBase64(data){try{return base64.atob(data)}catch(e){var err=errors.error(errors.BAD_ARG,"Attachments need to be base64 encoded");return{error:err}}}function preprocessAttachment(att,callback){if(att.stub)return callback();if("string"==typeof att.data){var asBinary=parseBase64(att.data);if(asBinary.error)return callback(asBinary.error);att.length=asBinary.length,att.data="blob"===blobType?binStringToBlobOrBuffer(asBinary,att.content_type):"base64"===blobType?base64.btoa(asBinary):asBinary,md5(asBinary).then(function(result){att.digest="md5-"+result,callback()})}else readAsArrayBuffer(att.data,function(buff){"binary"===blobType?att.data=arrayBuffToBinString(buff):"base64"===blobType&&(att.data=base64.btoa(arrayBuffToBinString(buff))),md5(buff).then(function(result){att.digest="md5-"+result,att.length=buff.byteLength,callback()})})}function done(){docv++,docInfos.length===docv&&(overallErr?callback(overallErr):callback())}if(!docInfos.length)return callback();var overallErr,docv=0;docInfos.forEach(function(docInfo){function processedAttachment(err){overallErr=err,recv++,recv===attachments.length&&done()}var attachments=docInfo.data&&docInfo.data._attachments?Object.keys(docInfo.data._attachments):[],recv=0;if(!attachments.length)return done();for(var key in docInfo.data._attachments)docInfo.data._attachments.hasOwnProperty(key)&&preprocessAttachment(docInfo.data._attachments[key],processedAttachment)})}var base64=require("../binary/base64"),arrayBuffToBinString=require("../binary/arrayBufferToBinaryString"),readAsArrayBuffer=require("../binary/readAsArrayBuffer"),binStringToBlobOrBuffer=require("../binary/binaryStringToBlobOrBuffer"),errors=require("../errors"),md5=require("../md5");module.exports=preprocessAttachments},{"../binary/arrayBufferToBinaryString":86,"../binary/base64":87,"../binary/binaryStringToBlobOrBuffer":90,"../binary/readAsArrayBuffer":95,"../errors":109,"../md5":113}],105:[function(require,module){"use strict";function processDocs(docInfos,api,fetchedDocs,tx,results,writeDoc,opts,overallCallback){function insertDoc(docInfo,resultsIdx,callback){var winningRev=calculateWinningRev(docInfo.metadata),deleted=isDeleted(docInfo.metadata,winningRev);if("was_delete"in opts&&deleted)return results[resultsIdx]=errors.error(errors.MISSING_DOC,"deleted"),callback();var delta=deleted?0:1;writeDoc(docInfo,winningRev,deleted,deleted,!1,delta,resultsIdx,callback)}function checkAllDocsDone(){++docsDone===docsToDo&&overallCallback&&overallCallback()}var newEdits=opts.new_edits,idsToDocs=new Map,docsDone=0,docsToDo=docInfos.length;docInfos.forEach(function(currentDoc,resultsIdx){if(currentDoc._id&&isLocalId(currentDoc._id)){var fun=currentDoc._deleted?"_removeLocal":"_putLocal";return void api[fun](currentDoc,{ctx:tx},function(err,res){results[resultsIdx]=err||res,checkAllDocsDone()})}var id=currentDoc.metadata.id;idsToDocs.has(id)?(docsToDo--,idsToDocs.get(id).push([currentDoc,resultsIdx])):idsToDocs.set(id,[[currentDoc,resultsIdx]])}),idsToDocs.forEach(function(docs,id){function docWritten(){++numDone<docs.length?nextDoc():checkAllDocsDone()}function nextDoc(){var value=docs[numDone],currentDoc=value[0],resultsIdx=value[1];if(fetchedDocs.has(id))updateDoc(fetchedDocs.get(id),currentDoc,results,resultsIdx,docWritten,writeDoc,newEdits);else{var merged=merge([],currentDoc.metadata.rev_tree[0],1e3);currentDoc.metadata.rev_tree=merged.tree,insertDoc(currentDoc,resultsIdx,docWritten)}}var numDone=0;nextDoc()})}var errors=require("../errors"),updateDoc=require("./updateDoc"),isDeleted=require("./isDeleted"),isLocalId=require("./isLocalId"),calculateWinningRev=require("../../deps/merge/winningRev"),merge=require("../../deps/merge"),collections=require("pouchdb-collections"),Map=collections.Map;module.exports=processDocs},{"../../deps/merge":117,"../../deps/merge/winningRev":121,"../errors":109,"./isDeleted":99,"./isLocalId":100,"./updateDoc":106,"pouchdb-collections":163}],106:[function(require,module){"use strict";function updateDoc(prev,docInfo,results,i,cb,writeDoc,newEdits){if(revExists(prev.rev_tree,docInfo.metadata.rev))return results[i]=docInfo,cb();var previousWinningRev=prev.winningRev||calculateWinningRev(prev),previouslyDeleted="deleted"in prev?prev.deleted:isDeleted(prev,previousWinningRev),deleted="deleted"in docInfo.metadata?docInfo.metadata.deleted:isDeleted(docInfo.metadata),isRoot=/^1-/.test(docInfo.metadata.rev);if(previouslyDeleted&&!deleted&&newEdits&&isRoot){var newDoc=docInfo.data;newDoc._rev=previousWinningRev,newDoc._id=docInfo.metadata.id,docInfo=parseDoc(newDoc,newEdits)}var merged=merge(prev.rev_tree,docInfo.metadata.rev_tree[0],1e3),inConflict=newEdits&&(previouslyDeleted&&deleted||!previouslyDeleted&&"new_leaf"!==merged.conflicts||previouslyDeleted&&!deleted&&"new_branch"===merged.conflicts);if(inConflict){var err=errors.error(errors.REV_CONFLICT);return results[i]=err,cb()}var newRev=docInfo.metadata.rev;docInfo.metadata.rev_tree=merged.tree,prev.rev_map&&(docInfo.metadata.rev_map=prev.rev_map);var newRevIsDeleted,winningRev=calculateWinningRev(docInfo.metadata),winningRevIsDeleted=isDeleted(docInfo.metadata,winningRev),delta=previouslyDeleted===winningRevIsDeleted?0:winningRevIsDeleted>previouslyDeleted?-1:1;newRevIsDeleted=newRev===winningRev?winningRevIsDeleted:isDeleted(docInfo.metadata,newRev),writeDoc(docInfo,winningRev,winningRevIsDeleted,newRevIsDeleted,!0,delta,i,cb)}var errors=require("../errors"),isDeleted=require("./isDeleted"),parseDoc=require("./parseDoc").parseDoc,calculateWinningRev=require("../../deps/merge/winningRev"),merge=require("../../deps/merge"),revExists=require("../../deps/merge/revExists");module.exports=updateDoc},{"../../deps/merge":117,"../../deps/merge/revExists":118,"../../deps/merge/winningRev":121,"../errors":109,"./isDeleted":99,"./parseDoc":103}],107:[function(require,module){"use strict";var hasLocal,isChromeApp=require("./isChromeApp");if(isChromeApp())hasLocal=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),hasLocal=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){hasLocal=!1}module.exports=function(){return hasLocal}},{"./isChromeApp":108}],108:[function(require,module){"use strict";module.exports=function(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}},{}],109:[function(require,module,exports){"use strict";function PouchError(opts){Error.call(this,opts.reason),this.status=opts.status,this.name=opts.error,this.message=opts.reason,this.error=!0}var inherits=require("inherits");inherits(PouchError,Error),PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},exports.UNAUTHORIZED=new PouchError({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),exports.MISSING_BULK_DOCS=new PouchError({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),exports.MISSING_DOC=new PouchError({status:404,error:"not_found",reason:"missing"}),exports.REV_CONFLICT=new PouchError({status:409,error:"conflict",reason:"Document update conflict"}),exports.INVALID_ID=new PouchError({status:400,error:"invalid_id",reason:"_id field must contain a string"}),exports.MISSING_ID=new PouchError({status:412,error:"missing_id",reason:"_id is required for puts"}),exports.RESERVED_ID=new PouchError({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),exports.NOT_OPEN=new PouchError({status:412,error:"precondition_failed",reason:"Database not open"}),exports.UNKNOWN_ERROR=new PouchError({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),exports.BAD_ARG=new PouchError({status:500,error:"badarg",reason:"Some query argument is invalid"}),exports.INVALID_REQUEST=new PouchError({status:400,error:"invalid_request",reason:"Request was invalid"}),exports.QUERY_PARSE_ERROR=new PouchError({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),exports.DOC_VALIDATION=new PouchError({status:500,error:"doc_validation",reason:"Bad special document member"}),exports.BAD_REQUEST=new PouchError({status:400,error:"bad_request",reason:"Something wrong with the request"}),exports.NOT_AN_OBJECT=new PouchError({status:400,error:"bad_request",reason:"Document must be a JSON object"}),exports.DB_MISSING=new PouchError({status:404,error:"not_found",reason:"Database not found"}),exports.IDB_ERROR=new PouchError({status:500,error:"indexed_db_went_bad",reason:"unknown"}),exports.WSQ_ERROR=new PouchError({status:500,error:"web_sql_went_bad",reason:"unknown"}),exports.LDB_ERROR=new PouchError({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),exports.FORBIDDEN=new PouchError({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),exports.INVALID_REV=new PouchError({status:400,error:"bad_request",reason:"Invalid rev format"}),exports.FILE_EXISTS=new PouchError({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),exports.MISSING_STUB=new PouchError({status:412,error:"missing_stub"}),exports.error=function(error,reason,name){function CustomPouchError(reason){for(var p in error)"function"!=typeof error[p]&&(this[p]=error[p]);void 0!==name&&(this.name=name),void 0!==reason&&(this.reason=reason)}return CustomPouchError.prototype=PouchError.prototype,new CustomPouchError(reason)},exports.getErrorTypeByProp=function(prop,value,reason){var errors=exports,keys=Object.keys(errors).filter(function(key){var error=errors[key];return"function"!=typeof error&&error[prop]===value}),key=reason&&keys.filter(function(key){var error=errors[key];return error.message===reason})[0]||keys[0];return key?errors[key]:null},exports.generateErrorFromResponse=function(res){var error,errName,errType,errMsg,errReason,errors=exports;return errName=res.error===!0&&"string"==typeof res.name?res.name:res.error,errReason=res.reason,errType=errors.getErrorTypeByProp("name",errName,errReason),res.missing||"missing"===errReason||"deleted"===errReason||"not_found"===errName?errType=errors.MISSING_DOC:"doc_validation"===errName?(errType=errors.DOC_VALIDATION,errMsg=errReason):"bad_request"===errName&&errType.message!==errReason&&(errType=errors.BAD_REQUEST),errType||(errType=errors.getErrorTypeByProp("status",res.status,errReason)||errors.UNKNOWN_ERROR),error=errors.error(errType,errReason,errName),errMsg&&(error.message=errMsg),res.id&&(error.id=res.id),res.status&&(error.status=res.status),res.missing&&(error.missing=res.missing),error}},{inherits:157}],110:[function(require,module){"use strict";function tryFilter(filter,doc,req){try{return!filter(doc,req)}catch(err){var msg="Filter function threw: "+err.toString();return errors.error(errors.BAD_REQUEST,msg)}}var errors=require("./errors");module.exports=function(opts){var req={},hasFilter=opts.filter&&"function"==typeof opts.filter;return req.query=opts.query_params,function(change){change.doc||(change.doc={});var filterReturn=hasFilter&&tryFilter(opts.filter,change.doc,req);if("object"==typeof filterReturn)return filterReturn;if(filterReturn)return!1;if(opts.include_docs){if(!opts.attachments)for(var att in change.doc._attachments)change.doc._attachments.hasOwnProperty(att)&&(change.doc._attachments[att].stub=!0)}else delete change.doc;return!0}}},{"./errors":109}],111:[function(require,module){"use strict";module.exports=function(arrs){for(var res=[],i=0,len=arrs.length;len>i;i++)res=res.concat(arrs[i]);return res}},{}],112:[function(require,module){"use strict";module.exports=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}},{}],113:[function(require,module){(function(global){"use strict";function intToString(int){return String.fromCharCode(255&int)+String.fromCharCode(int>>>8&255)+String.fromCharCode(int>>>16&255)+String.fromCharCode(int>>>24&255)}function rawToBase64(raw){for(var res="",i=0,len=raw.length;len>i;i++)res+=intToString(raw[i]);return base64.btoa(res)}function appendBuffer(buffer,data,start,end){(start>0||end<data.byteLength)&&(data=new Uint8Array(data,start,Math.min(end,data.byteLength)-start)),buffer.append(data)}function appendString(buffer,data,start,end){(start>0||end<data.length)&&(data=data.substring(start,end)),buffer.appendBinary(data)}var toPromise=require("./toPromise"),base64=require("./binary/base64"),Md5=require("spark-md5"),setImmediateShim=global.setImmediate||global.setTimeout,MD5_CHUNK_SIZE=32768;module.exports=toPromise(function(data,callback){function loadNextChunk(){var start=currentChunk*chunkSize,end=start+chunkSize;if(currentChunk++,chunks>currentChunk)append(buffer,data,start,end),setImmediateShim(loadNextChunk);else{append(buffer,data,start,end);var raw=buffer.end(!0),base64=rawToBase64(raw);callback(null,base64),buffer.destroy()}}var inputIsString="string"==typeof data,len=inputIsString?data.length:data.byteLength,chunkSize=Math.min(MD5_CHUNK_SIZE,len),chunks=Math.ceil(len/chunkSize),currentChunk=0,buffer=inputIsString?new Md5:new Md5.ArrayBuffer,append=inputIsString?appendString:appendBuffer;loadNextChunk()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./binary/base64":87,"./toPromise":129,"spark-md5":164}],114:[function(require,module){"use strict";var winningRev=require("./winningRev"),collectLeaves=require("./collectLeaves");module.exports=function(metadata){for(var win=winningRev(metadata),leaves=collectLeaves(metadata.rev_tree),conflicts=[],i=0,len=leaves.length;len>i;i++){var leaf=leaves[i];leaf.rev===win||leaf.opts.deleted||conflicts.push(leaf.rev)}return conflicts}},{"./collectLeaves":115,"./winningRev":121}],115:[function(require,module){"use strict";function sortByPos(a,b){return a.pos-b.pos}var traverseRevTree=require("./traverseRevTree");module.exports=function(revs){var leaves=[];traverseRevTree(revs,function(isLeaf,pos,id,acc,opts){isLeaf&&leaves.push({rev:pos+"-"+id,pos:pos,opts:opts})}),leaves.sort(sortByPos).reverse();for(var i=0,len=leaves.length;len>i;i++)delete leaves[i].pos;return leaves}},{"./traverseRevTree":120}],116:[function(require,module){"use strict";var traverseRevTree=require("./traverseRevTree");module.exports=function(metadata){var revs=[];return traverseRevTree(metadata.rev_tree,function(isLeaf,pos,revHash,ctx,opts){"available"!==opts.status||isLeaf||(revs.push(pos+"-"+revHash),opts.status="missing")}),revs}},{"./traverseRevTree":120}],117:[function(require,module){"use strict";function sortByPos(a,b){return a.pos-b.pos}function binarySearch(arr,item,comparator){for(var mid,low=0,high=arr.length;high>low;)mid=low+high>>>1,comparator(arr[mid],item)<0?low=mid+1:high=mid;return low}function insertSorted(arr,item,comparator){var idx=binarySearch(arr,item,comparator);arr.splice(idx,0,item)}function pathToTree(path,numStemmed){for(var root,leaf,i=numStemmed,len=path.length;len>i;i++){var node=path[i],currentLeaf=[node.id,node.opts,[]];leaf?(leaf[2].push(currentLeaf),leaf=currentLeaf):root=leaf=currentLeaf}return root}function compareTree(a,b){return a[0]<b[0]?-1:1}function mergeTree(in_tree1,in_tree2){for(var queue=[{tree1:in_tree1,tree2:in_tree2}],conflicts=!1;queue.length>0;){var item=queue.pop(),tree1=item.tree1,tree2=item.tree2;(tree1[1].status||tree2[1].status)&&(tree1[1].status="available"===tree1[1].status||"available"===tree2[1].status?"available":"missing");for(var i=0;i<tree2[2].length;i++)if(tree1[2][0]){for(var merged=!1,j=0;j<tree1[2].length;j++)tree1[2][j][0]===tree2[2][i][0]&&(queue.push({tree1:tree1[2][j],tree2:tree2[2][i]}),merged=!0);merged||(conflicts="new_branch",insertSorted(tree1[2],tree2[2][i],compareTree))}else conflicts="new_leaf",tree1[2][0]=tree2[2][i]}return{conflicts:conflicts,tree:in_tree1}}function doMerge(tree,path,dontExpand){var res,restree=[],conflicts=!1,merged=!1;if(!tree.length)return{tree:[path],conflicts:"new_leaf"};for(var i=0,len=tree.length;len>i;i++){var branch=tree[i];if(branch.pos===path.pos&&branch.ids[0]===path.ids[0])res=mergeTree(branch.ids,path.ids),restree.push({pos:branch.pos,ids:res.tree}),conflicts=conflicts||res.conflicts,merged=!0;else if(dontExpand!==!0){var t1=branch.pos<path.pos?branch:path,t2=branch.pos<path.pos?path:branch,diff=t2.pos-t1.pos,candidateParents=[],trees=[];for(trees.push({ids:t1.ids,diff:diff,parent:null,parentIdx:null});trees.length>0;){var item=trees.pop();if(0!==item.diff)for(var elements=item.ids[2],j=0,elementsLen=elements.length;elementsLen>j;j++)trees.push({ids:elements[j],diff:item.diff-1,parent:item.ids,parentIdx:j});else item.ids[0]===t2.ids[0]&&candidateParents.push(item)}var el=candidateParents[0];el?(res=mergeTree(el.ids,t2.ids),el.parent[2][el.parentIdx]=res.tree,restree.push({pos:t1.pos,ids:t1.ids}),conflicts=conflicts||res.conflicts,merged=!0):restree.push(branch)}else restree.push(branch)}return merged||restree.push(path),restree.sort(sortByPos),{tree:restree,conflicts:conflicts||"internal_node"}}function stem(tree,depth){for(var result,paths=rootToLeaf(tree),i=0,len=paths.length;len>i;i++){var path=paths[i],stemmed=path.ids,numStemmed=Math.max(0,stemmed.length-depth),stemmedNode={pos:path.pos+numStemmed,ids:pathToTree(stemmed,numStemmed)};result=result?doMerge(result,stemmedNode,!0).tree:[stemmedNode]}return result}var rootToLeaf=require("./rootToLeaf");module.exports=function(tree,path,depth){var newTree=doMerge(tree,path);return{tree:stem(newTree.tree,depth),conflicts:newTree.conflicts}}},{"./rootToLeaf":119}],118:[function(require,module){"use strict";module.exports=function(revs,rev){for(var node,toVisit=revs.slice(),splitRev=rev.split("-"),targetPos=parseInt(splitRev[0],10),targetId=splitRev[1];node=toVisit.pop();){if(node.pos===targetPos&&node.ids[0]===targetId)return!0;for(var branches=node.ids[2],i=0,len=branches.length;len>i;i++)toVisit.push({pos:node.pos+1,ids:branches[i]})}return!1}},{}],119:[function(require,module){"use strict";module.exports=function(revs){for(var node,paths=[],toVisit=revs.slice();node=toVisit.pop();){var pos=node.pos,tree=node.ids,id=tree[0],opts=tree[1],branches=tree[2],isLeaf=0===branches.length,history=node.history?node.history.slice():[];history.push({id:id,opts:opts}),isLeaf&&paths.push({pos:pos+1-history.length,ids:history});for(var i=0,len=branches.length;len>i;i++)toVisit.push({pos:pos+1,ids:branches[i],history:history})}return paths.reverse()}},{}],120:[function(require,module){"use strict";module.exports=function(revs,callback){for(var node,toVisit=revs.slice();node=toVisit.pop();)for(var pos=node.pos,tree=node.ids,branches=tree[2],newCtx=callback(0===branches.length,pos,tree[0],node.ctx,tree[1]),i=0,len=branches.length;len>i;i++)toVisit.push({pos:pos+1,ids:branches[i],ctx:newCtx})}},{}],121:[function(require,module){"use strict";module.exports=function(metadata){for(var winningId,winningPos,winningDeleted,node,toVisit=metadata.rev_tree.slice();node=toVisit.pop();){var tree=node.ids,branches=tree[2],pos=node.pos;if(branches.length)for(var i=0,len=branches.length;len>i;i++)toVisit.push({pos:pos+1,ids:branches[i]});else{var deleted=!!tree[1].deleted,id=tree[0];(!winningId||(winningDeleted!==deleted?winningDeleted:winningPos!==pos?pos>winningPos:id>winningId))&&(winningId=id,winningPos=pos,winningDeleted=deleted)}}return winningPos+"-"+winningId}},{}],122:[function(require,module){"use strict";function once(fun){var called=!1;return getArguments(function(args){if(called)throw new Error("once called more than once");called=!0,fun.apply(this,args)})}var getArguments=require("argsarray");module.exports=once},{argsarray:153}],123:[function(require,module){"use strict";function decodeUtf8(str){return decodeURIComponent(window.escape(str))}function hexToInt(charCode){return 65>charCode?charCode-48:charCode-55}function parseHexUtf8(str,start,end){for(var result="";end>start;)result+=String.fromCharCode(hexToInt(str.charCodeAt(start++))<<4|hexToInt(str.charCodeAt(start++)));return result}function parseHexUtf16(str,start,end){for(var result="";end>start;)result+=String.fromCharCode(hexToInt(str.charCodeAt(start+2))<<12|hexToInt(str.charCodeAt(start+3))<<8|hexToInt(str.charCodeAt(start))<<4|hexToInt(str.charCodeAt(start+1))),start+=4;return result}function parseHexString(str,encoding){return"UTF-8"===encoding?decodeUtf8(parseHexUtf8(str,0,str.length)):parseHexUtf16(str,0,str.length)}module.exports=parseHexString},{}],124:[function(require,module){"use strict";function parseUri(str){for(var m=parser.exec(str),uri={},i=14;i--;){var key=keys[i],value=m[i]||"",encoded=-1!==["user","password"].indexOf(key);uri[key]=encoded?decodeURIComponent(value):value}return uri[qName]={},uri[keys[12]].replace(qParser,function($0,$1,$2){$1&&(uri[qName][$1]=$2)}),uri}var keys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qName="queryKey",qParser=/(?:^|&)([^&=]*)=?([^&]*)/g,parser=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;module.exports=parseUri},{}],125:[function(require,module){"use strict";module.exports=function(obj,arr){for(var res={},i=0,len=arr.length;len>i;i++){var prop=arr[i];prop in obj&&(res[prop]=obj[prop])}return res}},{}],126:[function(require,module){"use strict";module.exports="function"==typeof Promise?Promise:require("lie")},{lie:159}],127:[function(require,module){"use strict";var vuvuzela=require("vuvuzela");module.exports=function(str){try{return JSON.parse(str)}catch(e){return vuvuzela.parse(str)}}},{vuvuzela:165}],128:[function(require,module){"use strict";var vuvuzela=require("vuvuzela");module.exports=function(json){try{return JSON.stringify(json)}catch(e){return vuvuzela.stringify(json)}}},{vuvuzela:165}],129:[function(require,module){(function(process){"use strict";function toPromise(func){return getArguments(function(args){args=clone(args);var usedCB,self=this,tempCB="function"==typeof args[args.length-1]?args.pop():!1;tempCB&&(usedCB=function(err,resp){process.nextTick(function(){tempCB(err,resp)})});var promise=new Promise(function(fulfill,reject){var resp;try{var callback=once(function(err,mesg){err?reject(err):fulfill(mesg)});args.push(callback),resp=func.apply(self,args),resp&&"function"==typeof resp.then&&fulfill(resp)}catch(e){reject(e)}});return usedCB&&promise.then(function(result){usedCB(null,result)},usedCB),promise})}var Promise=require("./promise"),getArguments=require("argsarray"),clone=require("./clone"),once=require("./once");module.exports=toPromise}).call(this,require("_process"))},{"./clone":98,"./once":122,"./promise":126,_process:44,argsarray:153}],130:[function(require,module){"use strict";function tryAndPut(db,doc,diffFun){return db.put(doc).then(function(res){return{updated:!0,rev:res.rev}},function(err){if(409!==err.status)throw err;return upsert(db,doc._id,diffFun)})}var Promise=require("./promise"),upsert=module.exports=function(db,docId,diffFun){return new Promise(function(fulfill,reject){db.get(docId,function(err,doc){if(err){if(404!==err.status)return reject(err);doc={}}var docRev=doc._rev,newDoc=diffFun(doc);return newDoc?(newDoc._id=docId,newDoc._rev=docRev,void fulfill(tryAndPut(db,newDoc,diffFun))):fulfill({updated:!1,rev:docRev})})})}},{"./promise":126}],131:[function(require,module){"use strict";function getValue(radix){return 0|Math.random()*radix}function uuid(len,radix){radix=radix||chars.length;var out="",i=-1;if(len){for(;++i<len;)out+=chars[getValue(radix)];return out}for(;++i<36;)switch(i){case 8:case 13:case 18:case 23:out+="-";break;case 19:out+=chars[3&getValue(16)|8];break;default:out+=chars[getValue(16)]}return out}var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");module.exports=uuid},{}],132:[function(require,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],133:[function(require,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],134:[function(require,module){"use strict";var PouchDB=require("./setup");module.exports=PouchDB,PouchDB.ajax=require("./deps/ajax/prequest"),PouchDB.utils=require("./utils"),PouchDB.Errors=require("./deps/errors"),PouchDB.replicate=require("./replicate").replicate,PouchDB.sync=require("./sync"),PouchDB.version=require("./version");var httpAdapter=require("./adapters/http");PouchDB.adapter("http",httpAdapter),PouchDB.adapter("https",httpAdapter),PouchDB.plugin(require("./mapreduce"));var adapters=require("./adapters");Object.keys(adapters).forEach(function(adapterName){PouchDB.adapter(adapterName,adapters[adapterName],!0)})},{"./adapters":63,"./adapters/http":64,"./deps/ajax/prequest":84,"./deps/errors":109,"./mapreduce":137,"./replicate":145,"./setup":148,"./sync":149,"./utils":151,"./version":152}],135:[function(require,module){"use strict";var upsert=require("../deps/upsert"),Promise=require("../deps/promise"),md5=require("./md5");module.exports=function(opts){var sourceDB=opts.db,viewName=opts.viewName,mapFun=opts.map,reduceFun=opts.reduce,temporary=opts.temporary,viewSignature=mapFun.toString()+(reduceFun&&reduceFun.toString())+"undefined";if(!temporary&&sourceDB._cachedViews){var cachedView=sourceDB._cachedViews[viewSignature];if(cachedView)return Promise.resolve(cachedView)}return sourceDB.info().then(function(info){function diffFunction(doc){doc.views=doc.views||{};var fullViewName=viewName;-1===fullViewName.indexOf("/")&&(fullViewName=viewName+"/"+viewName);var depDbs=doc.views[fullViewName]=doc.views[fullViewName]||{};if(!depDbs[depDbName])return depDbs[depDbName]=!0,doc}var depDbName=info.db_name+"-mrview-"+(temporary?"temp":md5(viewSignature));return upsert(sourceDB,"_local/mrviews",diffFunction).then(function(){return sourceDB.registerDependentDatabase(depDbName).then(function(res){var db=res.db;db.auto_compaction=!0;var view={name:depDbName,db:db,sourceDB:sourceDB,adapter:sourceDB.adapter,mapFun:mapFun,reduceFun:reduceFun};return view.db.get("_local/lastSeq").catch(function(err){if(404!==err.status)throw err}).then(function(lastSeqDoc){return view.seq=lastSeqDoc?lastSeqDoc.seq:0,temporary||(sourceDB._cachedViews=sourceDB._cachedViews||{},sourceDB._cachedViews[viewSignature]=view,view.db.once("destroyed",function(){delete sourceDB._cachedViews[viewSignature]})),view})})})})}},{"../deps/promise":126,"../deps/upsert":130,"./md5":138}],136:[function(require,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("("+func.replace(/;\s*$/,"")+");")}},{}],137:[function(require,module,exports){(function(process){
"use strict";function parseViewName(name){return-1===name.indexOf("/")?[name,name]:name.split("/")}function isGenOne(changes){return 1===changes.length&&/^1-/.test(changes[0].rev)}function emitError(db,e){try{db.emit("error",e)}catch(err){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(e)}}function tryCode(db,fun,args){try{return{output:fun.apply(null,args)}}catch(e){return emitError(db,e),{error:e}}}function sortByKeyThenValue(x,y){var keyCompare=collate(x.key,y.key);return 0!==keyCompare?keyCompare:collate(x.value,y.value)}function sliceResults(results,limit,skip){return skip=skip||0,"number"==typeof limit?results.slice(skip,limit+skip):skip>0?results.slice(skip):results}function rowToDocId(row){var val=row.value,docId=val&&"object"==typeof val&&val._id||row.id;return docId}function readAttachmentsAsBlobOrBuffer(res){res.rows.forEach(function(row){var atts=row.doc&&row.doc._attachments;atts&&Object.keys(atts).forEach(function(filename){var att=atts[filename];atts[filename].data=b64ToBluffer(att.data,att.content_type)})})}function postprocessAttachments(opts){return function(res){return opts.include_docs&&opts.attachments&&opts.binary&&readAttachmentsAsBlobOrBuffer(res),res}}function createBuiltInError(name){var message="builtin "+name+" function requires map values to be numbers or number arrays";return new BuiltInError(message)}function sum(values){for(var result=0,i=0,len=values.length;len>i;i++){var num=values[i];if("number"!=typeof num){if(!Array.isArray(num))throw createBuiltInError("_sum");result="number"==typeof result?[result]:result;for(var j=0,jLen=num.length;jLen>j;j++){var jNum=num[j];if("number"!=typeof jNum)throw createBuiltInError("_sum");"undefined"==typeof result[j]?result.push(jNum):result[j]+=jNum}}else"number"==typeof result?result+=num:result[0]+=num}return result}function addHttpParam(paramName,opts,params,asJson){var val=opts[paramName];"undefined"!=typeof val&&(asJson&&(val=encodeURIComponent(JSON.stringify(val))),params.push(paramName+"="+val))}function checkQueryParseError(options,fun){var startkeyName=options.descending?"endkey":"startkey",endkeyName=options.descending?"startkey":"endkey";if("undefined"!=typeof options[startkeyName]&&"undefined"!=typeof options[endkeyName]&&collate(options[startkeyName],options[endkeyName])>0)throw new QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(fun.reduce&&options.reduce!==!1){if(options.include_docs)throw new QueryParseError("{include_docs:true} is invalid for reduce");if(options.keys&&options.keys.length>1&&!options.group&&!options.group_level)throw new QueryParseError("Multi-key fetches for reduce views must use {group: true}")}if(options.group_level){if("number"!=typeof options.group_level)throw new QueryParseError('Invalid value for integer: "'+options.group_level+'"');if(options.group_level<0)throw new QueryParseError('Invalid value for positive integer: "'+options.group_level+'"')}}function httpQuery(db,fun,opts){var body,params=[],method="GET";if(addHttpParam("reduce",opts,params),addHttpParam("include_docs",opts,params),addHttpParam("attachments",opts,params),addHttpParam("limit",opts,params),addHttpParam("descending",opts,params),addHttpParam("group",opts,params),addHttpParam("group_level",opts,params),addHttpParam("skip",opts,params),addHttpParam("stale",opts,params),addHttpParam("conflicts",opts,params),addHttpParam("startkey",opts,params,!0),addHttpParam("start_key",opts,params,!0),addHttpParam("endkey",opts,params,!0),addHttpParam("end_key",opts,params,!0),addHttpParam("inclusive_end",opts,params),addHttpParam("key",opts,params,!0),params=params.join("&"),params=""===params?"":"?"+params,"undefined"!=typeof opts.keys){var MAX_URL_LENGTH=2e3,keysAsString="keys="+encodeURIComponent(JSON.stringify(opts.keys));keysAsString.length+params.length+1<=MAX_URL_LENGTH?params+=("?"===params[0]?"&":"?")+keysAsString:(method="POST","string"==typeof fun?body={keys:opts.keys}:fun.keys=opts.keys)}if("string"==typeof fun){var parts=parseViewName(fun);return db.request({method:method,url:"_design/"+parts[0]+"/_view/"+parts[1]+params,body:body}).then(postprocessAttachments(opts))}return body=body||{},Object.keys(fun).forEach(function(key){body[key]=Array.isArray(fun[key])?fun[key]:fun[key].toString()}),db.request({method:"POST",url:"_temp_view"+params,body:body}).then(postprocessAttachments(opts))}function customQuery(db,fun,opts){return new Promise(function(resolve,reject){db._query(fun,opts,function(err,res){return err?reject(err):void resolve(res)})})}function customViewCleanup(db){return new Promise(function(resolve,reject){db._viewCleanup(function(err,res){return err?reject(err):void resolve(res)})})}function defaultsTo(value){return function(reason){if(404===reason.status)return value;throw reason}}function getDocsToPersist(docId,view,docIdsToChangesAndEmits){function getMetaDoc(){return isGenOne(changes)?Promise.resolve(defaultMetaDoc):view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc))}function getKeyValueDocs(metaDoc){return metaDoc.keys.length?view.db.allDocs({keys:metaDoc.keys,include_docs:!0}):Promise.resolve({rows:[]})}function processKvDocs(metaDoc,kvDocsRes){for(var kvDocs=[],oldKeysMap={},i=0,len=kvDocsRes.rows.length;len>i;i++){var row=kvDocsRes.rows[i],doc=row.doc;if(doc&&(kvDocs.push(doc),oldKeysMap[doc._id]=!0,doc._deleted=!indexableKeysToKeyValues[doc._id],!doc._deleted)){var keyValue=indexableKeysToKeyValues[doc._id];"value"in keyValue&&(doc.value=keyValue.value)}}var newKeys=Object.keys(indexableKeysToKeyValues);return newKeys.forEach(function(key){if(!oldKeysMap[key]){var kvDoc={_id:key},keyValue=indexableKeysToKeyValues[key];"value"in keyValue&&(kvDoc.value=keyValue.value),kvDocs.push(kvDoc)}}),metaDoc.keys=uniq(newKeys.concat(metaDoc.keys)),kvDocs.push(metaDoc),kvDocs}var metaDocId="_local/doc_"+docId,defaultMetaDoc={_id:metaDocId,keys:[]},docData=docIdsToChangesAndEmits[docId],indexableKeysToKeyValues=docData.indexableKeysToKeyValues,changes=docData.changes;return getMetaDoc().then(function(metaDoc){return getKeyValueDocs(metaDoc).then(function(kvDocsRes){return processKvDocs(metaDoc,kvDocsRes)})})}function saveKeyValues(view,docIdsToChangesAndEmits,seq){var seqDocId="_local/lastSeq";return view.db.get(seqDocId).catch(defaultsTo({_id:seqDocId,seq:0})).then(function(lastSeqDoc){var docIds=Object.keys(docIdsToChangesAndEmits);return Promise.all(docIds.map(function(docId){return getDocsToPersist(docId,view,docIdsToChangesAndEmits)})).then(function(listOfDocsToPersist){var docsToPersist=flatten(listOfDocsToPersist);return lastSeqDoc.seq=seq,docsToPersist.push(lastSeqDoc),view.db.bulkDocs({docs:docsToPersist})})})}function getQueue(view){var viewName="string"==typeof view?view:view.name,queue=persistentQueues[viewName];return queue||(queue=persistentQueues[viewName]=new TaskQueue),queue}function updateView(view){return sequentialize(getQueue(view),function(){return updateViewInQueue(view)})()}function updateViewInQueue(view){function emit(key,value){var output={id:doc._id,key:normalizeKey(key)};"undefined"!=typeof value&&null!==value&&(output.value=normalizeKey(value)),mapResults.push(output)}function processChange(docIdsToChangesAndEmits,seq){return function(){return saveKeyValues(view,docIdsToChangesAndEmits,seq)}}var mapResults,doc,mapFun;if("function"==typeof view.mapFun&&2===view.mapFun.length){var origMap=view.mapFun;mapFun=function(doc){return origMap(doc,emit)}}else mapFun=evalFunc(view.mapFun.toString(),emit,sum,log,Array.isArray,JSON.parse);var currentSeq=view.seq||0,queue=new TaskQueue;return new Promise(function(resolve,reject){function complete(){queue.finish().then(function(){view.seq=currentSeq,resolve()})}function processNextBatch(){function onError(err){reject(err)}view.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:currentSeq,limit:CHANGES_BATCH_SIZE}).on("complete",function(response){var results=response.results;if(!results.length)return complete();for(var docIdsToChangesAndEmits={},i=0,l=results.length;l>i;i++){var change=results[i];if("_"!==change.doc._id[0]){mapResults=[],doc=change.doc,doc._deleted||tryCode(view.sourceDB,mapFun,[doc]),mapResults.sort(sortByKeyThenValue);for(var lastKey,indexableKeysToKeyValues={},j=0,jl=mapResults.length;jl>j;j++){var obj=mapResults[j],complexKey=[obj.key,obj.id];0===collate(obj.key,lastKey)&&complexKey.push(j);var indexableKey=toIndexableString(complexKey);indexableKeysToKeyValues[indexableKey]=obj,lastKey=obj.key}docIdsToChangesAndEmits[change.doc._id]={indexableKeysToKeyValues:indexableKeysToKeyValues,changes:change.changes}}currentSeq=change.seq}return queue.add(processChange(docIdsToChangesAndEmits,currentSeq)),results.length<CHANGES_BATCH_SIZE?complete():processNextBatch()}).on("error",onError)}processNextBatch()})}function reduceView(view,results,options){0===options.group_level&&delete options.group_level;var reduceFun,shouldGroup=options.group||options.group_level;reduceFun=builtInReduce[view.reduceFun]?builtInReduce[view.reduceFun]:evalFunc(view.reduceFun.toString(),null,sum,log,Array.isArray,JSON.parse);var groups=[],lvl=options.group_level;results.forEach(function(e){var last=groups[groups.length-1],key=shouldGroup?e.key:null;return shouldGroup&&Array.isArray(key)&&"number"==typeof lvl&&(key=key.length>lvl?key.slice(0,lvl):key),last&&0===collate(last.key[0][0],key)?(last.key.push([key,e.id]),void last.value.push(e.value)):void groups.push({key:[[key,e.id]],value:[e.value]})});for(var i=0,len=groups.length;len>i;i++){var e=groups[i],reduceTry=tryCode(view.sourceDB,reduceFun,[e.key,e.value,!1]);if(reduceTry.error&&reduceTry.error instanceof BuiltInError)throw reduceTry.error;e.value=reduceTry.error?null:reduceTry.output,e.key=e.key[0][0]}return{rows:sliceResults(groups,options.limit,options.skip)}}function queryView(view,opts){return sequentialize(getQueue(view),function(){return queryViewInQueue(view,opts)})()}function queryViewInQueue(view,opts){function fetchFromView(viewOpts){return viewOpts.include_docs=!0,view.db.allDocs(viewOpts).then(function(res){return totalRows=res.total_rows,res.rows.map(function(result){if("value"in result.doc&&"object"==typeof result.doc.value&&null!==result.doc.value){var keys=Object.keys(result.doc.value).sort(),expectedKeys=["id","key","value"];if(!(expectedKeys>keys||keys>expectedKeys))return result.doc.value}var parsedKeyAndDocId=parseIndexableString(result.doc._id);return{key:parsedKeyAndDocId[0],id:parsedKeyAndDocId[1],value:"value"in result.doc?result.doc.value:null}})})}function onMapResultsReady(rows){var finalResults;if(finalResults=shouldReduce?reduceView(view,rows,opts):{total_rows:totalRows,offset:skip,rows:rows},opts.include_docs){var docIds=uniq(rows.map(rowToDocId));return view.sourceDB.allDocs({keys:docIds,include_docs:!0,conflicts:opts.conflicts,attachments:opts.attachments,binary:opts.binary}).then(function(allDocsRes){var docIdsToDocs={};return allDocsRes.rows.forEach(function(row){row.doc&&(docIdsToDocs["$"+row.id]=row.doc)}),rows.forEach(function(row){var docId=rowToDocId(row),doc=docIdsToDocs["$"+docId];doc&&(row.doc=doc)}),finalResults})}return finalResults}var totalRows,shouldReduce=view.reduceFun&&opts.reduce!==!1,skip=opts.skip||0;if("undefined"==typeof opts.keys||opts.keys.length||(opts.limit=0,delete opts.keys),"undefined"!=typeof opts.keys){var keys=opts.keys,fetchPromises=keys.map(function(key){var viewOpts={startkey:toIndexableString([key]),endkey:toIndexableString([key,{}])};return fetchFromView(viewOpts)});return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady)}var viewOpts={descending:opts.descending};if(opts.start_key&&(opts.startkey=opts.start_key),opts.end_key&&(opts.endkey=opts.end_key),"undefined"!=typeof opts.startkey&&(viewOpts.startkey=toIndexableString(opts.descending?[opts.startkey,{}]:[opts.startkey])),"undefined"!=typeof opts.endkey){var inclusiveEnd=opts.inclusive_end!==!1;opts.descending&&(inclusiveEnd=!inclusiveEnd),viewOpts.endkey=toIndexableString(inclusiveEnd?[opts.endkey,{}]:[opts.endkey])}if("undefined"!=typeof opts.key){var keyStart=toIndexableString([opts.key]),keyEnd=toIndexableString([opts.key,{}]);viewOpts.descending?(viewOpts.endkey=keyStart,viewOpts.startkey=keyEnd):(viewOpts.startkey=keyStart,viewOpts.endkey=keyEnd)}return shouldReduce||("number"==typeof opts.limit&&(viewOpts.limit=opts.limit),viewOpts.skip=skip),fetchFromView(viewOpts).then(onMapResultsReady)}function httpViewCleanup(db){return db.request({method:"POST",url:"_view_cleanup"})}function localViewCleanup(db){return db.get("_local/mrviews").then(function(metaDoc){var docsToViews={};Object.keys(metaDoc.views).forEach(function(fullViewName){var parts=parseViewName(fullViewName),designDocName="_design/"+parts[0],viewName=parts[1];docsToViews[designDocName]=docsToViews[designDocName]||{},docsToViews[designDocName][viewName]=!0});var opts={keys:Object.keys(docsToViews),include_docs:!0};return db.allDocs(opts).then(function(res){var viewsToStatus={};res.rows.forEach(function(row){var ddocName=row.key.substring(8);Object.keys(docsToViews[row.key]).forEach(function(viewName){var fullViewName=ddocName+"/"+viewName;metaDoc.views[fullViewName]||(fullViewName=viewName);var viewDBNames=Object.keys(metaDoc.views[fullViewName]),statusIsGood=row.doc&&row.doc.views&&row.doc.views[viewName];viewDBNames.forEach(function(viewDBName){viewsToStatus[viewDBName]=viewsToStatus[viewDBName]||statusIsGood})})});var dbsToDelete=Object.keys(viewsToStatus).filter(function(viewDBName){return!viewsToStatus[viewDBName]}),destroyPromises=dbsToDelete.map(function(viewDBName){return sequentialize(getQueue(viewDBName),function(){return new db.constructor(viewDBName,db.__opts).destroy()})()});return Promise.all(destroyPromises).then(function(){return{ok:!0}})})},defaultsTo({ok:!0}))}function queryPromised(db,fun,opts){if("http"===db.type())return httpQuery(db,fun,opts);if("function"==typeof db._query)return customQuery(db,fun,opts);if("string"!=typeof fun){checkQueryParseError(opts,fun);var createViewOpts={db:db,viewName:"temp_view/temp_view",map:fun.map,reduce:fun.reduce,temporary:!0};return tempViewQueue.add(function(){return createView(createViewOpts).then(function(view){function cleanup(){return view.db.destroy()}return fin(updateView(view).then(function(){return queryView(view,opts)}),cleanup)})}),tempViewQueue.finish()}var fullViewName=fun,parts=parseViewName(fullViewName),designDocName=parts[0],viewName=parts[1];return db.get("_design/"+designDocName).then(function(doc){var fun=doc.views&&doc.views[viewName];if(!fun||"string"!=typeof fun.map)throw new NotFoundError("ddoc "+designDocName+" has no view named "+viewName);checkQueryParseError(opts,fun);var createViewOpts={db:db,viewName:fullViewName,map:fun.map,reduce:fun.reduce};return createView(createViewOpts).then(function(view){return"ok"===opts.stale||"update_after"===opts.stale?("update_after"===opts.stale&&process.nextTick(function(){updateView(view)}),queryView(view,opts)):updateView(view).then(function(){return queryView(view,opts)})})})}function QueryParseError(message){this.status=400,this.name="query_parse_error",this.message=message,this.error=!0;try{Error.captureStackTrace(this,QueryParseError)}catch(e){}}function NotFoundError(message){this.status=404,this.name="not_found",this.message=message,this.error=!0;try{Error.captureStackTrace(this,NotFoundError)}catch(e){}}function BuiltInError(message){this.status=500,this.name="invalid_value",this.message=message,this.error=!0;try{Error.captureStackTrace(this,BuiltInError)}catch(e){}}var log,b64ToBluffer=require("../deps/binary/base64StringToBlobOrBuffer"),pouchCollate=require("pouchdb-collate"),TaskQueue=require("./taskqueue"),collate=pouchCollate.collate,toIndexableString=pouchCollate.toIndexableString,normalizeKey=pouchCollate.normalizeKey,parseIndexableString=pouchCollate.parseIndexableString,createView=require("./createView"),evalFunc=require("./evalfunc");log="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var utils=require("./utils"),callbackify=utils.callbackify,sequentialize=utils.sequentialize,uniq=utils.uniq,fin=utils.fin,promisedCallback=utils.promisedCallback,Promise=require("../deps/promise"),flatten=require("../deps/flatten"),inherits=require("inherits"),persistentQueues={},tempViewQueue=new TaskQueue,CHANGES_BATCH_SIZE=50,builtInReduce={_sum:function(keys,values){return sum(values)},_count:function(keys,values){return values.length},_stats:function(keys,values){function sumsqr(values){for(var _sumsqr=0,i=0,len=values.length;len>i;i++){var num=values[i];_sumsqr+=num*num}return _sumsqr}return{sum:sum(values),min:Math.min.apply(null,values),max:Math.max.apply(null,values),count:values.length,sumsqr:sumsqr(values)}}};exports.viewCleanup=callbackify(function(){var db=this;return"http"===db.type()?httpViewCleanup(db):"function"==typeof db._viewCleanup?customViewCleanup(db):localViewCleanup(db)}),exports.query=function(fun,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),opts=opts||{},"function"==typeof fun&&(fun={map:fun});var db=this,promise=Promise.resolve().then(function(){return queryPromised(db,fun,opts)});return promisedCallback(promise,callback),promise},inherits(QueryParseError,Error),inherits(NotFoundError,Error),inherits(BuiltInError,Error)}).call(this,require("_process"))},{"../deps/binary/base64StringToBlobOrBuffer":88,"../deps/flatten":111,"../deps/promise":126,"./createView":135,"./evalfunc":136,"./taskqueue":139,"./utils":140,_process:44,inherits:157,"pouchdb-collate":161}],138:[function(require,module){"use strict";var Md5=require("spark-md5");module.exports=function(string){return Md5.hash(string)}},{"spark-md5":164}],139:[function(require,module){"use strict";function TaskQueue(){this.promise=new Promise(function(fulfill){fulfill()})}var Promise=require("../deps/promise");TaskQueue.prototype.add=function(promiseFactory){return this.promise=this.promise.catch(function(){}).then(function(){return promiseFactory()}),this.promise},TaskQueue.prototype.finish=function(){return this.promise},module.exports=TaskQueue},{"../deps/promise":126}],140:[function(require,module,exports){(function(process){"use strict";var argsarray=require("argsarray");exports.promisedCallback=function(promise,callback){return callback&&promise.then(function(res){process.nextTick(function(){callback(null,res)})},function(reason){process.nextTick(function(){callback(reason)})}),promise},exports.callbackify=function(fun){return argsarray(function(args){var cb=args.pop(),promise=fun.apply(this,args);return"function"==typeof cb&&exports.promisedCallback(promise,cb),promise})},exports.fin=function(promise,finalPromiseFactory){return promise.then(function(res){return finalPromiseFactory().then(function(){return res})},function(reason){return finalPromiseFactory().then(function(){throw reason})})},exports.sequentialize=function(queue,promiseFactory){return function(){var args=arguments,that=this;return queue.add(function(){return promiseFactory.apply(that,args)})}},exports.uniq=function(arr){for(var map={},i=0,len=arr.length;len>i;i++)map["$"+arr[i]]=!0;var keys=Object.keys(map),output=new Array(keys.length);for(i=0,len=keys.length;len>i;i++)output[i]=keys[i].substring(1);return output}}).call(this,require("_process"))},{_process:44,argsarray:153}],141:[function(require,module){"use strict";function randomNumber(min,max){min=parseInt(min,10)||0,max=parseInt(max,10),max!==max||min>=max?max=(min||1)<<1:max+=1;var ratio=Math.random(),range=max-min;return~~(range*ratio+min)}function defaultBackOff(min){var max=0;return min||(max=2e3),randomNumber(min,max)}function backOff(opts,returnValue,error,callback){return opts.retry===!1?(returnValue.emit("error",error),void returnValue.removeAllListeners()):("function"!=typeof opts.back_off_function&&(opts.back_off_function=defaultBackOff),returnValue.emit("requestError",error),("active"===returnValue.state||"pending"===returnValue.state)&&(returnValue.emit("paused",error),returnValue.state="stopped",returnValue.once("active",function(){opts.current_back_off=STARTING_BACK_OFF})),opts.current_back_off=opts.current_back_off||STARTING_BACK_OFF,opts.current_back_off=opts.back_off_function(opts.current_back_off),void setTimeout(callback,opts.current_back_off))}var STARTING_BACK_OFF=0;module.exports=backOff},{}],142:[function(require,module){"use strict";function updateCheckpoint(db,id,checkpoint,session,returnValue){return db.get(id).catch(function(err){if(404===err.status)return"http"===db.type()&&explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:session,_id:id,history:[],replicator:REPLICATOR,version:CHECKPOINT_VERSION};throw err}).then(function(doc){return returnValue.cancelled?void 0:(doc.history=(doc.history||[]).filter(function(item){return item.session_id!==session}),doc.history.unshift({last_seq:checkpoint,session_id:session}),doc.history=doc.history.slice(0,CHECKPOINT_HISTORY_SIZE),doc.version=CHECKPOINT_VERSION,doc.replicator=REPLICATOR,doc.session_id=session,doc.last_seq=checkpoint,db.put(doc).catch(function(err){if(409===err.status)return updateCheckpoint(db,id,checkpoint,session,returnValue);throw err}))})}function Checkpointer(src,target,id,returnValue){this.src=src,this.target=target,this.id=id,this.returnValue=returnValue}function compareReplicationLogs(srcDoc,tgtDoc){if(srcDoc.session_id===tgtDoc.session_id)return{last_seq:srcDoc.last_seq,history:srcDoc.history||[]};var sourceHistory=srcDoc.history||[],targetHistory=tgtDoc.history||[];return compareReplicationHistory(sourceHistory,targetHistory)}function compareReplicationHistory(sourceHistory,targetHistory){var S=sourceHistory[0],sourceRest=sourceHistory.slice(1),T=targetHistory[0],targetRest=targetHistory.slice(1);if(!S||0===targetHistory.length)return{last_seq:LOWEST_SEQ,history:[]};var sourceId=S.session_id;if(hasSessionId(sourceId,targetHistory))return{last_seq:S.last_seq,history:sourceHistory};var targetId=T.session_id;return hasSessionId(targetId,sourceRest)?{last_seq:T.last_seq,history:targetRest}:compareReplicationHistory(sourceRest,targetRest)}function hasSessionId(sessionId,history){var props=history[0],rest=history.slice(1);return sessionId&&0!==history.length?sessionId===props.session_id?!0:hasSessionId(sessionId,rest):!1}var Promise=require("./../deps/promise"),explainError=require("./../deps/ajax/explainError"),pouchCollate=require("pouchdb-collate"),collate=pouchCollate.collate,CHECKPOINT_VERSION=1,REPLICATOR="pouchdb",CHECKPOINT_HISTORY_SIZE=5,LOWEST_SEQ=0;Checkpointer.prototype.writeCheckpoint=function(checkpoint,session){var self=this;return this.updateTarget(checkpoint,session).then(function(){return self.updateSource(checkpoint,session)})},Checkpointer.prototype.updateTarget=function(checkpoint,session){return updateCheckpoint(this.target,this.id,checkpoint,session,this.returnValue)},Checkpointer.prototype.updateSource=function(checkpoint,session){var self=this;return this.readOnlySource?Promise.resolve(!0):updateCheckpoint(this.src,this.id,checkpoint,session,this.returnValue).catch(function(err){var isForbidden="number"==typeof err.status&&4===Math.floor(err.status/100);if(isForbidden)return self.readOnlySource=!0,!0;throw err})};var comparisons={undefined:function(targetDoc,sourceDoc){return 0===collate(targetDoc.last_seq,sourceDoc.last_seq)?sourceDoc.last_seq:0},1:function(targetDoc,sourceDoc){return compareReplicationLogs(sourceDoc,targetDoc).last_seq}};Checkpointer.prototype.getCheckpoint=function(){var self=this;return self.target.get(self.id).then(function(targetDoc){return self.src.get(self.id).then(function(sourceDoc){if(targetDoc.version!==sourceDoc.version)return LOWEST_SEQ;var version;return version=targetDoc.version?targetDoc.version.toString():"undefined",version in comparisons?comparisons[version](targetDoc,sourceDoc):LOWEST_SEQ},function(err){if(404===err.status&&targetDoc.last_seq)return self.src.put({_id:self.id,last_seq:LOWEST_SEQ}).then(function(){return LOWEST_SEQ},function(err){return 401===err.status?(self.readOnlySource=!0,targetDoc.last_seq):LOWEST_SEQ});throw err})}).catch(function(err){if(404!==err.status)throw err;return LOWEST_SEQ})},module.exports=Checkpointer},{"./../deps/ajax/explainError":83,"./../deps/promise":126,"pouchdb-collate":161}],143:[function(require,module){"use strict";function sortObjectPropertiesByKey(queryParams){return Object.keys(queryParams).sort(collate).reduce(function(result,key){return result[key]=queryParams[key],result},{})}function generateReplicationId(src,target,opts){var docIds=opts.doc_ids?opts.doc_ids.sort(collate):"",filterFun=opts.filter?opts.filter.toString():"",queryParams="",filterViewName="";return opts.filter&&opts.query_params&&(queryParams=JSON.stringify(sortObjectPropertiesByKey(opts.query_params))),opts.filter&&"_view"===opts.filter&&(filterViewName=opts.view.toString()),Promise.all([src.id(),target.id()]).then(function(res){var queryData=res[0]+res[1]+filterFun+filterViewName+queryParams+docIds;return md5(queryData)}).then(function(md5sum){return md5sum=md5sum.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+md5sum})}var Promise=require("./../deps/promise"),md5=require("../deps/md5"),collate=require("pouchdb-collate").collate;module.exports=generateReplicationId},{"../deps/md5":113,"./../deps/promise":126,"pouchdb-collate":161}],144:[function(require,module){"use strict";function isGenOne(rev){return/^1-/.test(rev)}function createBulkGetOpts(diffs){var requests=[];return Object.keys(diffs).forEach(function(id){var missingRevs=diffs[id].missing;missingRevs.forEach(function(missingRev){requests.push({id:id,rev:missingRev})})}),{docs:requests,revs:!0,attachments:!0,binary:!0}}function getDocs(src,diffs,state){function getAllDocs(){var bulkGetOpts=createBulkGetOpts(diffs);if(bulkGetOpts.docs.length)return src.bulkGet(bulkGetOpts).then(function(bulkGetResponse){if(state.cancelled)throw new Error("cancelled");bulkGetResponse.results.forEach(function(bulkGetInfo){bulkGetInfo.docs.forEach(function(doc){doc.ok&&resultDocs.push(doc.ok)})})})}function hasAttachments(doc){return doc._attachments&&Object.keys(doc._attachments).length>0}function fetchRevisionOneDocs(ids){return src.allDocs({keys:ids,include_docs:!0}).then(function(res){if(state.cancelled)throw new Error("cancelled");res.rows.forEach(function(row){!row.deleted&&row.doc&&isGenOne(row.value.rev)&&!hasAttachments(row.doc)&&(resultDocs.push(row.doc),delete diffs[row.id])})})}function getRevisionOneDocs(){var ids=Object.keys(diffs).filter(function(id){var missing=diffs[id].missing;return 1===missing.length&&isGenOne(missing[0])});return ids.length>0?fetchRevisionOneDocs(ids):void 0}function returnDocs(){return resultDocs}diffs=clone(diffs);var resultDocs=[];return Promise.resolve().then(getRevisionOneDocs).then(getAllDocs).then(returnDocs)}var clone=require("../deps/clone"),Promise=require("../deps/promise");module.exports=getDocs},{"../deps/clone":98,"../deps/promise":126}],145:[function(require,module){"use strict";function toPouch(db,opts){var PouchConstructor=opts.PouchConstructor;return"string"==typeof db?new PouchConstructor(db,opts):db}function replicateWrapper(src,target,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),"undefined"==typeof opts&&(opts={}),opts.doc_ids&&!Array.isArray(opts.doc_ids))throw errors.error(errors.BAD_REQUEST,"`doc_ids` filter parameter is not a list.");opts.complete=callback,opts=clone(opts),opts.continuous=opts.continuous||opts.live,opts.retry="retry"in opts?opts.retry:!1,opts.PouchConstructor=opts.PouchConstructor||this;var replicateRet=new Replication(opts),srcPouch=toPouch(src,opts),targetPouch=toPouch(target,opts);return replicate(srcPouch,targetPouch,opts,replicateRet),replicateRet}var replicate=require("./replicate"),Replication=require("./replication"),clone=require("../deps/clone"),errors=require("../deps/errors");module.exports={replicate:replicateWrapper,toPouch:toPouch}},{"../deps/clone":98,"../deps/errors":109,"./replicate":146,"./replication":147}],146:[function(require,module){"use strict";function replicate(src,target,opts,returnValue,result){function initCheckpointer(){return checkpointer?Promise.resolve():generateReplicationId(src,target,opts).then(function(res){repId=res,checkpointer=new Checkpointer(src,target,repId,returnValue)})}function writeDocs(){if(0!==currentBatch.docs.length){var docs=currentBatch.docs;return target.bulkDocs({docs:docs,new_edits:!1}).then(function(res){if(returnValue.cancelled)throw completeReplication(),new Error("cancelled");var errors=[],errorsById={};res.forEach(function(res){res.error&&(result.doc_write_failures++,errors.push(res),errorsById[res.id]=res)}),allErrors=allErrors.concat(errors),result.docs_written+=currentBatch.docs.length-errors.length;var non403s=errors.filter(function(error){return"unauthorized"!==error.name&&"forbidden"!==error.name});if(changedDocs=[],docs.forEach(function(doc){var error=errorsById[doc._id];error?returnValue.emit("denied",clone(error)):changedDocs.push(doc)}),non403s.length>0){var error=new Error("bulkDocs error");throw error.other_errors=errors,abortReplication("target.bulkDocs failed to write docs",error),new Error("bulkWrite partial failure")}},function(err){throw result.doc_write_failures+=docs.length,err})}}function finishBatch(){result.last_seq=last_seq=currentBatch.seq;var outResult=clone(result);return changedDocs.length&&(outResult.docs=changedDocs,returnValue.emit("change",outResult)),writingCheckpoint=!0,checkpointer.writeCheckpoint(currentBatch.seq,session).then(function(){if(writingCheckpoint=!1,returnValue.cancelled)throw completeReplication(),new Error("cancelled");currentBatch=void 0,getChanges()}).catch(function(err){throw writingCheckpoint=!1,abortReplication("writeCheckpoint completed with error",err),err})}function getDiffs(){var diff={};return currentBatch.changes.forEach(function(change){"_user/"!==change.id&&(diff[change.id]=change.changes.map(function(x){return x.rev}))}),target.revsDiff(diff).then(function(diffs){if(returnValue.cancelled)throw completeReplication(),new Error("cancelled");currentBatch.diffs=diffs})}function getBatchDocs(){return getDocs(src,currentBatch.diffs,returnValue).then(function(docs){docs.forEach(function(doc){delete currentBatch.diffs[doc._id],result.docs_read++,currentBatch.docs.push(doc)})})}function startNextBatch(){if(!returnValue.cancelled&&!currentBatch){if(0===batches.length)return void processPendingBatch(!0);currentBatch=batches.shift(),getDiffs().then(getBatchDocs).then(writeDocs).then(finishBatch).then(startNextBatch).catch(function(err){abortReplication("batch processing terminated with error",err)})}}function processPendingBatch(immediate){return 0===pendingBatch.changes.length?void(0!==batches.length||currentBatch||((continuous&&changesOpts.live||changesCompleted)&&(returnValue.state="pending",returnValue.emit("paused")),changesCompleted&&completeReplication())):void((immediate||changesCompleted||pendingBatch.changes.length>=batch_size)&&(batches.push(pendingBatch),pendingBatch={seq:0,changes:[],docs:[]},("pending"===returnValue.state||"stopped"===returnValue.state)&&(returnValue.state="active",returnValue.emit("active")),startNextBatch()))}function abortReplication(reason,err){replicationCompleted||(err.message||(err.message=reason),result.ok=!1,result.status="aborting",result.errors.push(err),allErrors=allErrors.concat(err),batches=[],pendingBatch={seq:0,changes:[],docs:[]},completeReplication())}function completeReplication(){if(!(replicationCompleted||returnValue.cancelled&&(result.status="cancelled",writingCheckpoint))){result.status=result.status||"complete",result.end_time=new Date,result.last_seq=last_seq,replicationCompleted=!0;var non403s=allErrors.filter(function(error){
return"unauthorized"!==error.name&&"forbidden"!==error.name});if(non403s.length>0){var error=allErrors.pop();allErrors.length>0&&(error.other_errors=allErrors),error.result=result,backOff(opts,returnValue,error,function(){replicate(src,target,opts,returnValue)})}else result.errors=allErrors,returnValue.emit("complete",result),returnValue.removeAllListeners()}}function onChange(change){if(returnValue.cancelled)return completeReplication();var filter=filterChange(opts)(change);filter&&(pendingBatch.seq=change.seq,pendingBatch.changes.push(change),processPendingBatch(0===batches.length))}function onChangesComplete(changes){return changesPending=!1,returnValue.cancelled?completeReplication():(changes.results.length>0?(changesOpts.since=changes.last_seq,getChanges()):continuous?(changesOpts.live=!0,getChanges()):changesCompleted=!0,void processPendingBatch(!0))}function onChangesError(err){return changesPending=!1,returnValue.cancelled?completeReplication():void abortReplication("changes rejected",err)}function getChanges(){function abortChanges(){changes.cancel()}function removeListener(){returnValue.removeListener("cancel",abortChanges)}if(!changesPending&&!changesCompleted&&batches.length<batches_limit){changesPending=!0,returnValue._changes&&(returnValue.removeListener("cancel",returnValue._abortChanges),returnValue._changes.cancel()),returnValue.once("cancel",abortChanges);var changes=src.changes(changesOpts).on("change",onChange);changes.then(removeListener,removeListener),changes.then(onChangesComplete).catch(onChangesError),opts.retry&&(returnValue._changes=changes,returnValue._abortChanges=abortChanges)}}function startChanges(){initCheckpointer().then(function(){return returnValue.cancelled?void completeReplication():checkpointer.getCheckpoint().then(function(checkpoint){last_seq=checkpoint,changesOpts={since:last_seq,limit:batch_size,batch_size:batch_size,style:"all_docs",doc_ids:doc_ids,return_docs:!0},opts.filter&&("string"!=typeof opts.filter?changesOpts.include_docs=!0:changesOpts.filter=opts.filter),opts.heartbeat&&(changesOpts.heartbeat=opts.heartbeat),opts.query_params&&(changesOpts.query_params=opts.query_params),opts.view&&(changesOpts.view=opts.view),getChanges()})}).catch(function(err){abortReplication("getCheckpoint rejected with ",err)})}var currentBatch,repId,checkpointer,batches=[],pendingBatch={seq:0,changes:[],docs:[]},writingCheckpoint=!1,changesCompleted=!1,replicationCompleted=!1,last_seq=0,continuous=opts.continuous||opts.live||!1,batch_size=opts.batch_size||100,batches_limit=opts.batches_limit||10,changesPending=!1,doc_ids=opts.doc_ids,allErrors=[],changedDocs=[],session=uuid();result=result||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var changesOpts={};return returnValue.ready(src,target),returnValue.cancelled?void completeReplication():(returnValue._addedListeners||(returnValue.once("cancel",completeReplication),"function"==typeof opts.complete&&(returnValue.once("error",opts.complete),returnValue.once("complete",function(result){opts.complete(null,result)})),returnValue._addedListeners=!0),void("undefined"==typeof opts.since?startChanges():initCheckpointer().then(function(){return writingCheckpoint=!0,checkpointer.writeCheckpoint(opts.since,session)}).then(function(){return writingCheckpoint=!1,returnValue.cancelled?void completeReplication():(last_seq=opts.since,void startChanges())}).catch(function(err){throw writingCheckpoint=!1,abortReplication("writeCheckpoint completed with error",err),err})))}var clone=require("../deps/clone"),Promise=require("../deps/promise"),uuid=require("../deps/uuid"),filterChange=require("../deps/filterChange"),Checkpointer=require("./checkpointer"),backOff=require("./backoff"),generateReplicationId=require("./generateReplicationId"),getDocs=require("./getDocs");module.exports=replicate},{"../deps/clone":98,"../deps/filterChange":110,"../deps/promise":126,"../deps/uuid":131,"./backoff":141,"./checkpointer":142,"./generateReplicationId":143,"./getDocs":144}],147:[function(require,module){"use strict";function Replication(){EE.call(this),this.cancelled=!1,this.state="pending";var self=this,promise=new Promise(function(fulfill,reject){self.once("complete",fulfill),self.once("error",reject)});self.then=function(resolve,reject){return promise.then(resolve,reject)},self.catch=function(reject){return promise.catch(reject)},self.catch(function(){})}var EE=require("events").EventEmitter,Promise=require("../deps/promise"),inherits=require("inherits");inherits(Replication,EE),Replication.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Replication.prototype.ready=function(src,target){function onDestroy(){self.cancel()}function cleanup(){src.removeListener("destroyed",onDestroy),target.removeListener("destroyed",onDestroy)}var self=this;self._readyCalled||(self._readyCalled=!0,src.once("destroyed",onDestroy),target.once("destroyed",onDestroy),self.once("complete",cleanup))},module.exports=Replication},{"../deps/promise":126,events:43,inherits:157}],148:[function(require,module){"use strict";function setUpEventEmitter(Pouch){Object.keys(EE.prototype).forEach(function(key){"function"==typeof EE.prototype[key]&&(Pouch[key]=eventEmitter[key].bind(eventEmitter))});var destructListeners=Pouch._destructionListeners=new collections.Map;Pouch.on("destroyed",function(name){destructListeners.has(name)&&(destructListeners.get(name).forEach(function(callback){callback()}),destructListeners.delete(name))})}var extend=require("js-extend").extend,PouchDB=require("./constructor"),inherits=require("inherits"),collections=require("pouchdb-collections"),EE=require("events").EventEmitter,hasLocalStorage=require("./deps/env/hasLocalStorage");PouchDB.adapters={},PouchDB.preferredAdapters=[],PouchDB.prefix="_pouch_";var eventEmitter=new EE;setUpEventEmitter(PouchDB),PouchDB.parseAdapter=function(name,opts){var adapter,adapterName,match=name.match(/([a-z\-]*):\/\/(.*)/);if(match){if(name=/http(s?)/.test(match[1])?match[1]+"://"+match[2]:match[2],adapter=match[1],!PouchDB.adapters[adapter].valid())throw"Invalid adapter";return{name:name,adapter:match[1]}}var skipIdb="idb"in PouchDB.adapters&&"websql"in PouchDB.adapters&&hasLocalStorage()&&localStorage["_pouch__websqldb_"+PouchDB.prefix+name];if(opts.adapter)adapterName=opts.adapter;else if("undefined"!=typeof opts&&opts.db)adapterName="leveldb";else for(var i=0;i<PouchDB.preferredAdapters.length;++i)if(adapterName=PouchDB.preferredAdapters[i],adapterName in PouchDB.adapters){if(skipIdb&&"idb"===adapterName){console.log('PouchDB is downgrading "'+name+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}adapter=PouchDB.adapters[adapterName];var usePrefix=adapter&&"use_prefix"in adapter?adapter.use_prefix:!0;return{name:usePrefix?PouchDB.prefix+name:name,adapter:adapterName}},PouchDB.adapter=function(id,obj,addToPreferredAdapters){obj.valid()&&(PouchDB.adapters[id]=obj,addToPreferredAdapters&&PouchDB.preferredAdapters.push(id))},PouchDB.plugin=function(obj){return Object.keys(obj).forEach(function(id){PouchDB.prototype[id]=obj[id]}),PouchDB},PouchDB.defaults=function(defaultOpts){function PouchAlt(name,opts,callback){return this instanceof PouchAlt?(("function"==typeof opts||"undefined"==typeof opts)&&(callback=opts,opts={}),name&&"object"==typeof name&&(opts=name,name=void 0),opts=extend({},defaultOpts,opts),void PouchDB.call(this,name,opts,callback)):new PouchAlt(name,opts,callback)}return inherits(PouchAlt,PouchDB),setUpEventEmitter(PouchAlt),PouchAlt.preferredAdapters=PouchDB.preferredAdapters.slice(),Object.keys(PouchDB).forEach(function(key){key in PouchAlt||(PouchAlt[key]=PouchDB[key])}),PouchAlt},module.exports=PouchDB},{"./constructor":77,"./deps/env/hasLocalStorage":107,events:43,inherits:157,"js-extend":158,"pouchdb-collections":163}],149:[function(require,module){"use strict";function sync(src,target,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),"undefined"==typeof opts&&(opts={}),opts=clone(opts),opts.PouchConstructor=opts.PouchConstructor||this,src=replication.toPouch(src,opts),target=replication.toPouch(target,opts),new Sync(src,target,opts,callback)}function Sync(src,target,opts,callback){function pullChange(change){self.emit("change",{direction:"pull",change:change})}function pushChange(change){self.emit("change",{direction:"push",change:change})}function pushDenied(doc){self.emit("denied",{direction:"push",doc:doc})}function pullDenied(doc){self.emit("denied",{direction:"pull",doc:doc})}function pushPaused(){self.pushPaused=!0,self.pullPaused&&self.emit("paused")}function pullPaused(){self.pullPaused=!0,self.pushPaused&&self.emit("paused")}function pushActive(){self.pushPaused=!1,self.pullPaused&&self.emit("active",{direction:"push"})}function pullActive(){self.pullPaused=!1,self.pushPaused&&self.emit("active",{direction:"pull"})}function removeAll(type){return function(event,func){var isChange="change"===event&&(func===pullChange||func===pushChange),isDenied="denied"===event&&(func===pullDenied||func===pushDenied),isPaused="paused"===event&&(func===pullPaused||func===pushPaused),isActive="active"===event&&(func===pullActive||func===pushActive);(isChange||isDenied||isPaused||isActive)&&(event in removed||(removed[event]={}),removed[event][type]=!0,2===Object.keys(removed[event]).length&&self.removeAllListeners(event))}}var self=this;this.canceled=!1;var optsPush=opts.push?extend({},opts,opts.push):opts,optsPull=opts.pull?extend({},opts,opts.pull):opts;this.push=replicate(src,target,optsPush),this.pull=replicate(target,src,optsPull),this.pushPaused=!0,this.pullPaused=!0;var removed={};opts.live&&(this.push.on("complete",self.pull.cancel.bind(self.pull)),this.pull.on("complete",self.push.cancel.bind(self.push))),this.on("newListener",function(event){"change"===event?(self.pull.on("change",pullChange),self.push.on("change",pushChange)):"denied"===event?(self.pull.on("denied",pullDenied),self.push.on("denied",pushDenied)):"active"===event?(self.pull.on("active",pullActive),self.push.on("active",pushActive)):"paused"===event&&(self.pull.on("paused",pullPaused),self.push.on("paused",pushPaused))}),this.on("removeListener",function(event){"change"===event?(self.pull.removeListener("change",pullChange),self.push.removeListener("change",pushChange)):"denied"===event?(self.pull.removeListener("denied",pullDenied),self.push.removeListener("denied",pushDenied)):"active"===event?(self.pull.removeListener("active",pullActive),self.push.removeListener("active",pushActive)):"paused"===event&&(self.pull.removeListener("paused",pullPaused),self.push.removeListener("paused",pushPaused))}),this.pull.on("removeListener",removeAll("pull")),this.push.on("removeListener",removeAll("push"));var promise=Promise.all([this.push,this.pull]).then(function(resp){var out={push:resp[0],pull:resp[1]};return self.emit("complete",out),callback&&callback(null,out),self.removeAllListeners(),out},function(err){if(self.cancel(),callback?callback(err):self.emit("error",err),self.removeAllListeners(),callback)throw err});this.then=function(success,err){return promise.then(success,err)},this.catch=function(err){return promise.catch(err)}}var extend=require("js-extend").extend,Promise=require("./deps/promise"),replication=require("./replicate"),inherits=require("inherits"),replicate=replication.replicate,EE=require("events").EventEmitter,clone=require("./deps/clone");inherits(Sync,EE),module.exports=sync,Sync.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{"./deps/clone":98,"./deps/promise":126,"./replicate":145,events:43,inherits:157,"js-extend":158}],150:[function(require,module){"use strict";function TaskQueue(){this.isReady=!1,this.failed=!1,this.queue=[]}module.exports=TaskQueue,TaskQueue.prototype.execute=function(){var fun;if(this.failed)for(;fun=this.queue.shift();)fun(this.failed);else for(;fun=this.queue.shift();)fun()},TaskQueue.prototype.fail=function(err){this.failed=err,this.execute()},TaskQueue.prototype.ready=function(db){this.isReady=!0,this.db=db,this.execute()},TaskQueue.prototype.addTask=function(fun){this.queue.push(fun),this.failed&&this.execute()}},{}],151:[function(require,module,exports){"use strict";exports.ajax=require("./deps/ajax/prequest"),exports.parseUri=require("./deps/parseUri"),exports.uuid=require("./deps/uuid");var Promise=require("./deps/promise");exports.Promise=Promise;var base64=require("./deps/binary/base64");exports.atob=base64.atob,exports.btoa=base64.btoa;var binToBluffer=require("./deps/binary/binaryStringToBlobOrBuffer");exports.binaryStringToBlobOrBuffer=binToBluffer,exports.clone=require("./deps/clone"),exports.extend=require("js-extend").extend},{"./deps/ajax/prequest":84,"./deps/binary/base64":87,"./deps/binary/binaryStringToBlobOrBuffer":90,"./deps/clone":98,"./deps/parseUri":124,"./deps/promise":126,"./deps/uuid":131,"js-extend":158}],152:[function(require,module){module.exports="5.1.0"},{}],153:[function(require,module){"use strict";function argsArray(fun){return function(){var len=arguments.length;if(len){for(var args=[],i=-1;++i<len;)args[i]=arguments[i];return fun.call(this,args)}return fun.call(this,[])}}module.exports=argsArray},{}],154:[function(require,module,exports){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var args=arguments,useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return args;var c="color: "+this.color;args=[args[0],c,"color: inherit"].concat(Array.prototype.slice.call(args,1));var index=0,lastC=0;return args[0].replace(/%[a-z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c),args}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}return r}function localstorage(){try{return window.localStorage}catch(e){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){return JSON.stringify(v)},exports.enable(load())},{"./debug":155}],155:[function(require,module,exports){function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=selectColor());var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),"function"==typeof exports.formatArgs&&(args=exports.formatArgs.apply(self,args));var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}function enable(namespaces){exports.save(namespaces);for(var split=(namespaces||"").split(/[\s,]+/),len=split.length,i=0;len>i;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),"-"===namespaces[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;len>i;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;len>i;i++)if(exports.names[i].test(name))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},{ms:156}],156:[function(require,module){function parse(str){if(str=""+str,!(str.length>1e4)){var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function short(ms){return ms>=d?Math.round(ms/d)+"d":ms>=h?Math.round(ms/h)+"h":ms>=m?Math.round(ms/m)+"m":ms>=s?Math.round(ms/s)+"s":ms+"ms"}function long(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){return n>ms?void 0:1.5*n>ms?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(val,options){return options=options||{},"string"==typeof val?parse(val):options.long?long(val):short(val)}},{}],157:[function(require,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],158:[function(){(function(){var slice=Array.prototype.slice,each=Array.prototype.forEach,extend=function(obj){if("object"!=typeof obj)throw obj+" is not an object";var sources=slice.call(arguments,1);return each.call(sources,function(source){if(source)for(var prop in source)"object"==typeof source[prop]&&obj[prop]?extend.call(obj,obj[prop],source[prop]):obj[prop]=source[prop]}),obj};this.extend=extend}).call(this)},{}],159:[function(require,module,exports){"use strict";function INTERNAL(){}function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("resolver must be a function");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,"function"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),"function"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError("Cannot resolve promise with itself")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;return obj&&"object"==typeof obj&&"function"==typeof then?function(){then.apply(obj,arguments)}:void 0}function safelyResolveThenable(self,thenable){function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}function tryToUnwrap(){thenable(onSuccess,onError)}var called=!1,result=tryCatch(tryToUnwrap);"error"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status="success"}catch(e){out.status="error",out.value=e}return out}function resolve(value){return value instanceof this?value:handlers.resolve(new this(INTERNAL),value)}function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}function all(iterable){function allResolver(value,i){function resolveFromAll(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))}self.resolve(value).then(resolveFromAll,function(error){called||(called=!0,handlers.reject(promise,error))})}var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);for(var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);++i<len;)allResolver(iterable[i],i);return promise}function race(iterable){function resolver(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);for(var i=-1,promise=new this(INTERNAL);++i<len;)resolver(iterable[i]);return promise}var immediate=require("immediate"),handlers={},REJECTED=["REJECTED"],FULFILLED=["FULFILLED"],PENDING=["PENDING"];module.exports=exports=Promise,Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if("function"!=typeof onFulfilled&&this.state===FULFILLED||"function"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){var resolver=this.state===FULFILLED?onFulfilled:onRejected;unwrap(promise,resolver,this.outcome)}else this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if("error"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},exports.resolve=resolve,exports.reject=reject,exports.all=all,exports.race=race},{immediate:160}],160:[function(require,module){(function(global){"use strict";function nextTick(){draining=!0;for(var i,oldQueue,len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}function immediate(task){1!==queue.push(task)||draining||scheduleDrain()}var scheduleDrain,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode("");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||"undefined"==typeof global.MessageChannel)scheduleDrain="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var draining,queue=[];module.exports=immediate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],161:[function(require,module,exports){"use strict";function indexify(key){if(null!==key)switch(typeof key){case"boolean":return key?1:0;case"number":return numToIndexableString(key);case"string":return key.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var isArray=Array.isArray(key),arr=isArray?key:Object.keys(key),i=-1,len=arr.length,result="";if(isArray)for(;++i<len;)result+=exports.toIndexableString(arr[i]);else for(;++i<len;){var objKey=arr[i];result+=exports.toIndexableString(objKey)+exports.toIndexableString(key[objKey])}return result}return""}function parseNumber(str,i){var num,originalIdx=i,zero="1"===str[i];if(zero)num=0,i++;else{var neg="0"===str[i];i++;var numAsString="",magAsString=str.substring(i,i+MAGNITUDE_DIGITS),magnitude=parseInt(magAsString,10)+MIN_MAGNITUDE;for(neg&&(magnitude=-magnitude),i+=MAGNITUDE_DIGITS;;){var ch=str[i];if("\x00"===ch)break;numAsString+=ch,i++}numAsString=numAsString.split("."),num=1===numAsString.length?parseInt(numAsString,10):parseFloat(numAsString[0]+"."+numAsString[1]),neg&&(num-=10),0!==magnitude&&(num=parseFloat(num+"e"+magnitude))}return{num:num,length:i-originalIdx}}function pop(stack,metaStack){var obj=stack.pop();if(metaStack.length){var lastMetaElement=metaStack[metaStack.length-1];obj===lastMetaElement.element&&(metaStack.pop(),lastMetaElement=metaStack[metaStack.length-1]);var element=lastMetaElement.element,lastElementIndex=lastMetaElement.index;if(Array.isArray(element))element.push(obj);else if(lastElementIndex===stack.length-2){var key=stack.pop();element[key]=obj}else stack.push(obj)}}function arrayCollate(a,b){for(var len=Math.min(a.length,b.length),i=0;len>i;i++){var sort=exports.collate(a[i],b[i]);if(0!==sort)return sort}return a.length===b.length?0:a.length>b.length?1:-1}function stringCollate(a,b){return a===b?0:a>b?1:-1}function objectCollate(a,b){for(var ak=Object.keys(a),bk=Object.keys(b),len=Math.min(ak.length,bk.length),i=0;len>i;i++){var sort=exports.collate(ak[i],bk[i]);if(0!==sort)return sort;if(sort=exports.collate(a[ak[i]],b[bk[i]]),0!==sort)return sort}return ak.length===bk.length?0:ak.length>bk.length?1:-1}function collationIndex(x){var id=["boolean","number","string","object"],idx=id.indexOf(typeof x);return~idx?null===x?1:Array.isArray(x)?5:3>idx?idx+2:idx+3:Array.isArray(x)?5:void 0}function numToIndexableString(num){if(0===num)return"1";var expFormat=num.toExponential().split(/e\+?/),magnitude=parseInt(expFormat[1],10),neg=0>num,result=neg?"0":"2",magForComparison=(neg?-magnitude:magnitude)-MIN_MAGNITUDE,magString=utils.padLeft(magForComparison.toString(),"0",MAGNITUDE_DIGITS);result+=SEP+magString;var factor=Math.abs(parseFloat(expFormat[0]));neg&&(factor=10-factor);var factorStr=factor.toFixed(20);return factorStr=factorStr.replace(/\.?0+$/,""),result+=SEP+factorStr}var MIN_MAGNITUDE=-324,MAGNITUDE_DIGITS=3,SEP="",utils=require("./utils");exports.collate=function(a,b){if(a===b)return 0;a=exports.normalizeKey(a),b=exports.normalizeKey(b);var ai=collationIndex(a),bi=collationIndex(b);if(ai-bi!==0)return ai-bi;if(null===a)return 0;switch(typeof a){case"number":return a-b;case"boolean":return a===b?0:b>a?-1:1;case"string":return stringCollate(a,b)}return Array.isArray(a)?arrayCollate(a,b):objectCollate(a,b)},exports.normalizeKey=function(key){switch(typeof key){case"undefined":return null;case"number":return key===1/0||key===-(1/0)||isNaN(key)?null:key;case"object":var origKey=key;if(Array.isArray(key)){var len=key.length;key=new Array(len);for(var i=0;len>i;i++)key[i]=exports.normalizeKey(origKey[i])}else{if(key instanceof Date)return key.toJSON();if(null!==key){key={};for(var k in origKey)if(origKey.hasOwnProperty(k)){var val=origKey[k];"undefined"!=typeof val&&(key[k]=exports.normalizeKey(val))}}}}return key},exports.toIndexableString=function(key){var zero="\x00";return key=exports.normalizeKey(key),collationIndex(key)+SEP+indexify(key)+zero},exports.parseIndexableString=function(str){for(var stack=[],metaStack=[],i=0;;){var collationIndex=str[i++];if("\x00"!==collationIndex)switch(collationIndex){case"1":stack.push(null);break;case"2":stack.push("1"===str[i]),i++;break;case"3":var parsedNum=parseNumber(str,i);stack.push(parsedNum.num),i+=parsedNum.length;break;case"4":for(var parsedStr="";;){var ch=str[i];if("\x00"===ch)break;parsedStr+=ch,i++}parsedStr=parsedStr.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),stack.push(parsedStr);break;case"5":var arrayElement={element:[],index:stack.length};stack.push(arrayElement.element),metaStack.push(arrayElement);break;case"6":var objElement={element:{},index:stack.length};stack.push(objElement.element),metaStack.push(objElement);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+collationIndex)}else{if(1===stack.length)return stack.pop();pop(stack,metaStack)}}}},{"./utils":162}],162:[function(require,module,exports){"use strict";function pad(str,padWith,upToLength){for(var padding="",targetLength=upToLength-str.length;padding.length<targetLength;)padding+=padWith;return padding}exports.padLeft=function(str,padWith,upToLength){var padding=pad(str,padWith,upToLength);return padding+str},exports.padRight=function(str,padWith,upToLength){var padding=pad(str,padWith,upToLength);return str+padding},exports.stringLexCompare=function(a,b){var i,aLen=a.length,bLen=b.length;for(i=0;aLen>i;i++){if(i===bLen)return 1;var aChar=a.charAt(i),bChar=b.charAt(i);if(aChar!==bChar)return bChar>aChar?-1:1}return bLen>aLen?-1:0},exports.intToDecimalForm=function(int){var isNeg=0>int,result="";do{var remainder=isNeg?-Math.ceil(int%10):Math.floor(int%10);result=remainder+result,int=isNeg?Math.ceil(int/10):Math.floor(int/10)}while(int);return isNeg&&"0"!==result&&(result="-"+result),result}},{}],163:[function(require,module,exports){"use strict";function LazyMap(){this.store={}}function LazySet(array){if(this.store=new LazyMap,array&&Array.isArray(array))for(var i=0,len=array.length;len>i;i++)this.add(array[i])}exports.Map=LazyMap,exports.Set=LazySet,LazyMap.prototype.mangle=function(key){if("string"!=typeof key)throw new TypeError("key must be a string but Got "+key);return"$"+key},LazyMap.prototype.unmangle=function(key){return key.substring(1)},LazyMap.prototype.get=function(key){var mangled=this.mangle(key);return mangled in this.store?this.store[mangled]:void 0},LazyMap.prototype.set=function(key,value){var mangled=this.mangle(key);return this.store[mangled]=value,!0},LazyMap.prototype.has=function(key){var mangled=this.mangle(key);return mangled in this.store},LazyMap.prototype.delete=function(key){var mangled=this.mangle(key);return mangled in this.store?(delete this.store[mangled],!0):!1},LazyMap.prototype.forEach=function(cb){for(var keys=Object.keys(this.store),i=0,len=keys.length;len>i;i++){var key=keys[i],value=this.store[key];key=this.unmangle(key),cb(value,key)}},LazySet.prototype.add=function(key){return this.store.set(key,!0)},LazySet.prototype.has=function(key){return this.store.has(key)},LazySet.prototype.delete=function(key){return this.store.delete(key)}},{}],164:[function(require,module,exports){!function(factory){if("object"==typeof exports)module.exports=factory();else if("function"==typeof define&&define.amd)define(factory);
else{var glob;try{glob=window}catch(e){glob=self}glob.SparkMD5=factory()}}(function(){"use strict";function cmn(q,a,b,x,s,t){return a=add32(add32(a,q),add32(x,t)),add32(a<<s|a>>>32-s,b)}function ff(a,b,c,d,x,s,t){return cmn(b&c|~b&d,a,b,x,s,t)}function gg(a,b,c,d,x,s,t){return cmn(b&d|c&~d,a,b,x,s,t)}function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t)}function ii(a,b,c,d,x,s,t){return cmn(c^(b|~d),a,b,x,s,t)}function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=ff(a,b,c,d,k[0],7,-680876936),d=ff(d,a,b,c,k[1],12,-389564586),c=ff(c,d,a,b,k[2],17,606105819),b=ff(b,c,d,a,k[3],22,-1044525330),a=ff(a,b,c,d,k[4],7,-176418897),d=ff(d,a,b,c,k[5],12,1200080426),c=ff(c,d,a,b,k[6],17,-1473231341),b=ff(b,c,d,a,k[7],22,-45705983),a=ff(a,b,c,d,k[8],7,1770035416),d=ff(d,a,b,c,k[9],12,-1958414417),c=ff(c,d,a,b,k[10],17,-42063),b=ff(b,c,d,a,k[11],22,-1990404162),a=ff(a,b,c,d,k[12],7,1804603682),d=ff(d,a,b,c,k[13],12,-40341101),c=ff(c,d,a,b,k[14],17,-1502002290),b=ff(b,c,d,a,k[15],22,1236535329),a=gg(a,b,c,d,k[1],5,-165796510),d=gg(d,a,b,c,k[6],9,-1069501632),c=gg(c,d,a,b,k[11],14,643717713),b=gg(b,c,d,a,k[0],20,-373897302),a=gg(a,b,c,d,k[5],5,-701558691),d=gg(d,a,b,c,k[10],9,38016083),c=gg(c,d,a,b,k[15],14,-660478335),b=gg(b,c,d,a,k[4],20,-405537848),a=gg(a,b,c,d,k[9],5,568446438),d=gg(d,a,b,c,k[14],9,-1019803690),c=gg(c,d,a,b,k[3],14,-187363961),b=gg(b,c,d,a,k[8],20,1163531501),a=gg(a,b,c,d,k[13],5,-1444681467),d=gg(d,a,b,c,k[2],9,-51403784),c=gg(c,d,a,b,k[7],14,1735328473),b=gg(b,c,d,a,k[12],20,-1926607734),a=hh(a,b,c,d,k[5],4,-378558),d=hh(d,a,b,c,k[8],11,-2022574463),c=hh(c,d,a,b,k[11],16,1839030562),b=hh(b,c,d,a,k[14],23,-35309556),a=hh(a,b,c,d,k[1],4,-1530992060),d=hh(d,a,b,c,k[4],11,1272893353),c=hh(c,d,a,b,k[7],16,-155497632),b=hh(b,c,d,a,k[10],23,-1094730640),a=hh(a,b,c,d,k[13],4,681279174),d=hh(d,a,b,c,k[0],11,-358537222),c=hh(c,d,a,b,k[3],16,-722521979),b=hh(b,c,d,a,k[6],23,76029189),a=hh(a,b,c,d,k[9],4,-640364487),d=hh(d,a,b,c,k[12],11,-421815835),c=hh(c,d,a,b,k[15],16,530742520),b=hh(b,c,d,a,k[2],23,-995338651),a=ii(a,b,c,d,k[0],6,-198630844),d=ii(d,a,b,c,k[7],10,1126891415),c=ii(c,d,a,b,k[14],15,-1416354905),b=ii(b,c,d,a,k[5],21,-57434055),a=ii(a,b,c,d,k[12],6,1700485571),d=ii(d,a,b,c,k[3],10,-1894986606),c=ii(c,d,a,b,k[10],15,-1051523),b=ii(b,c,d,a,k[1],21,-2054922799),a=ii(a,b,c,d,k[8],6,1873313359),d=ii(d,a,b,c,k[15],10,-30611744),c=ii(c,d,a,b,k[6],15,-1560198380),b=ii(b,c,d,a,k[13],21,1309151649),a=ii(a,b,c,d,k[4],6,-145523070),d=ii(d,a,b,c,k[11],10,-1120210379),c=ii(c,d,a,b,k[2],15,718787259),b=ii(b,c,d,a,k[9],21,-343485551),x[0]=add32(a,x[0]),x[1]=add32(b,x[1]),x[2]=add32(c,x[2]),x[3]=add32(d,x[3])}function md5blk(s){var i,md5blks=[];for(i=0;64>i;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}function md5blk_array(a){var i,md5blks=[];for(i=0;64>i;i+=4)md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return md5blks}function md51(s){var i,length,tail,tmp,lo,hi,n=s.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;n>=i;i+=64)md5cycle(state,md5blk(s.substring(i-64,i)));for(s=s.substring(i-64),length=s.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;length>i;i+=1)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;16>i;i+=1)tail[i]=0;return tmp=8*n,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function md51_array(a){var i,length,tail,tmp,lo,hi,n=a.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;n>=i;i+=64)md5cycle(state,md5blk_array(a.subarray(i-64,i)));for(a=n>i-64?a.subarray(i-64):new Uint8Array(0),length=a.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;length>i;i+=1)tail[i>>2]|=a[i]<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;16>i;i+=1)tail[i]=0;return tmp=8*n,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function rhex(n){var j,s="";for(j=0;4>j;j+=1)s+=hex_chr[n>>8*j+4&15]+hex_chr[n>>8*j&15];return s}function hex(x){var i;for(i=0;i<x.length;i+=1)x[i]=rhex(x[i]);return x.join("")}function toUtf8(str){return/[\u0080-\uFFFF]/.test(str)&&(str=unescape(encodeURIComponent(str))),str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var i,length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff);for(i=0;length>i;i++)arr[i]=str.charCodeAt(i);return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);return result.set(new Uint8Array(first)),result.set(new Uint8Array(second),first.byteLength),returnUInt8Array?result:result.buffer}function SparkMD5(){this.reset()}var add32=function(a,b){return a+b&4294967295},hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==hex(md51("hello"))&&(add32=function(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}),SparkMD5.prototype.append=function(str){return this.appendBinary(toUtf8(str)),this},SparkMD5.prototype.appendBinary=function(contents){this._buff+=contents,this._length+=contents.length;var i,length=this._buff.length;for(i=64;length>=i;i+=64)md5cycle(this._hash,md5blk(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},SparkMD5.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;length>i;i+=1)tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3);return this._finish(tail,length),ret=raw?this._hash:hex(this._hash),this.reset(),ret},SparkMD5.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},SparkMD5.prototype.setState=function(state){return this._buff=state.buff,this._length=state.length,this._hash=state.hash,this},SparkMD5.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},SparkMD5.prototype._finish=function(tail,length){var tmp,lo,hi,i=length;if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(this._hash,tail),i=0;16>i;i+=1)tail[i]=0;tmp=8*this._length,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(this._hash,tail)},SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)},SparkMD5.hashBinary=function(content,raw){var hash=md51(content);return raw?hash:hex(hash)},SparkMD5.ArrayBuffer=function(){this.reset()},SparkMD5.ArrayBuffer.prototype.append=function(arr){var i,buff=concatenateArrayBuffers(this._buff.buffer,arr,!0),length=buff.length;for(this._length+=arr.byteLength,i=64;length>=i;i+=64)md5cycle(this._hash,md5blk_array(buff.subarray(i-64,i)));return this._buff=length>i-64?buff.subarray(i-64):new Uint8Array(0),this},SparkMD5.ArrayBuffer.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;length>i;i+=1)tail[i>>2]|=buff[i]<<(i%4<<3);return this._finish(tail,length),ret=raw?this._hash:hex(this._hash),this.reset(),ret},SparkMD5.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.ArrayBuffer.prototype.getState=function(){var state=SparkMD5.prototype.getState.call(this);return state.buff=arrayBuffer2Utf8Str(state.buff),state},SparkMD5.ArrayBuffer.prototype.setState=function(state){return state.buff=utf8Str2ArrayBuffer(state.buff,!0),SparkMD5.prototype.setState.call(this,state)},SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy,SparkMD5.ArrayBuffer.prototype._finish=SparkMD5.prototype._finish,SparkMD5.ArrayBuffer.hash=function(arr,raw){var hash=md51_array(new Uint8Array(arr));return raw?hash:hex(hash)},SparkMD5})},{}],165:[function(require,module,exports){"use strict";function pop(obj,stack,metaStack){var lastMetaElement=metaStack[metaStack.length-1];obj===lastMetaElement.element&&(metaStack.pop(),lastMetaElement=metaStack[metaStack.length-1]);var element=lastMetaElement.element,lastElementIndex=lastMetaElement.index;if(Array.isArray(element))element.push(obj);else if(lastElementIndex===stack.length-2){var key=stack.pop();element[key]=obj}else stack.push(obj)}exports.stringify=function(input){var queue=[];queue.push({obj:input});for(var next,obj,prefix,val,i,arrayPrefix,keys,k,key,value,objPrefix,res="";next=queue.pop();)if(obj=next.obj,prefix=next.prefix||"",val=next.val||"",res+=prefix,val)res+=val;else if("object"!=typeof obj)res+="undefined"==typeof obj?null:JSON.stringify(obj);else if(null===obj)res+="null";else if(Array.isArray(obj)){for(queue.push({val:"]"}),i=obj.length-1;i>=0;i--)arrayPrefix=0===i?"":",",queue.push({obj:obj[i],prefix:arrayPrefix});queue.push({val:"["})}else{keys=[];for(k in obj)obj.hasOwnProperty(k)&&keys.push(k);for(queue.push({val:"}"}),i=keys.length-1;i>=0;i--)key=keys[i],value=obj[key],objPrefix=i>0?",":"",objPrefix+=JSON.stringify(key)+":",queue.push({obj:value,prefix:objPrefix});queue.push({val:"{"})}return res},exports.parse=function(str){for(var collationIndex,parsedNum,numChar,parsedString,lastCh,numConsecutiveSlashes,ch,arrayElement,objElement,stack=[],metaStack=[],i=0;;)if(collationIndex=str[i++],"}"!==collationIndex&&"]"!==collationIndex&&"undefined"!=typeof collationIndex)switch(collationIndex){case" ":case"	":case"\n":case":":case",":break;case"n":i+=3,pop(null,stack,metaStack);break;case"t":i+=3,pop(!0,stack,metaStack);break;case"f":i+=4,pop(!1,stack,metaStack);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(parsedNum="",i--;;){if(numChar=str[i++],!/[\d\.\-e\+]/.test(numChar)){i--;break}parsedNum+=numChar}pop(parseFloat(parsedNum),stack,metaStack);break;case'"':for(parsedString="",lastCh=void 0,numConsecutiveSlashes=0;;){if(ch=str[i++],'"'===ch&&("\\"!==lastCh||numConsecutiveSlashes%2!==1))break;parsedString+=ch,lastCh=ch,"\\"===lastCh?numConsecutiveSlashes++:numConsecutiveSlashes=0}pop(JSON.parse('"'+parsedString+'"'),stack,metaStack);break;case"[":arrayElement={element:[],index:stack.length},stack.push(arrayElement.element),metaStack.push(arrayElement);break;case"{":objElement={element:{},index:stack.length},stack.push(objElement.element),metaStack.push(objElement);break;default:throw new Error("unexpectedly reached end of input: "+collationIndex)}else{if(1===stack.length)return stack.pop();pop(stack.pop(),stack,metaStack)}}},{}],166:[function(require,module){"use strict";module.exports=require("react/lib/ReactDOM")},{"react/lib/ReactDOM":248}],167:[function(require,module){"use strict";function tag(node,name,attrs,children){node.react={tag:name,props:attrs,children:children||[]}}function isGrandChildOfList(node){var grandparent=node.parent.parent;return grandparent&&"List"===grandparent.type&&grandparent.listTight}function addChild(node,child){var parent=node;do parent=parent.parent;while(!parent.react);parent.react.children.push(child)}function createElement(tagName,props,children){var args=[tagName,props].concat(children),child=React.createElement.apply(React,args);return child}function renderNodes(block){for(var infoWords,e,node,entering,leaving,attrs,doc,walker=block.walker(),sourcePos=this.sourcePos,escapeHtml=this.escapeHtml,skipHtml=this.skipHtml,softBreak="br"===this.softBreak?React.createElement("br"):this.softBreak;e=walker.next();){if(entering=e.entering,leaving=!entering,node=e.node,attrs={},doc||(doc=node,node.react={children:[]}),sourcePos&&node.sourcepos){var pos=node.sourcepos;attrs["data-sourcepos"]=[pos[0][0],":",pos[0][1],"-",pos[1][0],":",pos[1][1]].map(String).join("")}if("Paragraph"!==node.type||!isGrandChildOfList(node))if(leaving){if("Image"===node.type&&(node.react.props.alt=node.react.children[0],node.react.children=[]),node!==doc&&this.allowNode&&!this.allowNode({type:node.type,tag:node.react.tag,props:node.react.props,children:node.react.children}))continue;var nodeIsAllowed=-1!==this.allowedTypes.indexOf(node.type);node!==doc&&nodeIsAllowed&&addChild(node,createElement(node.react.tag,node.react.props,node.react.children))}else switch(node.type){case"Html":case"HtmlBlock":escapeHtml?addChild(node,node.literal):skipHtml||(attrs.dangerouslySetInnerHTML={__html:node.literal},addChild(node,createElement("Html"===node.type?"span":"div",attrs)));break;case"Text":addChild(node,node.literal);break;case"Paragraph":tag(node,"p",attrs);break;case"Header":tag(node,"h"+node.level,attrs);break;case"Softbreak":addChild(node,softBreak);break;case"Hardbreak":addChild(node,React.createElement("br"));break;case"Strong":tag(node,"strong",attrs);break;case"Link":attrs.href=node.destination,node.title&&(attrs.title=node.title),tag(node,"a",attrs);break;case"Image":attrs.src=node.destination,node.title&&(attrs.title=node.title),tag(node,"img",attrs);break;case"Emph":tag(node,"em",attrs);break;case"Code":addChild(node,createElement("code",attrs,[node.literal]));break;case"CodeBlock":infoWords=node.info?node.info.split(/ +/):[],infoWords.length>0&&infoWords[0].length>0&&(attrs.className="language-"+infoWords[0]);var code=createElement("code",attrs,[node.literal]);addChild(node,createElement("pre",{},[code]));break;case"BlockQuote":tag(node,"blockquote",attrs);break;case"List":var start=node.listStart;null!==start&&1!==start&&(attrs.start=start.toString()),tag(node,"Bullet"===node.listType?"ul":"ol",attrs);break;case"Item":tag(node,"li",attrs);break;case"HorizontalRule":addChild(node,createElement("hr",attrs));break;case"Document":break;default:throw new Error('Unknown node type "'+node.type+'"')}}return doc.react.children}function ReactRenderer(options){var opts=options||{};if(opts.allowedTypes&&opts.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");if(opts.allowedTypes&&!Array.isArray(opts.allowedTypes))throw new Error("`allowedTypes` must be an array");if(opts.disallowedTypes&&!Array.isArray(opts.disallowedTypes))throw new Error("`disallowedTypes` must be an array");if(opts.allowNode&&"function"!=typeof opts.allowNode)throw new Error("`allowNode` must be a function");var allowedTypes=opts.allowedTypes||allTypes;return opts.disallowedTypes&&(allowedTypes=allowedTypes.filter(function(type){return-1===opts.disallowedTypes.indexOf(type)})),{sourcePos:opts.sourcePos,softBreak:opts.softBreak||"\n",escapeHtml:Boolean(opts.escapeHtml),skipHtml:Boolean(opts.skipHtml),allowNode:opts.allowNode,allowedTypes:allowedTypes,render:renderNodes}}var React=require("react"),allTypes=["Html","HtmlBlock","Text","Paragraph","Header","Softbreak","Hardbreak","Link","Image","Emph","Code","CodeBlock","BlockQuote","List","Item","Strong","HorizontalRule","Document"];module.exports=ReactRenderer},{react:369}],168:[function(require,module){"use strict";function Parser(options){return{doc:new Document,blocks:blocks,blockStarts:blockStarts,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new InlineParser(options),findNextNonspace:findNextNonspace,advanceOffset:advanceOffset,advanceNextNonspace:advanceNextNonspace,breakOutOfLists:breakOutOfLists,addLine:addLine,addChild:addChild,incorporateLine:incorporateLine,finalize:finalize,processInlines:processInlines,closeUnmatchedBlocks:closeUnmatchedBlocks,parse:parse,options:options||{}}}var Node=require("./node"),unescapeString=require("./common").unescapeString,OPENTAG=require("./common").OPENTAG,CLOSETAG=require("./common").CLOSETAG,CODE_INDENT=4,C_NEWLINE=10,C_GREATERTHAN=62,C_LESSTHAN=60,C_SPACE=32,C_OPEN_BRACKET=91,InlineParser=require("./inlines"),reHtmlBlockOpen=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[\/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[\/]?[>]|$)/i,new RegExp("^(?:"+OPENTAG+"|"+CLOSETAG+")s*$","i")],reHtmlBlockClose=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],reHrule=/^(?:(?:\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/,reMaybeSpecial=/^[#`~*+_=<>0-9-]/,reNonSpace=/[^ \t\f\v\r\n]/,reBulletListMarker=/^[*+-]( +|$)/,reOrderedListMarker=/^(\d{1,9})([.)])( +|$)/,reATXHeaderMarker=/^#{1,6}(?: +|$)/,reCodeFence=/^`{3,}(?!.*`)|^~{3,}(?!.*~)/,reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/,reSetextHeaderLine=/^(?:=+|-+) *$/,reLineEnding=/\r\n|\n|\r/,isBlank=function(s){return!reNonSpace.test(s)},peek=function(ln,pos){return pos<ln.length?ln.charCodeAt(pos):-1},endsWithBlankLine=function(block){for(;block;){if(block._lastLineBlank)return!0;var t=block.type;if("List"!==t&&"Item"!==t)break;block=block._lastChild}return!1},breakOutOfLists=function(block){var b=block,last_list=null;do"List"===b.type&&(last_list=b),b=b._parent;while(b);if(last_list){for(;block!==last_list;)this.finalize(block,this.lineNumber),block=block._parent;this.finalize(last_list,this.lineNumber),this.tip=last_list._parent}},addLine=function(){this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"},addChild=function(tag,offset){for(;!this.blocks[this.tip.type].canContain(tag);)this.finalize(this.tip,this.lineNumber-1);var column_number=offset+1,newBlock=new Node(tag,[[this.lineNumber,column_number],[0,0]]);return newBlock._string_content="",this.tip.appendChild(newBlock),this.tip=newBlock,newBlock},parseListMarker=function(ln,offset,indent){var match,spaces_after_marker,rest=ln.slice(offset),data={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:indent};if(match=rest.match(reBulletListMarker))spaces_after_marker=match[1].length,data.type="Bullet",data.bulletChar=match[0][0];else{if(!(match=rest.match(reOrderedListMarker)))return null;spaces_after_marker=match[3].length,data.type="Ordered",data.start=parseInt(match[1]),data.delimiter=match[2]}var blank_item=match[0].length===rest.length;return data.padding=spaces_after_marker>=5||1>spaces_after_marker||blank_item?match[0].length-spaces_after_marker+1:match[0].length,data},listsMatch=function(list_data,item_data){return list_data.type===item_data.type&&list_data.delimiter===item_data.delimiter&&list_data.bulletChar===item_data.bulletChar},closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var parent=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=parent}this.allClosed=!0}},blocks={Document:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"Item"!==t},acceptsLines:!1},List:{continue:function(){return 0},finalize:function(parser,block){for(var item=block._firstChild;item;){if(endsWithBlankLine(item)&&item._next){block._listData.tight=!1;break}for(var subitem=item._firstChild;subitem;){if(endsWithBlankLine(subitem)&&(item._next||subitem._next)){block._listData.tight=!1;break}subitem=subitem._next}item=item._next}},canContain:function(t){return"Item"===t},acceptsLines:!1},BlockQuote:{continue:function(parser){var ln=parser.currentLine;return parser.indented||peek(ln,parser.nextNonspace)!==C_GREATERTHAN?1:(parser.advanceNextNonspace(),parser.advanceOffset(1,!1),peek(ln,parser.offset)===C_SPACE&&parser.offset++,0)},finalize:function(){},canContain:function(t){return"Item"!==t},acceptsLines:!1},Item:{continue:function(parser,container){if(parser.blank&&null!==container._firstChild)parser.advanceNextNonspace();else{if(!(parser.indent>=container._listData.markerOffset+container._listData.padding))return 1;parser.advanceOffset(container._listData.markerOffset+container._listData.padding,!0)}return 0},finalize:function(){},canContain:function(t){return"Item"!==t},acceptsLines:!1},Header:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},HorizontalRule:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},CodeBlock:{continue:function(parser,container){var ln=parser.currentLine,indent=parser.indent;if(container._isFenced){var match=3>=indent&&ln.charAt(parser.nextNonspace)===container._fenceChar&&ln.slice(parser.nextNonspace).match(reClosingCodeFence);if(match&&match[0].length>=container._fenceLength)return parser.finalize(container,parser.lineNumber),2;for(var i=container._fenceOffset;i>0&&peek(ln,parser.offset)===C_SPACE;)parser.advanceOffset(1,!1),i--}else if(indent>=CODE_INDENT)parser.advanceOffset(CODE_INDENT,!0);else{if(!parser.blank)return 1;parser.advanceNextNonspace()}return 0},finalize:function(parser,block){if(block._isFenced){var content=block._string_content,newlinePos=content.indexOf("\n"),firstLine=content.slice(0,newlinePos),rest=content.slice(newlinePos+1);block.info=unescapeString(firstLine.trim()),block._literal=rest}else block._literal=block._string_content.replace(/(\n *)+$/,"\n");block._string_content=null},canContain:function(){return!1},acceptsLines:!0},HtmlBlock:{continue:function(parser,container){return!parser.blank||6!==container._htmlBlockType&&7!==container._htmlBlockType?0:1},finalize:function(parser,block){block._literal=block._string_content.replace(/(\n *)+$/,""),block._string_content=null},canContain:function(){return!1},acceptsLines:!0},Paragraph:{continue:function(parser){return parser.blank?1:0},finalize:function(parser,block){for(var pos,hasReferenceDefs=!1;peek(block._string_content,0)===C_OPEN_BRACKET&&(pos=parser.inlineParser.parseReference(block._string_content,parser.refmap));)block._string_content=block._string_content.slice(pos),hasReferenceDefs=!0;hasReferenceDefs&&isBlank(block._string_content)&&block.unlink()},canContain:function(){return!1},acceptsLines:!0}},blockStarts=[function(parser){return parser.indented||peek(parser.currentLine,parser.nextNonspace)!==C_GREATERTHAN?0:(parser.advanceNextNonspace(),parser.advanceOffset(1,!1),peek(parser.currentLine,parser.offset)===C_SPACE&&parser.advanceOffset(1,!1),parser.closeUnmatchedBlocks(),parser.addChild("BlockQuote",parser.nextNonspace),1)},function(parser){var match;if(!parser.indented&&(match=parser.currentLine.slice(parser.nextNonspace).match(reATXHeaderMarker))){parser.advanceNextNonspace(),parser.advanceOffset(match[0].length,!1),parser.closeUnmatchedBlocks();var container=parser.addChild("Header",parser.nextNonspace);return container.level=match[0].trim().length,container._string_content=parser.currentLine.slice(parser.offset).replace(/^ *#+ *$/,"").replace(/ +#+ *$/,""),parser.advanceOffset(parser.currentLine.length-parser.offset),2}return 0},function(parser){var match;if(!parser.indented&&(match=parser.currentLine.slice(parser.nextNonspace).match(reCodeFence))){var fenceLength=match[0].length;parser.closeUnmatchedBlocks();var container=parser.addChild("CodeBlock",parser.nextNonspace);return container._isFenced=!0,container._fenceLength=fenceLength,container._fenceChar=match[0][0],container._fenceOffset=parser.indent,parser.advanceNextNonspace(),parser.advanceOffset(fenceLength,!1),2}return 0},function(parser,container){if(!parser.indented&&peek(parser.currentLine,parser.nextNonspace)===C_LESSTHAN){var blockType,s=parser.currentLine.slice(parser.nextNonspace);for(blockType=1;7>=blockType;blockType++)if(reHtmlBlockOpen[blockType].test(s)&&(7>blockType||"Paragraph"!==container.type)){parser.closeUnmatchedBlocks();var b=parser.addChild("HtmlBlock",parser.offset);return b._htmlBlockType=blockType,2}}return 0},function(parser,container){var match;if(!parser.indented&&"Paragraph"===container.type&&container._string_content.indexOf("\n")===container._string_content.length-1&&(match=parser.currentLine.slice(parser.nextNonspace).match(reSetextHeaderLine))){parser.closeUnmatchedBlocks();var header=new Node("Header",container.sourcepos);return header.level="="===match[0][0]?1:2,header._string_content=container._string_content,container.insertAfter(header),container.unlink(),parser.tip=header,parser.advanceOffset(parser.currentLine.length-parser.offset,!1),2}return 0},function(parser){return!parser.indented&&reHrule.test(parser.currentLine.slice(parser.nextNonspace))?(parser.closeUnmatchedBlocks(),parser.addChild("HorizontalRule",parser.nextNonspace),parser.advanceOffset(parser.currentLine.length-parser.offset,!1),2):0},function(parser,container){var data,i;return!(data=parseListMarker(parser.currentLine,parser.nextNonspace,parser.indent))||parser.indented&&"List"!==container.type?0:(parser.closeUnmatchedBlocks(),parser.advanceNextNonspace(),i=parser.column,parser.advanceOffset(data.padding,!1),data.padding=parser.column-i,"List"===parser.tip.type&&listsMatch(container._listData,data)||(container=parser.addChild("List",parser.nextNonspace),container._listData=data),container=parser.addChild("Item",parser.nextNonspace),container._listData=data,1)},function(parser){return parser.indented&&"Paragraph"!==parser.tip.type&&!parser.blank?(parser.advanceOffset(CODE_INDENT,!0),parser.closeUnmatchedBlocks(),parser.addChild("CodeBlock",parser.offset),2):0}],advanceOffset=function(count,columns){for(var i=0,cols=0,currentLine=this.currentLine;columns?count>cols:count>i;)cols+="	"===currentLine[this.offset+i]?4-(this.column+cols)%4:1,i++;this.offset+=i,this.column+=cols},advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn},findNextNonspace=function(){for(var c,currentLine=this.currentLine,i=this.offset,cols=this.column;""!==(c=currentLine.charAt(i));)if(" "===c)i++,cols++;else{if("	"!==c)break;i++,cols+=4-cols%4}this.blank="\n"===c||"\r"===c||""===c,this.nextNonspace=i,this.nextNonspaceColumn=cols,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=CODE_INDENT},incorporateLine=function(ln){var t,all_matched=!0,container=this.doc;this.oldtip=this.tip,this.offset=0,this.lineNumber+=1,-1!==ln.indexOf("\x00")&&(ln=ln.replace(/\0/g,"")),this.currentLine=ln;for(var lastChild;(lastChild=container._lastChild)&&lastChild._open;){switch(container=lastChild,this.findNextNonspace(),this.blocks[container.type].continue(this,container)){case 0:break;case 1:all_matched=!1;break;case 2:return void(this.lastLineLength=ln.length);default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!all_matched){container=container._parent;break}}this.allClosed=container===this.oldtip,this.lastMatchedContainer=container,this.blank&&container._lastLineBlank&&(this.breakOutOfLists(container),container=this.tip);for(var matchedLeaf="Paragraph"!==container.type&&blocks[container.type].acceptsLines,starts=this.blockStarts,startsLen=starts.length;!matchedLeaf;){if(this.findNextNonspace(),!this.indented&&!reMaybeSpecial.test(ln.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var i=0;startsLen>i;){var res=starts[i](this,container);if(1===res){container=this.tip;break}if(2===res){container=this.tip,matchedLeaf=!0;break}i++}if(i===startsLen){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"Paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&container.lastChild&&(container.lastChild._lastLineBlank=!0),t=container.type;for(var lastLineBlank=this.blank&&!("BlockQuote"===t||"CodeBlock"===t&&container._isFenced||"Item"===t&&!container._firstChild&&container.sourcepos[0][0]===this.lineNumber),cont=container;cont;)cont._lastLineBlank=lastLineBlank,cont=cont._parent;this.blocks[t].acceptsLines?(this.addLine(),"HtmlBlock"===t&&container._htmlBlockType>=1&&container._htmlBlockType<=5&&reHtmlBlockClose[container._htmlBlockType].test(this.currentLine.slice(this.offset))&&this.finalize(container,this.lineNumber)):this.offset<ln.length&&!this.blank&&(container=this.addChild("Paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=ln.length},finalize=function(block,lineNumber){var above=block._parent;block._open=!1,block.sourcepos[1]=[lineNumber,this.lastLineLength],this.blocks[block.type].finalize(this,block),this.tip=above},processInlines=function(block){var node,event,t,walker=block.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;event=walker.next();)node=event.node,t=node.type,event.entering||"Paragraph"!==t&&"Header"!==t||this.inlineParser.parse(node)},Document=function(){var doc=new Node("Document",[[1,1],[0,0]]);return doc},parse=function(input){this.doc=new Document,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var lines=input.split(reLineEnding),len=lines.length;input.charCodeAt(input.length-1)===C_NEWLINE&&(len-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var i=0;len>i;i++)this.incorporateLine(lines[i]);for(;this.tip;)this.finalize(this.tip,len);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};module.exports=Parser},{"./common":169,"./inlines":173,"./node":174}],169:[function(require,module){"use strict";var encode=require("mdurl/encode"),decode=require("mdurl/decode"),C_BACKSLASH=92,decodeHTML=require("entities").decodeHTML,ENTITY="&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});",TAGNAME="[A-Za-z][A-Za-z0-9-]*",ATTRIBUTENAME="[a-zA-Z_:][a-zA-Z0-9:._-]*",UNQUOTEDVALUE="[^\"'=<>`\\x00-\\x20]+",SINGLEQUOTEDVALUE="'[^']*'",DOUBLEQUOTEDVALUE='"[^"]*"',ATTRIBUTEVALUE="(?:"+UNQUOTEDVALUE+"|"+SINGLEQUOTEDVALUE+"|"+DOUBLEQUOTEDVALUE+")",ATTRIBUTEVALUESPEC="(?:\\s*=\\s*"+ATTRIBUTEVALUE+")",ATTRIBUTE="(?:\\s+"+ATTRIBUTENAME+ATTRIBUTEVALUESPEC+"?)",OPENTAG="<"+TAGNAME+ATTRIBUTE+"*\\s*/?>",CLOSETAG="</"+TAGNAME+"\\s*[>]",HTMLCOMMENT="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",PROCESSINGINSTRUCTION="[<][?].*?[?][>]",DECLARATION="<![A-Z]+\\s+[^>]*>",CDATA="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTMLTAG="(?:"+OPENTAG+"|"+CLOSETAG+"|"+HTMLCOMMENT+"|"+PROCESSINGINSTRUCTION+"|"+DECLARATION+"|"+CDATA+")",reHtmlTag=new RegExp("^"+HTMLTAG,"i"),reBackslashOrAmp=/[\\&]/,ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",reEntityOrEscapedChar=new RegExp("\\\\"+ESCAPABLE+"|"+ENTITY,"gi"),XMLSPECIAL='[&<>"]',reXmlSpecial=new RegExp(XMLSPECIAL,"g"),reXmlSpecialOrEntity=new RegExp(ENTITY+"|"+XMLSPECIAL,"gi"),unescapeChar=function(s){return s.charCodeAt(0)===C_BACKSLASH?s.charAt(1):decodeHTML(s)},unescapeString=function(s){return reBackslashOrAmp.test(s)?s.replace(reEntityOrEscapedChar,unescapeChar):s},normalizeURI=function(uri){try{return encode(decode(uri))}catch(err){return uri}},replaceUnsafeChar=function(s){switch(s){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return s}},escapeXml=function(s,preserve_entities){return reXmlSpecial.test(s)?preserve_entities?s.replace(reXmlSpecialOrEntity,replaceUnsafeChar):s.replace(reXmlSpecial,replaceUnsafeChar):s};module.exports={unescapeString:unescapeString,normalizeURI:normalizeURI,escapeXml:escapeXml,reHtmlTag:reHtmlTag,OPENTAG:OPENTAG,CLOSETAG:CLOSETAG,ENTITY:ENTITY,ESCAPABLE:ESCAPABLE}},{entities:177,"mdurl/decode":185,"mdurl/encode":186}],170:[function(require,module){"use strict";if(String.fromCodePoint)module.exports=function(_){try{return String.fromCodePoint(_)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);

throw e}};else{var stringFromCharCode=String.fromCharCode,floor=Math.floor,fromCodePoint=function(){var highSurrogate,lowSurrogate,MAX_SIZE=16384,codeUnits=[],index=-1,length=arguments.length;if(!length)return"";for(var result="";++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||0>codePoint||codePoint>1114111||floor(codePoint)!==codePoint)return String.fromCharCode(65533);65535>=codePoint?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=(codePoint>>10)+55296,lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate)),(index+1===length||codeUnits.length>MAX_SIZE)&&(result+=stringFromCharCode.apply(null,codeUnits),codeUnits.length=0)}return result};module.exports=fromCodePoint}},{}],171:[function(require,module){"use strict";function HtmlRenderer(options){return{softbreak:"\n",escape:escapeXml,options:options||{},render:renderNodes}}var escapeXml=require("./common").escapeXml,tag=function(name,attrs,selfclosing){var result="<"+name;if(attrs&&attrs.length>0)for(var attrib,i=0;void 0!==(attrib=attrs[i]);)result+=" "+attrib[0]+'="'+attrib[1]+'"',i++;return selfclosing&&(result+=" /"),result+=">"},reHtmlTag=/\<[^>]*\>/,reUnsafeProtocol=/^javascript:|vbscript:|file:|data:/i,reSafeDataProtocol=/^data:image\/(?:png|gif|jpeg|webp)/i,potentiallyUnsafe=function(url){return reUnsafeProtocol.test(url)&&!reSafeDataProtocol.test(url)},renderNodes=function(block){var attrs,info_words,tagname,event,node,entering,grandparent,walker=block.walker(),buffer="",lastOut="\n",disableTags=0,out=function(s){buffer+=disableTags>0?s.replace(reHtmlTag,""):s,lastOut=s},esc=this.escape,cr=function(){"\n"!==lastOut&&(buffer+="\n",lastOut="\n")},options=this.options;for(options.time&&console.time("rendering");event=walker.next();){if(entering=event.entering,node=event.node,attrs=[],options.sourcepos){var pos=node.sourcepos;pos&&attrs.push(["data-sourcepos",String(pos[0][0])+":"+String(pos[0][1])+"-"+String(pos[1][0])+":"+String(pos[1][1])])}switch(node.type){case"Text":out(esc(node.literal,!1));break;case"Softbreak":out(this.softbreak);break;case"Hardbreak":out(tag("br",[],!0)),cr();break;case"Emph":out(tag(entering?"em":"/em"));break;case"Strong":out(tag(entering?"strong":"/strong"));break;case"Html":out(options.safe?"<!-- raw HTML omitted -->":node.literal);break;case"Link":entering?(options.safe&&potentiallyUnsafe(node.destination)||attrs.push(["href",esc(node.destination,!0)]),node.title&&attrs.push(["title",esc(node.title,!0)]),out(tag("a",attrs))):out(tag("/a"));break;case"Image":entering?(0===disableTags&&out(options.safe&&potentiallyUnsafe(node.destination)?'<img src="" alt="':'<img src="'+esc(node.destination,!0)+'" alt="'),disableTags+=1):(disableTags-=1,0===disableTags&&(node.title&&out('" title="'+esc(node.title,!0)),out('" />')));break;case"Code":out(tag("code")+esc(node.literal,!1)+tag("/code"));break;case"Document":break;case"Paragraph":if(grandparent=node.parent.parent,null!==grandparent&&"List"===grandparent.type&&grandparent.listTight)break;entering?(cr(),out(tag("p",attrs))):(out(tag("/p")),cr());break;case"BlockQuote":entering?(cr(),out(tag("blockquote",attrs)),cr()):(cr(),out(tag("/blockquote")),cr());break;case"Item":entering?out(tag("li",attrs)):(out(tag("/li")),cr());break;case"List":if(tagname="Bullet"===node.listType?"ul":"ol",entering){var start=node.listStart;null!==start&&1!==start&&attrs.push(["start",start.toString()]),cr(),out(tag(tagname,attrs)),cr()}else cr(),out(tag("/"+tagname)),cr();break;case"Header":tagname="h"+node.level,entering?(cr(),out(tag(tagname,attrs))):(out(tag("/"+tagname)),cr());break;case"CodeBlock":info_words=node.info?node.info.split(/\s+/):[],info_words.length>0&&info_words[0].length>0&&attrs.push(["class","language-"+esc(info_words[0],!0)]),cr(),out(tag("pre")+tag("code",attrs)),out(esc(node.literal,!1)),out(tag("/code")+tag("/pre")),cr();break;case"HtmlBlock":cr(),out(options.safe?"<!-- raw HTML omitted -->":node.literal),cr();break;case"HorizontalRule":cr(),out(tag("hr",attrs,!0)),cr();break;default:throw"Unknown node type "+node.type}}return options.time&&console.timeEnd("rendering"),buffer};module.exports=HtmlRenderer},{"./common":169}],172:[function(require,module){"use strict";module.exports.Node=require("./node"),module.exports.Parser=require("./blocks"),module.exports.HtmlRenderer=require("./html"),module.exports.XmlRenderer=require("./xml")},{"./blocks":168,"./html":171,"./node":174,"./xml":176}],173:[function(require,module){"use strict";function InlineParser(options){return{subject:"",delimiters:null,pos:0,refmap:{},match:match,peek:peek,spnl:spnl,parseBackticks:parseBackticks,parseBackslash:parseBackslash,parseAutolink:parseAutolink,parseHtmlTag:parseHtmlTag,scanDelims:scanDelims,handleDelim:handleDelim,parseLinkTitle:parseLinkTitle,parseLinkDestination:parseLinkDestination,parseLinkLabel:parseLinkLabel,parseOpenBracket:parseOpenBracket,parseCloseBracket:parseCloseBracket,parseBang:parseBang,parseEntity:parseEntity,parseString:parseString,parseNewline:parseNewline,parseReference:parseReference,parseInline:parseInline,processEmphasis:processEmphasis,removeDelimiter:removeDelimiter,options:options||{},parse:parseInlines}}var Node=require("./node"),common=require("./common"),normalizeReference=require("./normalize-reference"),normalizeURI=common.normalizeURI,unescapeString=common.unescapeString,fromCodePoint=require("./from-code-point.js"),decodeHTML=require("entities").decodeHTML;require("string.prototype.repeat");var C_NEWLINE=10,C_ASTERISK=42,C_UNDERSCORE=95,C_BACKTICK=96,C_OPEN_BRACKET=91,C_CLOSE_BRACKET=93,C_LESSTHAN=60,C_BANG=33,C_BACKSLASH=92,C_AMPERSAND=38,C_OPEN_PAREN=40,C_CLOSE_PAREN=41,C_COLON=58,C_SINGLEQUOTE=39,C_DOUBLEQUOTE=34,ESCAPABLE=common.ESCAPABLE,ESCAPED_CHAR="\\\\"+ESCAPABLE,REG_CHAR="[^\\\\()\\x00-\\x20]",IN_PARENS_NOSP="\\(("+REG_CHAR+"|"+ESCAPED_CHAR+"|\\\\)*\\)",ENTITY=common.ENTITY,reHtmlTag=common.reHtmlTag,rePunctuation=new RegExp(/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~]/),reLinkTitle=new RegExp('^(?:"('+ESCAPED_CHAR+'|[^"\\x00])*"|\'('+ESCAPED_CHAR+"|[^'\\x00])*'|\\(("+ESCAPED_CHAR+"|[^)\\x00])*\\))"),reLinkDestinationBraces=new RegExp("^(?:[<](?:[^<>\\n\\\\\\x00]|"+ESCAPED_CHAR+"|\\\\)*[>])"),reLinkDestination=new RegExp("^(?:"+REG_CHAR+"+|"+ESCAPED_CHAR+"|\\\\|"+IN_PARENS_NOSP+")*"),reEscapable=new RegExp("^"+ESCAPABLE),reEntityHere=new RegExp("^"+ENTITY,"i"),reTicks=/`+/,reTicksHere=/^`+/,reEllipses=/\.\.\./g,reDash=/--+/g,reEmailAutolink=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,reAutolink=/^<(?:coap|doi|javascript|aaa|aaas|about|acap|cap|cid|crid|data|dav|dict|dns|file|ftp|geo|go|gopher|h323|http|https|iax|icap|im|imap|info|ipp|iris|iris.beep|iris.xpc|iris.xpcs|iris.lwz|ldap|mailto|mid|msrp|msrps|mtqp|mupdate|news|nfs|ni|nih|nntp|opaquelocktoken|pop|pres|rtsp|service|session|shttp|sieve|sip|sips|sms|snmp|soap.beep|soap.beeps|tag|tel|telnet|tftp|thismessage|tn3270|tip|tv|urn|vemmi|ws|wss|xcon|xcon-userid|xmlrpc.beep|xmlrpc.beeps|xmpp|z39.50r|z39.50s|adiumxtra|afp|afs|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|chrome|chrome-extension|com-eventbrite-attendee|content|cvs|dlna-playsingle|dlna-playcontainer|dtn|dvb|ed2k|facetime|feed|finger|fish|gg|git|gizmoproject|gtalk|hcp|icon|ipn|irc|irc6|ircs|itms|jar|jms|keyparc|lastfm|ldaps|magnet|maps|market|message|mms|ms-help|msnim|mumble|mvn|notes|oid|palm|paparazzi|platform|proxy|psyc|query|res|resource|rmi|rsync|rtmp|secondlife|sftp|sgn|skype|smb|soldat|spotify|ssh|steam|svn|teamspeak|things|udp|unreal|ut2004|ventrilo|view-source|webcal|wtai|wyciwyg|xfire|xri|ymsgr):[^<>\x00-\x20]*>/i,reSpnl=/^ *(?:\n *)?/,reWhitespaceChar=/^\s/,reWhitespace=/\s+/g,reFinalSpace=/ *$/,reInitialSpace=/^ */,reSpaceAtEndOfLine=/^ *(?:\n|$)/,reLinkLabel=new RegExp("^\\[(?:[^\\\\\\[\\]]|"+ESCAPED_CHAR+"|\\\\){0,1000}\\]"),reMain=/^[^\n`\[\]\\!<&*_'"]+/m,text=function(s){var node=new Node("Text");return node._literal=s,node},match=function(re){var m=re.exec(this.subject.slice(this.pos));return null===m?null:(this.pos+=m.index+m[0].length,m[0])},peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},spnl=function(){return this.match(reSpnl),!0},parseBackticks=function(block){var ticks=this.match(reTicksHere);if(null===ticks)return!1;for(var matched,node,afterOpenTicks=this.pos;null!==(matched=this.match(reTicks));)if(matched===ticks)return node=new Node("Code"),node._literal=this.subject.slice(afterOpenTicks,this.pos-ticks.length).trim().replace(reWhitespace," "),block.appendChild(node),!0;return this.pos=afterOpenTicks,block.appendChild(text(ticks)),!0},parseBackslash=function(block){var node,subj=this.subject;return this.pos+=1,this.peek()===C_NEWLINE?(this.pos+=1,node=new Node("Hardbreak"),block.appendChild(node)):reEscapable.test(subj.charAt(this.pos))?(block.appendChild(text(subj.charAt(this.pos))),this.pos+=1):block.appendChild(text("\\")),!0},parseAutolink=function(block){var m,dest,node;return(m=this.match(reEmailAutolink))?(dest=m.slice(1,m.length-1),node=new Node("Link"),node._destination=normalizeURI("mailto:"+dest),node._title="",node.appendChild(text(dest)),block.appendChild(node),!0):(m=this.match(reAutolink))?(dest=m.slice(1,m.length-1),node=new Node("Link"),node._destination=normalizeURI(dest),node._title="",node.appendChild(text(dest)),block.appendChild(node),!0):!1},parseHtmlTag=function(block){var m=this.match(reHtmlTag);if(null===m)return!1;var node=new Node("Html");return node._literal=m,block.appendChild(node),!0},scanDelims=function(cc){var char_before,char_after,cc_after,left_flanking,right_flanking,can_open,can_close,after_is_whitespace,after_is_punctuation,before_is_whitespace,before_is_punctuation,numdelims=0,startpos=this.pos;if(cc===C_SINGLEQUOTE||cc===C_DOUBLEQUOTE)numdelims++,this.pos++;else for(;this.peek()===cc;)numdelims++,this.pos++;return 0===numdelims?null:(char_before=0===startpos?"\n":this.subject.charAt(startpos-1),cc_after=this.peek(),char_after=-1===cc_after?"\n":fromCodePoint(cc_after),after_is_whitespace=reWhitespaceChar.test(char_after),after_is_punctuation=rePunctuation.test(char_after),before_is_whitespace=reWhitespaceChar.test(char_before),before_is_punctuation=rePunctuation.test(char_before),left_flanking=!(after_is_whitespace||after_is_punctuation&&!before_is_whitespace&&!before_is_punctuation),right_flanking=!(before_is_whitespace||before_is_punctuation&&!after_is_whitespace&&!after_is_punctuation),cc===C_UNDERSCORE?(can_open=left_flanking&&(!right_flanking||before_is_punctuation),can_close=right_flanking&&(!left_flanking||after_is_punctuation)):cc===C_SINGLEQUOTE||cc===C_DOUBLEQUOTE?(can_open=left_flanking&&!right_flanking,can_close=right_flanking):(can_open=left_flanking,can_close=right_flanking),this.pos=startpos,{numdelims:numdelims,can_open:can_open,can_close:can_close})},handleDelim=function(cc,block){var res=this.scanDelims(cc);if(!res)return!1;var contents,numdelims=res.numdelims,startpos=this.pos;this.pos+=numdelims,contents=cc===C_SINGLEQUOTE?"":cc===C_DOUBLEQUOTE?"":this.subject.slice(startpos,this.pos);var node=text(contents);return block.appendChild(node),this.delimiters={cc:cc,numdelims:numdelims,node:node,previous:this.delimiters,next:null,can_open:res.can_open,can_close:res.can_close,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},removeDelimiter=function(delim){null!==delim.previous&&(delim.previous.next=delim.next),null===delim.next?this.delimiters=delim.previous:delim.next.previous=delim.previous},removeDelimitersBetween=function(bottom,top){bottom.next!==top&&(bottom.next=top,top.previous=bottom)},processEmphasis=function(stack_bottom){var opener,closer,old_closer,opener_inl,closer_inl,tempstack,use_delims,tmp,next,opener_found,openers_bottom=[];for(openers_bottom[C_UNDERSCORE]=stack_bottom,openers_bottom[C_ASTERISK]=stack_bottom,openers_bottom[C_SINGLEQUOTE]=stack_bottom,openers_bottom[C_DOUBLEQUOTE]=stack_bottom,closer=this.delimiters;null!==closer&&closer.previous!==stack_bottom;)closer=closer.previous;for(;null!==closer;){var closercc=closer.cc;if(!closer.can_close||closercc!==C_UNDERSCORE&&closercc!==C_ASTERISK&&closercc!==C_SINGLEQUOTE&&closercc!==C_DOUBLEQUOTE)closer=closer.next;else{for(opener=closer.previous,opener_found=!1;null!==opener&&opener!==stack_bottom&&opener!==openers_bottom[closercc];){if(opener.cc===closer.cc&&opener.can_open){opener_found=!0;break}opener=opener.previous}if(old_closer=closer,closercc===C_ASTERISK||closercc===C_UNDERSCORE)if(opener_found){use_delims=closer.numdelims<3||opener.numdelims<3?closer.numdelims<=opener.numdelims?closer.numdelims:opener.numdelims:closer.numdelims%2===0?2:1,opener_inl=opener.node,closer_inl=closer.node,opener.numdelims-=use_delims,closer.numdelims-=use_delims,opener_inl._literal=opener_inl._literal.slice(0,opener_inl._literal.length-use_delims),closer_inl._literal=closer_inl._literal.slice(0,closer_inl._literal.length-use_delims);var emph=new Node(1===use_delims?"Emph":"Strong");for(tmp=opener_inl._next;tmp&&tmp!==closer_inl;)next=tmp._next,tmp.unlink(),emph.appendChild(tmp),tmp=next;opener_inl.insertAfter(emph),removeDelimitersBetween(opener,closer),0===opener.numdelims&&(opener_inl.unlink(),this.removeDelimiter(opener)),0===closer.numdelims&&(closer_inl.unlink(),tempstack=closer.next,this.removeDelimiter(closer),closer=tempstack)}else closer=closer.next;else closercc===C_SINGLEQUOTE?(closer.node._literal="",opener_found&&(opener.node._literal=""),closer=closer.next):closercc===C_DOUBLEQUOTE&&(closer.node._literal="",opener_found&&(opener.node.literal=""),closer=closer.next);opener_found||(openers_bottom[closercc]=old_closer.previous,old_closer.can_open||this.removeDelimiter(old_closer))}}for(;null!==this.delimiters&&this.delimiters!==stack_bottom;)this.removeDelimiter(this.delimiters)},parseLinkTitle=function(){var title=this.match(reLinkTitle);return null===title?null:unescapeString(title.substr(1,title.length-2))},parseLinkDestination=function(){var res=this.match(reLinkDestinationBraces);return null===res?(res=this.match(reLinkDestination),null===res?null:normalizeURI(unescapeString(res))):normalizeURI(unescapeString(res.substr(1,res.length-2)))},parseLinkLabel=function(){var m=this.match(reLinkLabel);return null===m||m.length>1001?0:m.length},parseOpenBracket=function(block){var startpos=this.pos;this.pos+=1;var node=text("[");return block.appendChild(node),this.delimiters={cc:C_OPEN_BRACKET,numdelims:1,node:node,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:startpos,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},parseBang=function(block){var startpos=this.pos;if(this.pos+=1,this.peek()===C_OPEN_BRACKET){this.pos+=1;var node=text("![");block.appendChild(node),this.delimiters={cc:C_BANG,numdelims:1,node:node,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:startpos+1,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)}else block.appendChild(text("!"));return!0},parseCloseBracket=function(block){var startpos,is_image,dest,title,reflabel,opener,matched=!1;for(this.pos+=1,startpos=this.pos,opener=this.delimiters;null!==opener&&opener.cc!==C_OPEN_BRACKET&&opener.cc!==C_BANG;)opener=opener.previous;if(null===opener)return block.appendChild(text("]")),!0;if(!opener.active)return block.appendChild(text("]")),this.removeDelimiter(opener),!0;if(is_image=opener.cc===C_BANG,this.peek()===C_OPEN_PAREN)this.pos++,this.spnl()&&null!==(dest=this.parseLinkDestination())&&this.spnl()&&(reWhitespaceChar.test(this.subject.charAt(this.pos-1))&&(title=this.parseLinkTitle()),!0)&&this.spnl()&&this.peek()===C_CLOSE_PAREN&&(this.pos+=1,matched=!0);else{var savepos=this.pos;this.spnl();var beforelabel=this.pos,n=this.parseLinkLabel();reflabel=0===n||2===n?this.subject.slice(opener.index,startpos):this.subject.slice(beforelabel,beforelabel+n),0===n&&(this.pos=savepos);var link=this.refmap[normalizeReference(reflabel)];link&&(dest=link.destination,title=link.title,matched=!0)}if(matched){var node=new Node(is_image?"Image":"Link");node._destination=dest,node._title=title||"";var tmp,next;for(tmp=opener.node._next;tmp;)next=tmp._next,tmp.unlink(),node.appendChild(tmp),tmp=next;if(block.appendChild(node),this.processEmphasis(opener.previous),opener.node.unlink(),!is_image)for(opener=this.delimiters;null!==opener;)opener.cc===C_OPEN_BRACKET&&(opener.active=!1),opener=opener.previous;return!0}return this.removeDelimiter(opener),this.pos=startpos,block.appendChild(text("]")),!0},parseEntity=function(block){var m;return(m=this.match(reEntityHere))?(block.appendChild(text(decodeHTML(m))),!0):!1},parseString=function(block){var m;return(m=this.match(reMain))?(block.appendChild(text(this.options.smart?m.replace(reEllipses,"").replace(reDash,function(chars){var enCount=0,emCount=0;return chars.length%3===0?emCount=chars.length/3:chars.length%2===0?enCount=chars.length/2:chars.length%3===2?(enCount=1,emCount=(chars.length-2)/3):(enCount=2,emCount=(chars.length-4)/3),"".repeat(emCount)+"".repeat(enCount)}):m)),!0):!1},parseNewline=function(block){this.pos+=1;var lastc=block._lastChild;if(lastc&&"Text"===lastc.type&&" "===lastc._literal[lastc._literal.length-1]){var hardbreak=" "===lastc._literal[lastc._literal.length-2];lastc._literal=lastc._literal.replace(reFinalSpace,""),block.appendChild(new Node(hardbreak?"Hardbreak":"Softbreak"))}else block.appendChild(new Node("Softbreak"));return this.match(reInitialSpace),!0},parseReference=function(s,refmap){this.subject=s,this.pos=0;var rawlabel,dest,title,matchChars,startpos=this.pos;if(matchChars=this.parseLinkLabel(),0===matchChars)return 0;if(rawlabel=this.subject.substr(0,matchChars),this.peek()!==C_COLON)return this.pos=startpos,0;if(this.pos++,this.spnl(),dest=this.parseLinkDestination(),null===dest||0===dest.length)return this.pos=startpos,0;var beforetitle=this.pos;this.spnl(),title=this.parseLinkTitle(),null===title&&(title="",this.pos=beforetitle);var atLineEnd=!0;if(null===this.match(reSpaceAtEndOfLine)&&(""===title?atLineEnd=!1:(title="",this.pos=beforetitle,atLineEnd=null!==this.match(reSpaceAtEndOfLine))),!atLineEnd)return this.pos=startpos,0;var normlabel=normalizeReference(rawlabel);return""===normlabel?(this.pos=startpos,0):(refmap[normlabel]||(refmap[normlabel]={destination:dest,title:title}),this.pos-startpos)},parseInline=function(block){var res=!1,c=this.peek();if(-1===c)return!1;switch(c){case C_NEWLINE:res=this.parseNewline(block);break;case C_BACKSLASH:res=this.parseBackslash(block);break;case C_BACKTICK:res=this.parseBackticks(block);break;case C_ASTERISK:case C_UNDERSCORE:res=this.handleDelim(c,block);break;case C_SINGLEQUOTE:case C_DOUBLEQUOTE:res=this.options.smart&&this.handleDelim(c,block);break;case C_OPEN_BRACKET:res=this.parseOpenBracket(block);break;case C_BANG:res=this.parseBang(block);break;case C_CLOSE_BRACKET:res=this.parseCloseBracket(block);break;case C_LESSTHAN:res=this.parseAutolink(block)||this.parseHtmlTag(block);break;case C_AMPERSAND:res=this.parseEntity(block);break;default:res=this.parseString(block)}return res||(this.pos+=1,block.appendChild(text(fromCodePoint(c)))),!0},parseInlines=function(block){for(this.subject=block._string_content.trim(),this.pos=0,this.delimiters=null;this.parseInline(block););block._string_content=null,this.processEmphasis(null)};module.exports=InlineParser},{"./common":169,"./from-code-point.js":170,"./node":174,"./normalize-reference":175,entities:177,"string.prototype.repeat":187}],174:[function(require,module){"use strict";function isContainer(node){switch(node._type){case"Document":case"BlockQuote":case"List":case"Item":case"Paragraph":case"Header":case"Emph":case"Strong":case"Link":case"Image":return!0;default:return!1}}var resumeAt=function(node,entering){this.current=node,this.entering=entering===!0},next=function(){var cur=this.current,entering=this.entering;if(null===cur)return null;var container=isContainer(cur);return entering&&container?cur._firstChild?(this.current=cur._firstChild,this.entering=!0):this.entering=!1:cur===this.root?this.current=null:null===cur._next?(this.current=cur._parent,this.entering=!1):(this.current=cur._next,this.entering=!0),{entering:entering,node:cur}},NodeWalker=function(root){return{current:root,root:root,entering:!0,next:next,resumeAt:resumeAt}},Node=function(nodeType,sourcepos){this._type=nodeType,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=sourcepos,this._lastLineBlank=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData=null,this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null},proto=Node.prototype;Object.defineProperty(proto,"isContainer",{get:function(){return isContainer(this)}}),Object.defineProperty(proto,"type",{get:function(){return this._type}}),Object.defineProperty(proto,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(proto,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(proto,"next",{get:function(){return this._next}}),Object.defineProperty(proto,"prev",{get:function(){return this._prev}}),Object.defineProperty(proto,"parent",{get:function(){return this._parent}}),Object.defineProperty(proto,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(proto,"literal",{get:function(){return this._literal},set:function(s){this._literal=s}}),Object.defineProperty(proto,"destination",{get:function(){return this._destination},set:function(s){this._destination=s}}),Object.defineProperty(proto,"title",{get:function(){return this._title},set:function(s){this._title=s}}),Object.defineProperty(proto,"info",{get:function(){return this._info},set:function(s){this._info=s}}),Object.defineProperty(proto,"level",{get:function(){return this._level},set:function(s){this._level=s}}),Object.defineProperty(proto,"listType",{get:function(){return this._listData.type},set:function(t){this._listData.type=t}}),Object.defineProperty(proto,"listTight",{get:function(){return this._listData.tight},set:function(t){this._listData.tight=t}}),Object.defineProperty(proto,"listStart",{get:function(){return this._listData.start},set:function(n){this._listData.start=n}}),Object.defineProperty(proto,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(delim){this._listData.delimiter=delim}}),Node.prototype.appendChild=function(child){child.unlink(),child._parent=this,this._lastChild?(this._lastChild._next=child,child._prev=this._lastChild,this._lastChild=child):(this._firstChild=child,this._lastChild=child)},Node.prototype.prependChild=function(child){child.unlink(),child._parent=this,this._firstChild?(this._firstChild._prev=child,child._next=this._firstChild,this._firstChild=child):(this._firstChild=child,this._lastChild=child)},Node.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},Node.prototype.insertAfter=function(sibling){sibling.unlink(),sibling._next=this._next,sibling._next&&(sibling._next._prev=sibling),sibling._prev=this,this._next=sibling,sibling._parent=this._parent,sibling._next||(sibling._parent._lastChild=sibling)},Node.prototype.insertBefore=function(sibling){sibling.unlink(),sibling._prev=this._prev,sibling._prev&&(sibling._prev._next=sibling),sibling._next=this,this._prev=sibling,sibling._parent=this._parent,sibling._prev||(sibling._parent._firstChild=sibling)},Node.prototype.walker=function(){var walker=new NodeWalker(this);return walker},module.exports=Node},{}],175:[function(require,module){"use strict";var regex=/[ \t\r\n]+|[A-Z\xB5\xC0-\xD6\xD8-\xDF\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u0149\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u017F\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C5\u01C7\u01C8\u01CA\u01CB\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F0-\u01F2\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0345\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03AB\u03B0\u03C2\u03CF-\u03D1\u03D5\u03D6\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F0\u03F1\u03F4\u03F5\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u0587\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E96-\u1E9B\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F50\u1F52\u1F54\u1F56\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1F80-\u1FAF\u1FB2-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD2\u1FD3\u1FD6-\u1FDB\u1FE2-\u1FE4\u1FE6-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A\u212B\u2132\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0\uA7B1\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27]|\uD806[\uDCA0-\uDCBF]/g,map={A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"s","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",
"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"k","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ss","":"i","":"n","":"j","":"","":"","":"","":"h","":"t","":"w","":"y","":"a","":"ss","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"ff","":"fi","":"fl","":"ffi","":"ffl","":"st","":"st","":"","":"","":"","":"","":""};module.exports=function(string){return string.slice(1,string.length-1).trim().replace(regex,function($0){return map[$0]||" "})}},{}],176:[function(require,module){"use strict";function XmlRenderer(options){return{softbreak:"\n",escape:escapeXml,options:options||{},render:renderNodes}}var escapeXml=require("./common").escapeXml,tag=function(name,attrs,selfclosing){var result="<"+name;if(attrs&&attrs.length>0)for(var attrib,i=0;void 0!==(attrib=attrs[i]);)result+=" "+attrib[0]+'="'+attrib[1]+'"',i++;return selfclosing&&(result+=" /"),result+=">"},reXMLTag=/\<[^>]*\>/,toTagName=function(s){return s.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()},renderNodes=function(block){var attrs,tagname,event,node,entering,unescapedContents,container,selfClosing,nodetype,walker=block.walker(),buffer="",lastOut="\n",disableTags=0,indentLevel=0,indent="  ",out=function(s){buffer+=disableTags>0?s.replace(reXMLTag,""):s,lastOut=s},esc=this.escape,cr=function(){if("\n"!==lastOut){buffer+="\n",lastOut="\n";for(var i=indentLevel;i>0;i--)buffer+=indent}},options=this.options;for(options.time&&console.time("rendering"),buffer+='<?xml version="1.0" encoding="UTF-8"?>\n',buffer+='<!DOCTYPE CommonMark SYSTEM "CommonMark.dtd">\n';event=walker.next();)if(entering=event.entering,node=event.node,nodetype=node.type,container=node.isContainer,selfClosing="HorizontalRule"===nodetype||"Hardbreak"===nodetype||"Softbreak"===nodetype,unescapedContents="Html"===nodetype||"HtmlInline"===nodetype,tagname=toTagName(nodetype),entering){switch(attrs=[],nodetype){case"List":null!==node.listType&&attrs.push(["type",node.listType.toLowerCase()]),null!==node.listStart&&attrs.push(["start",String(node.listStart)]),null!==node.listTight&&attrs.push(["tight",node.listTight?"true":"false"]);var delim=node.listDelimiter;if(null!==delim){var delimword="";delimword="."===delim?"period":"paren",attrs.push(["delimiter",delimword])}break;case"CodeBlock":node.info&&attrs.push(["info",node.info]);break;case"Header":attrs.push(["level",String(node.level)]);break;case"Link":case"Image":attrs.push(["destination",node.destination]),attrs.push(["title",node.title])}if(options.sourcepos){var pos=node.sourcepos;pos&&attrs.push(["sourcepos",String(pos[0][0])+":"+String(pos[0][1])+"-"+String(pos[1][0])+":"+String(pos[1][1])])}if(cr(),out(tag(tagname,attrs,selfClosing)),container)indentLevel+=1;else if(!container&&!selfClosing){var lit=node.literal;lit&&out(unescapedContents?lit:esc(lit)),out(tag("/"+tagname))}}else indentLevel-=1,cr(),out(tag("/"+tagname));return options.time&&console.timeEnd("rendering"),buffer+="\n"};module.exports=XmlRenderer},{"./common":169}],177:[function(require,module,exports){var encode=require("./lib/encode.js"),decode=require("./lib/decode.js");exports.decode=function(data,level){return(!level||0>=level?decode.XML:decode.HTML)(data)},exports.decodeStrict=function(data,level){return(!level||0>=level?decode.XML:decode.HTMLStrict)(data)},exports.encode=function(data,level){return(!level||0>=level?encode.XML:encode.HTML)(data)},exports.encodeXML=encode.XML,exports.encodeHTML4=exports.encodeHTML5=exports.encodeHTML=encode.HTML,exports.decodeXML=exports.decodeXMLStrict=decode.XML,exports.decodeHTML4=exports.decodeHTML5=exports.decodeHTML=decode.HTML,exports.decodeHTML4Strict=exports.decodeHTML5Strict=exports.decodeHTMLStrict=decode.HTMLStrict,exports.escape=encode.escape},{"./lib/decode.js":178,"./lib/encode.js":180}],178:[function(require,module){function getStrictDecoder(map){var keys=Object.keys(map).join("|"),replace=getReplacer(map);keys+="|#[xX][\\da-fA-F]+|#\\d+";var re=new RegExp("&(?:"+keys+");","g");return function(str){return String(str).replace(re,replace)}}function sorter(a,b){return b>a?1:-1}function getReplacer(map){return function(str){return"#"===str.charAt(1)?decodeCodePoint("X"===str.charAt(2)||"x"===str.charAt(2)?parseInt(str.substr(3),16):parseInt(str.substr(2),10)):map[str.slice(1,-1)]}}var entityMap=require("../maps/entities.json"),legacyMap=require("../maps/legacy.json"),xmlMap=require("../maps/xml.json"),decodeCodePoint=require("./decode_codepoint.js"),decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap),decodeHTML=function(){function replacer(str){return";"!==str.substr(-1)&&(str+=";"),replace(str)}for(var legacy=Object.keys(legacyMap).sort(sorter),keys=Object.keys(entityMap).sort(sorter),i=0,j=0;i<keys.length;i++)legacy[j]===keys[i]?(keys[i]+=";?",j++):keys[i]+=";";var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entityMap);return function(str){return String(str).replace(re,replacer)}}();module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict}},{"../maps/entities.json":182,"../maps/legacy.json":183,"../maps/xml.json":184,"./decode_codepoint.js":179}],179:[function(require,module){function decodeCodePoint(codePoint){if(codePoint>=55296&&57343>=codePoint||codePoint>1114111)return"";codePoint in decodeMap&&(codePoint=decodeMap[codePoint]);var output="";return codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),output+=String.fromCharCode(codePoint)}var decodeMap=require("../maps/decode.json");module.exports=decodeCodePoint},{"../maps/decode.json":181}],180:[function(require,module,exports){function getInverseObj(obj){return Object.keys(obj).sort().reduce(function(inverse,name){return inverse[obj[name]]="&"+name+";",inverse},{})}function getInverseReplacer(inverse){var single=[],multiple=[];return Object.keys(inverse).forEach(function(k){1===k.length?single.push("\\"+k):multiple.push(k)}),multiple.unshift("["+single.join("")+"]"),new RegExp(multiple.join("|"),"g")}function singleCharReplacer(c){return"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(c){var high=c.charCodeAt(0),low=c.charCodeAt(1),codePoint=1024*(high-55296)+low-56320+65536;return"&#x"+codePoint.toString(16).toUpperCase()+";"}function getInverse(inverse,re){function func(name){return inverse[name]}return function(data){return data.replace(re,func).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}function escapeXML(data){return data.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}var inverseXML=getInverseObj(require("../maps/xml.json")),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(require("../maps/entities.json")),htmlReplacer=getInverseReplacer(inverseHTML);exports.HTML=getInverse(inverseHTML,htmlReplacer);var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,re_xmlChars=getInverseReplacer(inverseXML);exports.escape=escapeXML},{"../maps/entities.json":182,"../maps/xml.json":184}],181:[function(require,module){module.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],182:[function(require,module){module.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",
rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},{}],183:[function(require,module){module.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},{}],184:[function(require,module){module.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],185:[function(require,module){"use strict";function getDecodeCache(exclude){var i,ch,cache=decodeCache[exclude];if(cache)return cache;for(cache=decodeCache[exclude]=[],i=0;128>i;i++)ch=String.fromCharCode(i),cache.push(ch);for(i=0;i<exclude.length;i++)ch=exclude.charCodeAt(i),cache[ch]="%"+("0"+ch.toString(16).toUpperCase()).slice(-2);return cache}function decode(string,exclude){var cache;return"string"!=typeof exclude&&(exclude=decode.defaultChars),cache=getDecodeCache(exclude),string.replace(/(%[a-f0-9]{2})+/gi,function(seq){var i,l,b1,b2,b3,b4,chr,result="";for(i=0,l=seq.length;l>i;i+=3)b1=parseInt(seq.slice(i+1,i+3),16),128>b1?result+=cache[b1]:192===(224&b1)&&l>i+3&&(b2=parseInt(seq.slice(i+4,i+6),16),128===(192&b2))?(chr=b1<<6&1984|63&b2,result+=128>chr?"":String.fromCharCode(chr),i+=3):224===(240&b1)&&l>i+6&&(b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),128===(192&b2)&&128===(192&b3))?(chr=b1<<12&61440|b2<<6&4032|63&b3,result+=2048>chr||chr>=55296&&57343>=chr?"":String.fromCharCode(chr),i+=6):240===(248&b1)&&l>i+9&&(b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),b4=parseInt(seq.slice(i+10,i+12),16),128===(192&b2)&&128===(192&b3)&&128===(192&b4))?(chr=b1<<18&1835008|b2<<12&258048|b3<<6&4032|63&b4,65536>chr||chr>1114111?result+="":(chr-=65536,result+=String.fromCharCode(55296+(chr>>10),56320+(1023&chr))),i+=9):result+="";return result})}var decodeCache={};decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",module.exports=decode},{}],186:[function(require,module){"use strict";function getEncodeCache(exclude){var i,ch,cache=encodeCache[exclude];if(cache)return cache;for(cache=encodeCache[exclude]=[],i=0;128>i;i++)ch=String.fromCharCode(i),cache.push(/^[0-9a-z]$/i.test(ch)?ch:"%"+("0"+i.toString(16).toUpperCase()).slice(-2));for(i=0;i<exclude.length;i++)cache[exclude.charCodeAt(i)]=exclude[i];return cache}function encode(string,exclude,keepEscaped){var i,l,code,nextCode,cache,result="";for("string"!=typeof exclude&&(keepEscaped=exclude,exclude=encode.defaultChars),"undefined"==typeof keepEscaped&&(keepEscaped=!0),cache=getEncodeCache(exclude),i=0,l=string.length;l>i;i++)if(code=string.charCodeAt(i),keepEscaped&&37===code&&l>i+2&&/^[0-9a-f]{2}$/i.test(string.slice(i+1,i+3)))result+=string.slice(i,i+3),i+=2;else if(128>code)result+=cache[code];else if(code>=55296&&57343>=code){if(code>=55296&&56319>=code&&l>i+1&&(nextCode=string.charCodeAt(i+1),nextCode>=56320&&57343>=nextCode)){result+=encodeURIComponent(string[i]+string[i+1]),i++;continue}result+="%EF%BF%BD"}else result+=encodeURIComponent(string[i]);return result}var encodeCache={};encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",module.exports=encode},{}],187:[function(){String.prototype.repeat||!function(){"use strict";var defineProperty=function(){try{var object={},$defineProperty=Object.defineProperty,result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}(),repeat=function(count){if(null==this)throw TypeError();var string=String(this),n=count?Number(count):0;if(n!=n&&(n=0),0>n||n==1/0)throw RangeError();for(var result="";n;)n%2==1&&(result+=string),n>1&&(string+=string),n>>=1;return result};defineProperty?defineProperty(String.prototype,"repeat",{value:repeat,configurable:!0,writable:!0}):String.prototype.repeat=repeat}()},{}],188:[function(require,module){"use strict";var React=require("react"),Parser=require("commonmark").Parser,ReactRenderer=require("commonmark-react-renderer"),parser=new Parser,propTypes=React.PropTypes,ReactMarkdown=React.createClass({displayName:"ReactMarkdown",propTypes:{className:propTypes.string,source:propTypes.string.isRequired,containerTagName:propTypes.string,sourcePos:propTypes.bool,escapeHtml:propTypes.bool,skipHtml:propTypes.bool,softBreak:propTypes.string,allowNode:propTypes.func,allowedTypes:propTypes.array,disallowedTypes:propTypes.array},getDefaultProps:function(){return{containerTagName:"div"}},render:function(){var containerProps={},renderer=new ReactRenderer(this.props),ast=parser.parse(this.props.source||"");return this.props.className&&(containerProps.className=this.props.className),React.createElement.apply(React,[this.props.containerTagName,containerProps].concat(renderer.render(ast)))}});module.exports=ReactMarkdown},{commonmark:172,"commonmark-react-renderer":167,react:369}],189:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function configAnimation(){function loop(){var currentTime=now(),frameTime=currentTime-prevTime;prevTime=currentTime,accumulatedTime+=frameTime*timeScale,accumulatedTime>timeStep*maxSteps&&(accumulatedTime=0);for(var frameNumber=Math.ceil(accumulatedTime/timeStep),i=0;i<animRunning.length;i++){var _animRunning$i=animRunning[i],active=_animRunning$i.active,animationStep=_animRunning$i.animationStep,prevPrevState=_animRunning$i.prevState,prevNextState=animRunning[i].nextState;if(active)if(0>=accumulatedTime)animRunning[i].nextState=animationStep(timeStep/1e3,prevPrevState);else for(var j=0;frameNumber>j;j++){animRunning[i].nextState=animationStep(timeStep/1e3,prevNextState);var _ref=[prevNextState,animRunning[i].nextState];animRunning[i].prevState=_ref[0],prevNextState=_ref[1]}}accumulatedTime-=frameNumber*timeStep;for(var alpha=1+accumulatedTime/timeStep,i=0;i<animRunning.length;i++){var _animRunning$i2=animRunning[i],animationRender=_animRunning$i2.animationRender,nextState=_animRunning$i2.nextState,prevState=_animRunning$i2.prevState;animationRender(alpha,nextState,prevState)}animRunning=animRunning.filter(function(_ref2){var active=_ref2.active;return active}),0===animRunning.length?running=!1:raf(loop)}function start(){running||(running=!0,prevTime=now(),accumulatedTime=0,raf(loop))}var config=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_config$timeStep=config.timeStep,timeStep=void 0===_config$timeStep?1/60*1e3:_config$timeStep,_config$timeScale=config.timeScale,timeScale=void 0===_config$timeScale?1:_config$timeScale,_config$maxSteps=config.maxSteps,maxSteps=void 0===_config$maxSteps?10:_config$maxSteps,_config$raf=config.raf,raf=void 0===_config$raf?_raf2.default:_config$raf,_config$now=config.now,now=void 0===_config$now?_performanceNow2.default:_config$now,animRunning=[],running=!1,prevTime=0,accumulatedTime=0;return function(state,animationStep,animationRender){for(var i=0;i<animRunning.length;i++){var val=animRunning[i];if(val.animationStep===animationStep)return val.active=!0,val.prevState=state,start(),val.stop}var newAnim={animationStep:animationStep,animationRender:animationRender,prevState:state,nextState:state,active:!0};return newAnim.stop=function(){return newAnim.active=!1},animRunning.push(newAnim),start(),newAnim.stop}}exports.__esModule=!0,exports.default=configAnimation;var _performanceNow=require("performance-now"),_performanceNow2=_interopRequireDefault(_performanceNow),_raf=require("raf"),_raf2=_interopRequireDefault(_raf);module.exports=exports.default},{"performance-now":203,raf:204}],190:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mapObject(f,obj){var ret={};for(var key in obj)obj.hasOwnProperty(key)&&(ret[key]=f(obj[key],key));return ret}function everyObj(f,obj){for(var key in obj)if(obj.hasOwnProperty(key)&&!f(obj[key],key))return!1;return!0}function components(React){var PropTypes=React.PropTypes,Motion=React.createClass({displayName:"Motion",propTypes:{defaultValue:function(prop,propName){return prop[propName]?new Error("Spring's `defaultValue` has been changed to `defaultStyle`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(prop,propName){return prop[propName]?new Error("Spring's `endValue` has been changed to `style`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:PropTypes.object,style:PropTypes.object.isRequired,children:PropTypes.func.isRequired},getInitialState:function(){var _props=this.props,defaultStyle=_props.defaultStyle,style=_props.style,currentStyle=defaultStyle||style;return{currentStyle:currentStyle,currentVelocity:mapObject(_zero2.default,currentStyle)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(timestep,state){var currentStyle=state.currentStyle,currentVelocity=state.currentVelocity,style=this.props.style,newCurrentStyle=_updateTree.updateCurrentStyle(timestep,currentStyle,currentVelocity,style),newCurrentVelocity=_updateTree.updateCurrentVelocity(timestep,currentStyle,currentVelocity,style);return _noVelocity2.default(currentVelocity,newCurrentStyle)&&_noVelocity2.default(newCurrentVelocity,newCurrentStyle)&&this.stopAnimation(),{currentStyle:newCurrentStyle,currentVelocity:newCurrentVelocity}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=startAnimation(this.state,this.animationStep,this.animationRender)},animationRender:function(alpha,nextState,prevState){this.hasUnmounted||this.setState({currentStyle:_updateTree.interpolateValue(alpha,nextState.currentStyle,prevState.currentStyle),currentVelocity:nextState.currentVelocity})},render:function(){var strippedStyle=_stripStyle2.default(this.state.currentStyle),renderedChildren=this.props.children(strippedStyle);return renderedChildren&&React.Children.only(renderedChildren)}}),StaggeredMotion=React.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyle:function(prop,propName){return prop[propName]?new Error('You forgot the "s" for `StaggeredMotion`\'s `defaultStyles`.'):void 0},style:function(prop,propName){return prop[propName]?new Error('You forgot the "s" for `StaggeredMotion`\'s `styles`.'):void 0},defaultStyles:PropTypes.arrayOf(PropTypes.object),styles:PropTypes.func.isRequired,children:PropTypes.func.isRequired},getInitialState:function(){var _props2=this.props,styles=_props2.styles,defaultStyles=_props2.defaultStyles,currentStyles=defaultStyles?defaultStyles:styles();return{currentStyles:currentStyles,currentVelocities:currentStyles.map(function(s){return mapObject(_zero2.default,s)})}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(timestep,state){var currentStyles=state.currentStyles,currentVelocities=state.currentVelocities,styles=this.props.styles(currentStyles.map(_stripStyle2.default)),newCurrentStyles=currentStyles.map(function(currentStyle,i){return _updateTree.updateCurrentStyle(timestep,currentStyle,currentVelocities[i],styles[i])}),newCurrentVelocities=currentStyles.map(function(currentStyle,i){return _updateTree.updateCurrentVelocity(timestep,currentStyle,currentVelocities[i],styles[i])});return currentVelocities.every(function(v,k){return _noVelocity2.default(v,currentStyles[k])})&&newCurrentVelocities.every(function(v,k){return _noVelocity2.default(v,newCurrentStyles[k])})&&this.stopAnimation(),{currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=startAnimation(this.state,this.animationStep,this.animationRender)},animationRender:function(alpha,nextState,prevState){if(!this.hasUnmounted){var currentStyles=nextState.currentStyles.map(function(style,i){return _updateTree.interpolateValue(alpha,style,prevState.currentStyles[i])});this.setState({currentStyles:currentStyles,currentVelocities:nextState.currentVelocities})}},render:function(){var strippedStyle=this.state.currentStyles.map(_stripStyle2.default),renderedChildren=this.props.children(strippedStyle);return renderedChildren&&React.Children.only(renderedChildren)}}),TransitionMotion=React.createClass({displayName:"TransitionMotion",propTypes:{defaultValue:function(prop,propName){return prop[propName]?new Error("TransitionSpring's `defaultValue` has been changed to `defaultStyles`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(prop,propName){return prop[propName]?new Error("TransitionSpring's `endValue` has been changed to `styles`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:function(prop,propName){return prop[propName]?new Error('You forgot the "s" for `TransitionMotion`\'s `defaultStyles`.'):void 0},style:function(prop,propName){return prop[propName]?new Error('You forgot the "s" for `TransitionMotion`\'s `styles`.'):void 0},defaultStyles:PropTypes.objectOf(PropTypes.any),styles:PropTypes.oneOfType([PropTypes.func,PropTypes.objectOf(PropTypes.any.isRequired)]).isRequired,willLeave:PropTypes.oneOfType([PropTypes.func]),willEnter:PropTypes.oneOfType([PropTypes.func]),children:PropTypes.func.isRequired},getDefaultProps:function(){return{willEnter:function(key,value){return value},willLeave:function(){return null}}},getInitialState:function(){var _props3=this.props,styles=_props3.styles,defaultStyles=_props3.defaultStyles,currentStyles=void 0;return currentStyles=null==defaultStyles?"function"==typeof styles?styles():styles:defaultStyles,{currentStyles:currentStyles,currentVelocities:mapObject(function(s){return mapObject(_zero2.default,s)},currentStyles)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(timestep,state){var currentStyles=state.currentStyles,currentVelocities=state.currentVelocities,_props4=this.props,styles=_props4.styles,willEnter=_props4.willEnter,willLeave=_props4.willLeave;"function"==typeof styles&&(styles=styles(currentStyles));var mergedStyles=styles,hasNewKey=!1;mergedStyles=_mergeDiff2.default(currentStyles,styles,function(key){var res=willLeave(key,currentStyles[key],styles,currentStyles,currentVelocities);return null==res?null:_noVelocity2.default(currentVelocities[key],currentStyles[key])&&_hasReachedStyle2.default(currentStyles[key],res)?null:res}),Object.keys(mergedStyles).filter(function(key){return!currentStyles.hasOwnProperty(key)}).forEach(function(key){var _extends2,_extends3;hasNewKey=!0;var enterStyle=willEnter(key,mergedStyles[key],styles,currentStyles,currentVelocities);mergedStyles[key]=enterStyle,currentStyles=_extends({},currentStyles,(_extends2={},_extends2[key]=enterStyle,_extends2)),currentVelocities=_extends({},currentVelocities,(_extends3={},_extends3[key]=mapObject(_zero2.default,enterStyle),_extends3))});var newCurrentStyles=mapObject(function(mergedStyle,key){return _updateTree.updateCurrentStyle(timestep,currentStyles[key],currentVelocities[key],mergedStyle)},mergedStyles),newCurrentVelocities=mapObject(function(mergedStyle,key){return _updateTree.updateCurrentVelocity(timestep,currentStyles[key],currentVelocities[key],mergedStyle)},mergedStyles);return!hasNewKey&&everyObj(function(v,k){return _noVelocity2.default(v,currentStyles[k])},currentVelocities)&&everyObj(function(v,k){return _noVelocity2.default(v,newCurrentStyles[k])},newCurrentVelocities)&&this.stopAnimation(),{currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=startAnimation(this.state,this.animationStep,this.animationRender)},animationRender:function(alpha,nextState,prevState){if(!this.hasUnmounted){var currentStyles=mapObject(function(style,key){return _updateTree.interpolateValue(alpha,style,prevState.currentStyles[key])},nextState.currentStyles);this.setState({currentStyles:currentStyles,currentVelocities:nextState.currentVelocities})}},render:function(){var strippedStyle=mapObject(_stripStyle2.default,this.state.currentStyles),renderedChildren=this.props.children(strippedStyle);return renderedChildren&&React.Children.only(renderedChildren)}}),_deprecatedSprings=_deprecatedSprings3.default(React),Spring=_deprecatedSprings.Spring,TransitionSpring=_deprecatedSprings.TransitionSpring;return{Spring:Spring,TransitionSpring:TransitionSpring,Motion:Motion,StaggeredMotion:StaggeredMotion,TransitionMotion:TransitionMotion}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=components;var _noVelocity=require("./noVelocity"),_noVelocity2=_interopRequireDefault(_noVelocity),_hasReachedStyle=require("./hasReachedStyle"),_hasReachedStyle2=_interopRequireDefault(_hasReachedStyle),_mergeDiff=require("./mergeDiff"),_mergeDiff2=_interopRequireDefault(_mergeDiff),_animationLoop=require("./animationLoop"),_animationLoop2=_interopRequireDefault(_animationLoop),_zero=require("./zero"),_zero2=_interopRequireDefault(_zero),_updateTree=require("./updateTree"),_deprecatedSprings2=require("./deprecatedSprings"),_deprecatedSprings3=_interopRequireDefault(_deprecatedSprings2),_stripStyle=require("./stripStyle"),_stripStyle2=_interopRequireDefault(_stripStyle),startAnimation=_animationLoop2.default();module.exports=exports.default},{"./animationLoop":189,"./deprecatedSprings":191,"./hasReachedStyle":192,"./mergeDiff":193,"./noVelocity":194,"./stripStyle":200,"./updateTree":201,"./zero":202}],191:[function(require,module,exports){(function(process){"use strict";function deprecatedSprings(React){var Spring=React.createClass({displayName:"Spring",componentWillMount:function(){if("development"===process.env.NODE_ENV){var ownerName=this._reactInternalInstance._currentElement._owner&&this._reactInternalInstance._currentElement._owner.getName();hasWarnedForSpring[ownerName]||(hasWarnedForSpring[ownerName]=!0,console.error("Spring (used in %srender) has now been renamed to Motion. Please see the release note for the upgrade path. Thank you!",ownerName?ownerName+"'s ":"React."))}},render:function(){return null}}),TransitionSpring=React.createClass({displayName:"TransitionSpring",componentWillMount:function(){if("development"===process.env.NODE_ENV){var ownerName=this._reactInternalInstance._currentElement._owner&&this._reactInternalInstance._currentElement._owner.getName();hasWarnedForTransitionSpring[ownerName]||(hasWarnedForTransitionSpring[ownerName]=!0,console.error("TransitionSpring (used in %srender) has now been renamed to TransitionMotion. Please see the release note for the upgrade path. Thank you!",ownerName?ownerName+"'s ":"React."))}},render:function(){return null}});return{Spring:Spring,TransitionSpring:TransitionSpring}}exports.__esModule=!0,exports.default=deprecatedSprings;var hasWarnedForSpring={},hasWarnedForTransitionSpring={};module.exports=exports.default}).call(this,require("_process"))},{_process:44}],192:[function(require,module,exports){"use strict";function hasReachedStyle(currentStyle,style){for(var key in style)if(style.hasOwnProperty(key)){var currentValue=currentStyle[key],destValue=style[key];if(null!=destValue&&destValue.config){if(currentValue.config&&currentValue.val!==destValue.val)return!1;if(!currentValue.config&&currentValue!==destValue.val)return!1}}return!0}exports.__esModule=!0,exports.default=hasReachedStyle,module.exports=exports.default},{}],193:[function(require,module,exports){"use strict";function mergeDiffArr(_x,_x2,_x3,_x4,_x5,_x6,_x7){for(var _again=!0;_again;){var arrA=_x,arrB=_x2,collB=_x3,indexA=_x4,indexB=_x5,onRemove=_x6,accum=_x7;endA=endB=keyA=keyB=fill=fill=void 0,_again=!1;var endA=indexA===arrA.length,endB=indexB===arrB.length,keyA=arrA[indexA],keyB=arrB[indexB];if(endA&&endB)return null;if(endA)accum[keyB]=collB[keyB],_x=arrA,_x2=arrB,_x3=collB,_x4=indexA,_x5=indexB+1,_x6=onRemove,_x7=accum,_again=!0;else if(endB){var fill=onRemove(keyA);null!=fill&&(accum[keyA]=fill),_x=arrA,_x2=arrB,_x3=collB,_x4=indexA+1,_x5=indexB,_x6=onRemove,_x7=accum,_again=!0}else if(keyA!==keyB)if(collB.hasOwnProperty(keyA))_x=arrA,_x2=arrB,_x3=collB,_x4=indexA+1,_x5=indexB,_x6=onRemove,_x7=accum,_again=!0;else{var fill=onRemove(keyA);null!=fill&&(accum[keyA]=fill),_x=arrA,_x2=arrB,_x3=collB,_x4=indexA+1,_x5=indexB,_x6=onRemove,_x7=accum,_again=!0}else accum[keyA]=collB[keyA],_x=arrA,_x2=arrB,_x3=collB,_x4=indexA+1,_x5=indexB+1,_x6=onRemove,_x7=accum,_again=!0}}function mergeDiff(a,b,onRemove){var ret={};return mergeDiffArr(Object.keys(a),Object.keys(b),b,0,0,onRemove,ret),ret}exports.__esModule=!0,exports.default=mergeDiff,module.exports=exports.default},{}],194:[function(require,module,exports){"use strict";function noVelocity(currentVelocity,currentStyle){for(var key in currentVelocity)if(currentVelocity.hasOwnProperty(key)&&null!=currentStyle[key]&&currentStyle[key].config&&0!==currentVelocity[key])return!1;return!0}exports.__esModule=!0,exports.default=noVelocity,module.exports=exports.default},{}],195:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default={noWobble:[170,26],gentle:[120,14],wobbly:[180,12],stiff:[210,20]},module.exports=exports.default},{}],196:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _react=require("react"),_react2=_interopRequireDefault(_react),_components2=require("./components"),_components3=_interopRequireDefault(_components2),_reorderKeys=require("./reorderKeys"),_reorderKeys2=_interopRequireDefault(_reorderKeys),_components=_components3.default(_react2.default),Spring=_components.Spring,TransitionSpring=_components.TransitionSpring,Motion=_components.Motion,StaggeredMotion=_components.StaggeredMotion,TransitionMotion=_components.TransitionMotion;exports.Spring=Spring,exports.TransitionSpring=TransitionSpring,exports.Motion=Motion,exports.StaggeredMotion=StaggeredMotion,exports.TransitionMotion=TransitionMotion;var _spring2=require("./spring"),_spring3=_interopRequireDefault(_spring2);exports.spring=_spring3.default;var _presets2=require("./presets"),_presets3=_interopRequireDefault(_presets2);exports.presets=_presets3.default;var utils={reorderKeys:_reorderKeys2.default};exports.utils=utils},{"./components":190,"./presets":195,"./reorderKeys":197,"./spring":198,react:369}],197:[function(require,module,exports){"use strict";function reorderKeys(obj,f){for(var newKeys=f(Object.keys(obj)),ret={},i=0;i<newKeys.length;i++){var key=newKeys[i];ret[key]=obj[key]}return ret}exports.__esModule=!0,exports.default=reorderKeys,module.exports=exports.default},{}],198:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function spring(val){var config=arguments.length<=1||void 0===arguments[1]?_presets2.default.noWobble:arguments[1];return{val:val,config:config}}exports.__esModule=!0,exports.default=spring;var _presets=require("./presets"),_presets2=_interopRequireDefault(_presets);module.exports=exports.default},{"./presets":195}],199:[function(require,module,exports){"use strict";function stepper(frameRate,x,v,destX,k,b){var Fspring=-k*(x-destX),Fdamper=-b*v,a=Fspring+Fdamper,newV=v+a*frameRate,newX=x+newV*frameRate;return Math.abs(newV-v)<errorMargin&&Math.abs(newX-x)<errorMargin?[destX,0]:[newX,newV]}exports.__esModule=!0,exports.default=stepper;var errorMargin=1e-4;module.exports=exports.default},{}],200:[function(require,module,exports){"use strict";function stripStyle(style){var ret={};for(var key in style)style.hasOwnProperty(key)&&(ret[key]=null==style[key]||null==style[key].val?style[key]:style[key].val);return ret}exports.__esModule=!0,exports.default=stripStyle,module.exports=exports.default},{}],201:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function interpolateValue(alpha,nextStyle,prevStyle){if(!prevStyle)return nextStyle;var ret={};for(var key in nextStyle)if(nextStyle.hasOwnProperty(key))if(null!=nextStyle[key]&&nextStyle[key].config){var prevValue=prevStyle[key].config?prevStyle[key].val:prevStyle[key];ret[key]=_spring2.default(nextStyle[key].val*alpha+prevValue*(1-alpha),nextStyle[key].config)}else ret[key]=nextStyle[key];return ret}function updateCurrentStyle(frameRate,currentStyle,currentVelocity,style){var ret={};for(var key in style)if(style.hasOwnProperty(key))if(null!=style[key]&&style[key].config){var _style$key$config=style[key].config,k=_style$key$config[0],b=_style$key$config[1],val=_stepper2.default(frameRate,null==currentStyle[key].val?currentStyle[key]:currentStyle[key].val,currentVelocity[key],style[key].val,k,b)[0];ret[key]=_spring2.default(val,style[key].config)}else ret[key]=style[key];return ret}function updateCurrentVelocity(frameRate,currentStyle,currentVelocity,style){var ret={};for(var key in style)if(style.hasOwnProperty(key))if(null!=style[key]&&style[key].config){
var _style$key$config2=style[key].config,k=_style$key$config2[0],b=_style$key$config2[1],val=_stepper2.default(frameRate,null==currentStyle[key].val?currentStyle[key]:currentStyle[key].val,currentVelocity[key],style[key].val,k,b)[1];ret[key]=val}else ret[key]=0;return ret}exports.__esModule=!0,exports.interpolateValue=interpolateValue,exports.updateCurrentStyle=updateCurrentStyle,exports.updateCurrentVelocity=updateCurrentVelocity;var _stepper=require("./stepper"),_stepper2=_interopRequireDefault(_stepper),_spring=require("./spring"),_spring2=_interopRequireDefault(_spring)},{"./spring":198,"./stepper":199}],202:[function(require,module,exports){"use strict";function zero(){return 0}exports.__esModule=!0,exports.default=zero,module.exports=exports.default},{}],203:[function(require,module){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},loadTime=getNanoSeconds()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)}).call(this,require("_process"))},{_process:44}],204:[function(require,module){for(var now=require("performance-now"),global="undefined"==typeof window?{}:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=global["request"+suffix],caf=global["cancel"+suffix]||global["cancelRequest"+suffix],i=0;i<vendors.length&&!raf;i++)raf=global[vendors[i]+"Request"+suffix],caf=global[vendors[i]+"Cancel"+suffix]||global[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}}module.exports=function(fn){return raf.call(global,fn)},module.exports.cancel=function(){caf.apply(global,arguments)}},{"performance-now":203}],205:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function warnAboutReceivingStore(){didWarnAboutReceivingStore||(didWarnAboutReceivingStore=!0,console.error("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/rackt/react-redux/releases/tag/v2.0.0 for the migration instructions."))}exports.__esModule=!0;var _react=require("react"),_utilsStoreShape=require("../utils/storeShape"),_utilsStoreShape2=_interopRequireDefault(_utilsStoreShape),didWarnAboutReceivingStore=!1,Provider=function(_Component){function Provider(props,context){_classCallCheck(this,Provider),_Component.call(this,props,context),this.store=props.store}return _inherits(Provider,_Component),Provider.prototype.getChildContext=function(){return{store:this.store}},Provider.prototype.componentWillReceiveProps=function(nextProps){var store=this.store,nextStore=nextProps.store;store!==nextStore&&warnAboutReceivingStore()},Provider.prototype.render=function(){var children=this.props.children;return _react.Children.only(children)},Provider}(_react.Component);exports.default=Provider,Provider.propTypes={store:_utilsStoreShape2.default.isRequired,children:_react.PropTypes.element.isRequired},Provider.childContextTypes={store:_utilsStoreShape2.default.isRequired},module.exports=exports.default},{"../utils/storeShape":210,react:369}],206:[function(require,module,exports){(function(process){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||"Component"}function connect(mapStateToProps,mapDispatchToProps,mergeProps){function computeStateProps(store,props){var state=store.getState(),stateProps=shouldUpdateStateProps?finalMapStateToProps(state,props):finalMapStateToProps(state);return _invariant2.default(_utilsIsPlainObject2.default(stateProps),"`mapStateToProps` must return an object. Instead received %s.",stateProps),stateProps}function computeDispatchProps(store,props){var dispatch=store.dispatch,dispatchProps=shouldUpdateDispatchProps?finalMapDispatchToProps(dispatch,props):finalMapDispatchToProps(dispatch);return _invariant2.default(_utilsIsPlainObject2.default(dispatchProps),"`mapDispatchToProps` must return an object. Instead received %s.",dispatchProps),dispatchProps}function _computeNextState(stateProps,dispatchProps,parentProps){var mergedProps=finalMergeProps(stateProps,dispatchProps,parentProps);return _invariant2.default(_utilsIsPlainObject2.default(mergedProps),"`mergeProps` must return an object. Instead received %s.",mergedProps),mergedProps}var options=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],shouldSubscribe=Boolean(mapStateToProps),finalMapStateToProps=mapStateToProps||defaultMapStateToProps,finalMapDispatchToProps=_utilsIsPlainObject2.default(mapDispatchToProps)?_utilsWrapActionCreators2.default(mapDispatchToProps):mapDispatchToProps||defaultMapDispatchToProps,finalMergeProps=mergeProps||defaultMergeProps,shouldUpdateStateProps=finalMapStateToProps.length>1,shouldUpdateDispatchProps=finalMapDispatchToProps.length>1,_options$pure=options.pure,pure=void 0===_options$pure?!0:_options$pure,_options$withRef=options.withRef,withRef=void 0===_options$withRef?!1:_options$withRef,version=nextVersion++;return function(WrappedComponent){var Connect=function(_Component){function Connect(props,context){_classCallCheck(this,Connect),_Component.call(this,props,context),this.version=version,this.store=props.store||context.store,_invariant2.default(this.store,'Could not find "store" in either the context or '+('props of "'+this.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+this.constructor.displayName+'".')),this.stateProps=computeStateProps(this.store,props),this.dispatchProps=computeDispatchProps(this.store,props),this.state={storeState:null},this.updateState()}return _inherits(Connect,_Component),Connect.prototype.shouldComponentUpdate=function(nextProps,nextState){if(!pure)return this.updateStateProps(nextProps),this.updateDispatchProps(nextProps),this.updateState(nextProps),!0;var storeChanged=nextState.storeState!==this.state.storeState,propsChanged=!_utilsShallowEqual2.default(nextProps,this.props),mapStateProducedChange=!1,dispatchPropsChanged=!1;return(storeChanged||propsChanged&&shouldUpdateStateProps)&&(mapStateProducedChange=this.updateStateProps(nextProps)),propsChanged&&shouldUpdateDispatchProps&&(dispatchPropsChanged=this.updateDispatchProps(nextProps)),propsChanged||mapStateProducedChange||dispatchPropsChanged?(this.updateState(nextProps),!0):!1},Connect.prototype.computeNextState=function(){var props=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return _computeNextState(this.stateProps,this.dispatchProps,props)},Connect.prototype.updateStateProps=function(){var props=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],nextStateProps=computeStateProps(this.store,props);return _utilsShallowEqual2.default(nextStateProps,this.stateProps)?!1:(this.stateProps=nextStateProps,!0)},Connect.prototype.updateDispatchProps=function(){var props=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],nextDispatchProps=computeDispatchProps(this.store,props);return _utilsShallowEqual2.default(nextDispatchProps,this.dispatchProps)?!1:(this.dispatchProps=nextDispatchProps,!0)},Connect.prototype.updateState=function(){var props=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];this.nextState=this.computeNextState(props)},Connect.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},Connect.prototype.trySubscribe=function(){shouldSubscribe&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},Connect.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},Connect.prototype.componentDidMount=function(){this.trySubscribe()},Connect.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},Connect.prototype.handleChange=function(){this.unsubscribe&&this.setState({storeState:this.store.getState()})},Connect.prototype.getWrappedInstance=function(){return _invariant2.default(withRef,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},Connect.prototype.render=function(){var ref=withRef?"wrappedInstance":null;return _react2.default.createElement(WrappedComponent,_extends({},this.nextState,{ref:ref}))},Connect}(_react.Component);return Connect.displayName="Connect("+getDisplayName(WrappedComponent)+")",Connect.WrappedComponent=WrappedComponent,Connect.contextTypes={store:_utilsStoreShape2.default},Connect.propTypes={store:_utilsStoreShape2.default},"production"!==process.env.NODE_ENV&&(Connect.prototype.componentWillUpdate=function(){this.version!==version&&(this.version=version,this.trySubscribe(),this.updateStateProps(),this.updateDispatchProps(),this.updateState())}),_hoistNonReactStatics2.default(Connect,WrappedComponent)}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=connect;var _react=require("react"),_react2=_interopRequireDefault(_react),_utilsStoreShape=require("../utils/storeShape"),_utilsStoreShape2=_interopRequireDefault(_utilsStoreShape),_utilsShallowEqual=require("../utils/shallowEqual"),_utilsShallowEqual2=_interopRequireDefault(_utilsShallowEqual),_utilsIsPlainObject=require("../utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),_utilsWrapActionCreators=require("../utils/wrapActionCreators"),_utilsWrapActionCreators2=_interopRequireDefault(_utilsWrapActionCreators),_hoistNonReactStatics=require("hoist-non-react-statics"),_hoistNonReactStatics2=_interopRequireDefault(_hoistNonReactStatics),_invariant=require("invariant"),_invariant2=_interopRequireDefault(_invariant),defaultMapStateToProps=function(){return{}},defaultMapDispatchToProps=function(dispatch){return{dispatch:dispatch}},defaultMergeProps=function(stateProps,dispatchProps,parentProps){return _extends({},parentProps,stateProps,dispatchProps)},nextVersion=0;module.exports=exports.default}).call(this,require("_process"))},{"../utils/isPlainObject":208,"../utils/shallowEqual":209,"../utils/storeShape":210,"../utils/wrapActionCreators":211,_process:44,"hoist-non-react-statics":212,invariant:213,react:369}],207:[function(require,module,exports){"use strict";function _interopRequire(obj){return obj&&obj.__esModule?obj.default:obj}exports.__esModule=!0;var _componentsProvider=require("./components/Provider");exports.Provider=_interopRequire(_componentsProvider);var _componentsConnect=require("./components/connect");exports.connect=_interopRequire(_componentsConnect)},{"./components/Provider":205,"./components/connect":206}],208:[function(require,module,exports){"use strict";function isPlainObject(obj){if(!obj||"object"!=typeof obj)return!1;var proto="function"==typeof obj.constructor?Object.getPrototypeOf(obj):Object.prototype;if(null===proto)return!0;var constructor=proto.constructor;return"function"==typeof constructor&&constructor instanceof constructor&&fnToString(constructor)===fnToString(Object)}exports.__esModule=!0,exports.default=isPlainObject;var fnToString=function(fn){return Function.prototype.toString.call(fn)};module.exports=exports.default},{}],209:[function(require,module,exports){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,i=0;i<keysA.length;i++)if(!hasOwn.call(objB,keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}exports.__esModule=!0,exports.default=shallowEqual,module.exports=exports.default},{}],210:[function(require,module,exports){"use strict";exports.__esModule=!0;var _react=require("react");exports.default=_react.PropTypes.shape({subscribe:_react.PropTypes.func.isRequired,dispatch:_react.PropTypes.func.isRequired,getState:_react.PropTypes.func.isRequired}),module.exports=exports.default},{react:369}],211:[function(require,module,exports){"use strict";function wrapActionCreators(actionCreators){return function(dispatch){return _redux.bindActionCreators(actionCreators,dispatch)}}exports.__esModule=!0,exports.default=wrapActionCreators;var _redux=require("redux");module.exports=exports.default},{redux:371}],212:[function(require,module){"use strict";var REACT_STATICS={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};module.exports=function(targetComponent,sourceComponent){for(var keys=Object.getOwnPropertyNames(sourceComponent),i=0;i<keys.length;++i)REACT_STATICS[keys[i]]||KNOWN_STATICS[keys[i]]||(targetComponent[keys[i]]=sourceComponent[keys[i]]);return targetComponent}},{}],213:[function(require,module){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}};module.exports=invariant},{}],214:[function(require,module){"use strict";var ReactMount=require("./ReactMount"),findDOMNode=require("./findDOMNode"),focusNode=require("fbjs/lib/focusNode"),Mixin={componentDidMount:function(){this.props.autoFocus&&focusNode(findDOMNode(this))}},AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID))}};module.exports=AutoFocusUtils},{"./ReactMount":278,"./findDOMNode":321,"fbjs/lib/focusNode":351}],215:[function(require,module){"use strict";function isPresto(){var opera=window.opera;return"object"==typeof opera&&"function"==typeof opera.version&&parseInt(opera.version(),10)<=12}function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return-1!==END_KEYCODES.indexOf(nativeEvent.keyCode);case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;return"object"==typeof detail&&"data"in detail?detail.data:null}function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType,fallbackData;if(canUseCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackCompositionEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackCompositionStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart),!eventType)return null;useFallbackCompositionData&&(currentComposition||eventType!==eventTypes.compositionStart?eventType===eventTypes.compositionEnd&&currentComposition&&(fallbackData=currentComposition.getData()):currentComposition=FallbackCompositionState.getPooled(topLevelTarget));var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData)event.data=fallbackData;else{var customData=getDataFromCustomEvent(nativeEvent);null!==customData&&(event.data=customData)}return EventPropagators.accumulateTwoPhaseDispatches(event),event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;return which!==SPACEBAR_CODE?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case topLevelTypes.topTextInput:var chars=nativeEvent.data;return chars===SPACEBAR_CHAR&&hasSpaceKeypress?null:chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:return nativeEvent.which&&!isKeypressCommand(nativeEvent)?String.fromCharCode(nativeEvent.which):null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;if(chars=canUseTextInputEvent?getNativeBeforeInputChars(topLevelType,nativeEvent):getFallbackBeforeInputChars(topLevelType,nativeEvent),!chars)return null;var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);return event.data=chars,EventPropagators.accumulateTwoPhaseDispatches(event),event}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),FallbackCompositionState=require("./FallbackCompositionState"),SyntheticCompositionEvent=require("./SyntheticCompositionEvent"),SyntheticInputEvent=require("./SyntheticInputEvent"),keyOf=require("fbjs/lib/keyOf"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&11>=documentMode),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)]}};module.exports=BeforeInputEventPlugin},{"./EventConstants":227,"./EventPropagators":231,"./FallbackCompositionState":232,"./SyntheticCompositionEvent":303,"./SyntheticInputEvent":307,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/keyOf":361}],216:[function(require,module){"use strict";function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var isUnitlessNumber={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],217:[function(require,module){"use strict";var CSSProperty=require("./CSSProperty"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactPerf=require("./ReactPerf"),dangerousStyleValue=(require("fbjs/lib/camelizeStyleName"),require("./dangerousStyleValue")),hyphenateStyleName=require("fbjs/lib/hyphenateStyleName"),memoizeStringOnly=require("fbjs/lib/memoizeStringOnly"),processStyleName=(require("fbjs/lib/warning"),memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)})),hasShorthandPropertyBug=!1,styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=!0}void 0===document.documentElement.style.cssFloat&&(styleFloatAccessor="styleFloat")}var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=styles[styleName];null!=styleValue&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue)+";")}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=dangerousStyleValue(styleName,styles[styleName]);if("float"===styleName&&(styleName=styleFloatAccessor),styleValue)style[styleName]=styleValue;else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]=""}}}};ReactPerf.measureMethods(CSSPropertyOperations,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),module.exports=CSSPropertyOperations},{"./CSSProperty":216,"./ReactPerf":284,"./dangerousStyleValue":318,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/camelizeStyleName":345,"fbjs/lib/hyphenateStyleName":356,"fbjs/lib/memoizeStringOnly":363,"fbjs/lib/warning":368}],218:[function(require,module){"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant");assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(callback),this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks,contexts=this._contexts;if(callbacks){callbacks.length!==contexts.length?invariant(!1):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<callbacks.length;i++)callbacks[i].call(contexts[i]);callbacks.length=0,contexts.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue},{"./Object.assign":235,"./PooledClass":236,"fbjs/lib/invariant":357}],219:[function(require,module){"use strict";function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return"select"===nodeName||"input"===nodeName&&"file"===elem.type}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue(!1)}function startWatchingForChangeEventIE8(target,targetID){activeElement=target,activeElementID=targetID,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null)}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topChange?topLevelTargetID:void 0}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetID){activeElement=target,activeElementID=targetID,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName){var value=nativeEvent.srcElement.value;value!==activeElementValue&&(activeElementValue=value,manualDispatchChangeEvent(nativeEvent))}}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topInput?topLevelTargetID:void 0}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(topLevelType){return topLevelType!==topLevelTypes.topSelectionChange&&topLevelType!==topLevelTypes.topKeyUp&&topLevelType!==topLevelTypes.topKeyDown||!activeElement||activeElement.value===activeElementValue?void 0:(activeElementValue=activeElement.value,activeElementID)}function shouldUseClickEvent(elem){return elem.nodeName&&"input"===elem.nodeName.toLowerCase()&&("checkbox"===elem.type||"radio"===elem.type)}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topClick?topLevelTargetID:void 0}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactUpdates=require("./ReactUpdates"),SyntheticEvent=require("./SyntheticEvent"),getEventTarget=require("./getEventTarget"),isEventSupported=require("./isEventSupported"),isTextInputElement=require("./isTextInputElement"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)?doesChangeEventBubble?getTargetIDFunc=getTargetIDForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(topLevelTarget)?isInputEventSupported?getTargetIDFunc=getTargetIDForInputEvent:(getTargetIDFunc=getTargetIDForInputEventIE,
handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(topLevelTarget)&&(getTargetIDFunc=getTargetIDForClickEvent),getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);return event.type="change",EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}};module.exports=ChangeEventPlugin},{"./EventConstants":227,"./EventPluginHub":228,"./EventPropagators":231,"./ReactUpdates":296,"./SyntheticEvent":305,"./getEventTarget":327,"./isEventSupported":332,"./isTextInputElement":333,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/keyOf":361}],220:[function(require,module){"use strict";var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],221:[function(require,module){"use strict";function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild)}var Danger=require("./Danger"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),ReactPerf=require("./ReactPerf"),setInnerHTML=require("./setInnerHTML"),setTextContent=require("./setTextContent"),invariant=require("fbjs/lib/invariant"),DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){for(var update,initialChildren=null,updatedChildren=null,i=0;i<updates.length;i++)if(update=updates[i],update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex,updatedChild=update.parentNode.childNodes[updatedIndex],parentID=update.parentID;updatedChild?void 0:invariant(!1),initialChildren=initialChildren||{},initialChildren[parentID]=initialChildren[parentID]||[],initialChildren[parentID][updatedIndex]=updatedChild,updatedChildren=updatedChildren||[],updatedChildren.push(updatedChild)}var renderedMarkup;if(renderedMarkup=markupList.length&&"string"==typeof markupList[0]?Danger.dangerouslyRenderMarkup(markupList):markupList,updatedChildren)for(var j=0;j<updatedChildren.length;j++)updatedChildren[j].parentNode.removeChild(updatedChildren[j]);for(var k=0;k<updates.length;k++)switch(update=updates[k],update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}};ReactPerf.measureMethods(DOMChildrenOperations,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),module.exports=DOMChildrenOperations},{"./Danger":224,"./ReactMultiChildUpdateTypes":280,"./ReactPerf":284,"./setInnerHTML":337,"./setTextContent":338,"fbjs/lib/invariant":357}],222:[function(require,module){"use strict";function checkMask(value,bitmask){return(value&bitmask)===bitmask}var invariant=require("fbjs/lib/invariant"),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection,Properties=domPropertyConfig.Properties||{},DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){DOMProperty.properties.hasOwnProperty(propName)?invariant(!1):void 0;var lowerCased=propName.toLowerCase(),propConfig=Properties[propName],propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};if(propertyInfo.mustUseAttribute&&propertyInfo.mustUseProperty?invariant(!1):void 0,!propertyInfo.mustUseProperty&&propertyInfo.hasSideEffects?invariant(!1):void 0,propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1?void 0:invariant(!1),DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName}DOMAttributeNamespaces.hasOwnProperty(propName)&&(propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]),DOMPropertyNames.hasOwnProperty(propName)&&(propertyInfo.propertyName=DOMPropertyNames[propName]),DOMMutationMethods.hasOwnProperty(propName)&&(propertyInfo.mutationMethod=DOMMutationMethods[propName]),DOMProperty.properties[propName]=propertyInfo}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},getDefaultValueForProperty:function(nodeName,prop){var testElement,nodeDefaults=defaultValueCache[nodeName];return nodeDefaults||(defaultValueCache[nodeName]=nodeDefaults={}),prop in nodeDefaults||(testElement=document.createElement(nodeName),nodeDefaults[prop]=testElement[prop]),nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{"fbjs/lib/invariant":357}],223:[function(require,module){"use strict";function isAttributeNameSafe(attributeName){return validatedAttributeNameCache.hasOwnProperty(attributeName)?!0:illegalAttributeNameCache.hasOwnProperty(attributeName)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?(validatedAttributeNameCache[attributeName]=!0,!0):(illegalAttributeNameCache[attributeName]=!0,!1)}function shouldIgnoreValue(propertyInfo,value){return null==value||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&1>value||propertyInfo.hasOverloadedBooleanValue&&value===!1}var DOMProperty=require("./DOMProperty"),ReactPerf=require("./ReactPerf"),quoteAttributeValueForBrowser=require("./quoteAttributeValueForBrowser"),VALID_ATTRIBUTE_NAME_REGEX=(require("fbjs/lib/warning"),/^[a-zA-Z_][\w\.\-]*$/),illegalAttributeNameCache={},validatedAttributeNameCache={},DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value))return"";var attributeName=propertyInfo.attributeName;return propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?attributeName+'=""':attributeName+"="+quoteAttributeValueForBrowser(value)}return DOMProperty.isCustomAttribute(name)?null==value?"":name+"="+quoteAttributeValueForBrowser(value):null},createMarkupForCustomAttribute:function(name,value){return isAttributeNameSafe(name)&&null!=value?name+"="+quoteAttributeValueForBrowser(value):""},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,value);else if(shouldIgnoreValue(propertyInfo,value))this.deleteValueForProperty(node,name);else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName,namespace=propertyInfo.attributeNamespace;namespace?node.setAttributeNS(namespace,attributeName,""+value):propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?node.setAttribute(attributeName,""):node.setAttribute(attributeName,""+value)}else{var propName=propertyInfo.propertyName;propertyInfo.hasSideEffects&&""+node[propName]==""+value||(node[propName]=value)}}else DOMProperty.isCustomAttribute(name)&&DOMPropertyOperations.setValueForAttribute(node,name,value)},setValueForAttribute:function(node,name,value){isAttributeNameSafe(name)&&(null==value?node.removeAttribute(name):node.setAttribute(name,""+value))},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,void 0);else if(propertyInfo.mustUseAttribute)node.removeAttribute(propertyInfo.attributeName);else{var propName=propertyInfo.propertyName,defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);propertyInfo.hasSideEffects&&""+node[propName]===defaultValue||(node[propName]=defaultValue)}}else DOMProperty.isCustomAttribute(name)&&node.removeAttribute(name)}};ReactPerf.measureMethods(DOMPropertyOperations,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),module.exports=DOMPropertyOperations},{"./DOMProperty":222,"./ReactPerf":284,"./quoteAttributeValueForBrowser":335,"fbjs/lib/warning":368}],224:[function(require,module){"use strict";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),createNodesFromMarkup=require("fbjs/lib/createNodesFromMarkup"),emptyFunction=require("fbjs/lib/emptyFunction"),getMarkupWrap=require("fbjs/lib/getMarkupWrap"),invariant=require("fbjs/lib/invariant"),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(markupList){ExecutionEnvironment.canUseDOM?void 0:invariant(!1);for(var nodeName,markupByNodeName={},i=0;i<markupList.length;i++)markupList[i]?void 0:invariant(!1),nodeName=getNodeName(markupList[i]),nodeName=getMarkupWrap(nodeName)?nodeName:"*",markupByNodeName[nodeName]=markupByNodeName[nodeName]||[],markupByNodeName[nodeName][i]=markupList[i];var resultList=[],resultListAssignmentCount=0;for(nodeName in markupByNodeName)if(markupByNodeName.hasOwnProperty(nodeName)){var resultIndex,markupListByNodeName=markupByNodeName[nodeName];for(resultIndex in markupListByNodeName)if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}for(var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction),j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)&&(resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR),renderNode.removeAttribute(RESULT_INDEX_ATTR),resultList.hasOwnProperty(resultIndex)?invariant(!1):void 0,resultList[resultIndex]=renderNode,resultListAssignmentCount+=1)}}return resultListAssignmentCount!==resultList.length?invariant(!1):void 0,resultList.length!==markupList.length?invariant(!1):void 0,resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){ExecutionEnvironment.canUseDOM?void 0:invariant(!1),markup?void 0:invariant(!1),"html"===oldChild.tagName.toLowerCase()?invariant(!1):void 0;var newChild;newChild="string"==typeof markup?createNodesFromMarkup(markup,emptyFunction)[0]:markup,oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/createNodesFromMarkup":348,"fbjs/lib/emptyFunction":349,"fbjs/lib/getMarkupWrap":353,"fbjs/lib/invariant":357}],225:[function(require,module){"use strict";var keyOf=require("fbjs/lib/keyOf"),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"fbjs/lib/keyOf":361}],226:[function(require,module){"use strict";var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),ReactMount=require("./ReactMount"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(topLevelTarget.window===topLevelTarget)win=topLevelTarget;else{var doc=topLevelTarget.ownerDocument;win=doc?doc.defaultView||doc.parentWindow:window}var from,to,fromID="",toID="";if(topLevelType===topLevelTypes.topMouseOut?(from=topLevelTarget,fromID=topLevelTargetID,to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement),to?toID=ReactMount.getID(to):to=win,to=to||win):(from=win,to=topLevelTarget,toID=topLevelTargetID),from===to)return null;var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type="mouseleave",leave.target=from,leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);return enter.type="mouseenter",enter.target=to,enter.relatedTarget=from,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID),extractedEvents[0]=leave,extractedEvents[1]=enter,extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":227,"./EventPropagators":231,"./ReactMount":278,"./SyntheticMouseEvent":309,"fbjs/lib/keyOf":361}],227:[function(require,module){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"fbjs/lib/keyMirror":360}],228:[function(require,module){"use strict";var EventPluginRegistry=require("./EventPluginRegistry"),EventPluginUtils=require("./EventPluginUtils"),ReactErrorUtils=require("./ReactErrorUtils"),accumulateInto=require("./accumulateInto"),forEachAccumulated=require("./forEachAccumulated"),invariant=require("fbjs/lib/invariant"),listenerBank=(require("fbjs/lib/warning"),{}),eventQueue=null,executeDispatchesAndRelease=function(event,simulated){event&&(EventPluginUtils.executeDispatchesInOrder(event,simulated),event.isPersistent()||event.constructor.release(event))},executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,!0)},executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,!1)},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle},getInstanceHandle:function(){return InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){"function"!=typeof listener?invariant(!1):void 0;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.didPutListener&&PluginModule.didPutListener(id,registrationName,listener)},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName);var bankForRegistrationName=listenerBank[registrationName];bankForRegistrationName&&delete bankForRegistrationName[id]},deleteAllListeners:function(id){for(var registrationName in listenerBank)if(listenerBank[registrationName][id]){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName),delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){for(var events,plugins=EventPluginRegistry.plugins,i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);extractedEvents&&(events=accumulateInto(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulateInto(eventQueue,events))},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null,simulated?forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated):forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel),eventQueue?invariant(!1):void 0,ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub},{"./EventPluginRegistry":229,"./EventPluginUtils":230,"./ReactErrorUtils":269,"./accumulateInto":315,"./forEachAccumulated":323,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],229:[function(require,module){"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);if(pluginIndex>-1?void 0:invariant(!1),!EventPluginRegistry.plugins[pluginIndex]){PluginModule.extractEvents?void 0:invariant(!1),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?void 0:invariant(!1)}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?invariant(!1):void 0,EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return dispatchConfig.registrationName?(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0):!1}function publishRegistrationName(registrationName,PluginModule,eventName){EventPluginRegistry.registrationNameModules[registrationName]?invariant(!1):void 0,EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var invariant=require("fbjs/lib/invariant"),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){EventPluginOrder?invariant(!1):void 0,EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins)if(injectedNamesToPlugins.hasOwnProperty(pluginName)){var PluginModule=injectedNamesToPlugins[pluginName];namesToPlugins.hasOwnProperty(pluginName)&&namesToPlugins[pluginName]===PluginModule||(namesToPlugins[pluginName]?invariant(!1):void 0,namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0)}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames)if(dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};module.exports=EventPluginRegistry},{"fbjs/lib/invariant":357}],230:[function(require,module){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function executeDispatch(event,simulated,listener,domID){var type=event.type||"unknown-event";event.currentTarget=injection.Mount.getNode(domID),simulated?ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID):ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID),event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i]);else dispatchListeners&&executeDispatch(event,simulated,dispatchListeners,dispatchIDs);event._dispatchListeners=null,event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)if(dispatchListeners[i](event,dispatchIDs[i]))return dispatchIDs[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchIDs))return dispatchIDs;return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);return event._dispatchIDs=null,event._dispatchListeners=null,ret}function executeDirectDispatch(event){var dispatchListener=event._dispatchListeners,dispatchID=event._dispatchIDs;Array.isArray(dispatchListener)?invariant(!1):void 0;var res=dispatchListener?dispatchListener(event,dispatchID):null;return event._dispatchListeners=null,event._dispatchIDs=null,res}function hasDispatches(event){return!!event._dispatchListeners}var EventConstants=require("./EventConstants"),ReactErrorUtils=require("./ReactErrorUtils"),invariant=require("fbjs/lib/invariant"),injection=(require("fbjs/lib/warning"),{Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount}}),topLevelTypes=EventConstants.topLevelTypes,EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id)},getID:function(node){return injection.Mount.getID(node)},injection:injection};module.exports=EventPluginUtils},{"./EventConstants":227,"./ReactErrorUtils":269,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],231:[function(require,module){"use strict";function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(domID,event,phase);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,domID))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(id,registrationName);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,id))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event.dispatchMarker,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),accumulateInto=(require("fbjs/lib/warning"),require("./accumulateInto")),forEachAccumulated=require("./forEachAccumulated"),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators},{"./EventConstants":227,"./EventPluginHub":228,"./accumulateInto":315,"./forEachAccumulated":323,"fbjs/lib/warning":368}],232:[function(require,module){"use strict";function FallbackCompositionState(root){this._root=root,this._startText=this.getText(),this._fallbackText=null}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),getTextContentAccessor=require("./getTextContentAccessor");assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var start,end,startValue=this._startText,startLength=startValue.length,endValue=this.getText(),endLength=endValue.length;for(start=0;startLength>start&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;minEnd>=end&&startValue[startLength-end]===endValue[endLength-end];end++);var sliceTail=end>1?1-end:void 0;return this._fallbackText=endValue.slice(start,sliceTail),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState},{"./Object.assign":235,"./PooledClass":236,"./getTextContentAccessor":330}],233:[function(require,module){"use strict";var hasSVG,DOMProperty=require("./DOMProperty"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,
autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,default:HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,integrity:null,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,kind:null,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,nonce:MUST_USE_ATTRIBUTE,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcLang:null,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,typeof:MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig},{"./DOMProperty":222,"fbjs/lib/ExecutionEnvironment":343}],234:[function(require,module){"use strict";function _assertSingleLink(inputProps){null!=inputProps.checkedLink&&null!=inputProps.valueLink?invariant(!1):void 0}function _assertValueLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.value||null!=inputProps.onChange?invariant(!1):void 0}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.checked||null!=inputProps.onChange?invariant(!1):void 0}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}var ReactPropTypes=require("./ReactPropTypes"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),invariant=require("fbjs/lib/invariant"),hasReadOnlyValue=(require("fbjs/lib/warning"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),propTypes={value:function(props,propName){return!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(props,propName){return!props[propName]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func},loggedTypeFailures={},LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName))var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;{getDeclarationErrorAddendum(owner)}}}},getValue:function(inputProps){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.value):inputProps.value},getChecked:function(inputProps){return inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.value):inputProps.checked},executeOnChange:function(inputProps,event){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.requestChange(event.target.value)):inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.requestChange(event.target.checked)):inputProps.onChange?inputProps.onChange.call(void 0,event):void 0}};module.exports=LinkedValueUtils},{"./ReactPropTypeLocations":286,"./ReactPropTypes":287,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],235:[function(require,module){"use strict";function assign(target){if(null==target)throw new TypeError("Object.assign target cannot be null or undefined");for(var to=Object(target),hasOwnProperty=Object.prototype.hasOwnProperty,nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(null!=nextSource){var from=Object(nextSource);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key])}}return to}module.exports=assign},{}],236:[function(require,module){"use strict";var invariant=require("fbjs/lib/invariant"),oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)},twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4),instance}return new Klass(a1,a2,a3,a4)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;instance instanceof Klass?void 0:invariant(!1),instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{"fbjs/lib/invariant":357}],237:[function(require,module){"use strict";var ReactDOM=require("./ReactDOM"),ReactDOMServer=require("./ReactDOMServer"),ReactIsomorphic=require("./ReactIsomorphic"),assign=require("./Object.assign"),deprecated=require("./deprecated"),React={};assign(React,ReactIsomorphic),assign(React,{findDOMNode:deprecated("findDOMNode","ReactDOM","react-dom",ReactDOM,ReactDOM.findDOMNode),render:deprecated("render","ReactDOM","react-dom",ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated("unmountComponentAtNode","ReactDOM","react-dom",ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated("renderToString","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated("renderToStaticMarkup","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToStaticMarkup)}),React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM,React.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOMServer,module.exports=React},{"./Object.assign":235,"./ReactDOM":248,"./ReactDOMServer":258,"./ReactIsomorphic":276,"./deprecated":319}],238:[function(require,module){"use strict";var findDOMNode=(require("./ReactInstanceMap"),require("./findDOMNode")),didWarnKey=(require("fbjs/lib/warning"),"_getDOMNodeDidWarn"),ReactBrowserComponentMixin={getDOMNode:function(){return this.constructor[didWarnKey]=!0,findDOMNode(this)}};module.exports=ReactBrowserComponentMixin},{"./ReactInstanceMap":275,"./findDOMNode":321,"fbjs/lib/warning":368}],239:[function(require,module){"use strict";function getListeningForDocument(mountAt){return Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)||(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPluginRegistry=require("./EventPluginRegistry"),ReactEventEmitterMixin=require("./ReactEventEmitterMixin"),ReactPerf=require("./ReactPerf"),ViewportMetrics=require("./ViewportMetrics"),assign=require("./Object.assign"),isEventSupported=require("./isEventSupported"),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)},isEnabled:function(){return!(!ReactBrowserEventEmitter.ReactEventListener||!ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){for(var mountAt=contentDocumentHandle,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes,i=0;i<dependencies.length;i++){var dependency=dependencies[i];isListening.hasOwnProperty(dependency)&&isListening[dependency]||(dependency===topLevelTypes.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):dependency===topLevelTypes.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping.hasOwnProperty(dependency)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt),isListening[dependency]=!0)}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),module.exports=ReactBrowserEventEmitter},{"./EventConstants":227,"./EventPluginHub":228,"./EventPluginRegistry":229,"./Object.assign":235,"./ReactEventEmitterMixin":270,"./ReactPerf":284,"./ViewportMetrics":314,"./isEventSupported":332}],240:[function(require,module){"use strict";function instantiateChild(childInstances,child,name){var keyUnique=void 0===childInstances[name];null!=child&&keyUnique&&(childInstances[name]=instantiateReactComponent(child,null))}var ReactReconciler=require("./ReactReconciler"),instantiateReactComponent=require("./instantiateReactComponent"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),traverseAllChildren=require("./traverseAllChildren"),ReactChildReconciler=(require("fbjs/lib/warning"),{instantiateChildren:function(nestedChildNodes){if(null==nestedChildNodes)return null;var childInstances={};return traverseAllChildren(nestedChildNodes,instantiateChild,childInstances),childInstances},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren)return null;var name;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],prevElement=prevChild&&prevChild._currentElement,nextElement=nextChildren[name];if(null!=prevChild&&shouldUpdateReactComponent(prevElement,nextElement))ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context),nextChildren[name]=prevChild;else{prevChild&&ReactReconciler.unmountComponent(prevChild,name);var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance}}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||ReactReconciler.unmountComponent(prevChildren[name]);return nextChildren},unmountChildren:function(renderedChildren){for(var name in renderedChildren)if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild)}}});module.exports=ReactChildReconciler},{"./ReactReconciler":289,"./instantiateReactComponent":331,"./shouldUpdateReactComponent":339,"./traverseAllChildren":340,"fbjs/lib/warning":368}],241:[function(require,module){"use strict";function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"//")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction,this.context=forEachContext,this.count=0}function forEachSingleChild(bookKeeping,child){var func=bookKeeping.func,context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(null==children)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult,this.keyPrefix=keyPrefix,this.func=mapFunction,this.context=mapContext,this.count=0}function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result,keyPrefix=bookKeeping.keyPrefix,func=bookKeeping.func,context=bookKeeping.context,mappedChild=func.call(context,child,bookKeeping.count++);Array.isArray(mappedChild)?mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument):null!=mappedChild&&(ReactElement.isValidElement(mappedChild)&&(mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||"")+"/":"")+childKey)),result.push(mappedChild))}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";null!=prefix&&(escapedPrefix=escapeUserProvidedKey(prefix)+"/");var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(null==children)return children;var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,func,context),result}function forEachSingleChildDummy(){return null}function countChildren(children){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument),result}var PooledClass=require("./PooledClass"),ReactElement=require("./ReactElement"),emptyFunction=require("fbjs/lib/emptyFunction"),traverseAllChildren=require("./traverseAllChildren"),twoArgumentPooler=PooledClass.twoArgumentPooler,fourArgumentPooler=PooledClass.fourArgumentPooler,userProvidedKeyEscapeRegex=/\/(?!\/)/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren},{"./PooledClass":236,"./ReactElement":265,"./traverseAllChildren":340,"fbjs/lib/emptyFunction":349}],242:[function(require,module){"use strict";function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.OVERRIDE_BASE?invariant(!1):void 0),proto.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.DEFINE_MANY&&specPolicy!==SpecPolicy.DEFINE_MANY_MERGED?invariant(!1):void 0)}function mixSpecIntoComponent(Constructor,spec){if(spec){"function"==typeof spec?invariant(!1):void 0,ReactElement.isValidElement(spec)?invariant(!1):void 0;var proto=Constructor.prototype;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name];if(validateMethodOverride(proto,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isAlreadyDefined=proto.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)proto.__reactAutoBindMap||(proto.__reactAutoBindMap={}),proto.__reactAutoBindMap[name]=property,proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!isReactClassMethod||specPolicy!==SpecPolicy.DEFINE_MANY_MERGED&&specPolicy!==SpecPolicy.DEFINE_MANY?invariant(!1):void 0,specPolicy===SpecPolicy.DEFINE_MANY_MERGED?proto[name]=createMergedResultFunction(proto[name],property):specPolicy===SpecPolicy.DEFINE_MANY&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;isReserved?invariant(!1):void 0;var isInherited=name in Constructor;isInherited?invariant(!1):void 0,Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){one&&two&&"object"==typeof one&&"object"==typeof two?void 0:invariant(!1);for(var key in two)two.hasOwnProperty(key)&&(void 0!==one[key]?invariant(!1):void 0,one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);return boundMethod}function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap)if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method)}}var ReactComponent=require("./ReactComponent"),ReactElement=require("./ReactElement"),ReactNoopUpdateQueue=(require("./ReactPropTypeLocations"),require("./ReactPropTypeLocationNames"),require("./ReactNoopUpdateQueue")),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),invariant=require("fbjs/lib/invariant"),keyMirror=require("fbjs/lib/keyMirror"),keyOf=require("fbjs/lib/keyOf"),MIXINS_KEY=(require("fbjs/lib/warning"),keyOf({mixins:null})),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps=Constructor.getDefaultProps?createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState),callback&&this.updater.enqueueCallback(this,callback)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(partialProps,callback){this.updater.enqueueSetProps(this,partialProps),callback&&this.updater.enqueueCallback(this,callback)},replaceProps:function(newProps,callback){this.updater.enqueueReplaceProps(this,newProps),callback&&this.updater.enqueueCallback(this,callback)}},ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){this.__reactAutoBindMap&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;"object"!=typeof initialState||Array.isArray(initialState)?invariant(!1):void 0,this.state=initialState};Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,spec),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),Constructor.prototype.render?void 0:invariant(!1);for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass},{"./Object.assign":235,"./ReactComponent":243,"./ReactElement":265,"./ReactNoopUpdateQueue":282,"./ReactPropTypeLocationNames":285,"./ReactPropTypeLocations":286,"fbjs/lib/emptyObject":350,"fbjs/lib/invariant":357,"fbjs/lib/keyMirror":360,"fbjs/lib/keyOf":361,"fbjs/lib/warning":368}],243:[function(require,module){"use strict";function ReactComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}{var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue"),emptyObject=(require("./canDefineProperty"),require("fbjs/lib/emptyObject")),invariant=require("fbjs/lib/invariant");require("fbjs/lib/warning")}ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(partialState,callback){"object"!=typeof partialState&&"function"!=typeof partialState&&null!=partialState?invariant(!1):void 0,this.updater.enqueueSetState(this,partialState),callback&&this.updater.enqueueCallback(this,callback)},ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this),callback&&this.updater.enqueueCallback(this,callback)};module.exports=ReactComponent},{"./ReactNoopUpdateQueue":282,"./canDefineProperty":317,"fbjs/lib/emptyObject":350,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],244:[function(require,module){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactMount=require("./ReactMount"),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)}};module.exports=ReactComponentBrowserEnvironment},{"./ReactDOMIDOperations":253,"./ReactMount":278}],245:[function(require,module){"use strict";var invariant=require("fbjs/lib/invariant"),injected=!1,ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){injected?invariant(!1):void 0,ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment,ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID,ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates,injected=!0}}};module.exports=ReactComponentEnvironment},{"fbjs/lib/invariant":357}],246:[function(require,module){"use strict";function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function StatelessComponent(){}{var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactElement=require("./ReactElement"),ReactInstanceMap=require("./ReactInstanceMap"),ReactPerf=require("./ReactPerf"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactReconciler=(require("./ReactPropTypeLocationNames"),require("./ReactReconciler")),ReactUpdateQueue=require("./ReactUpdateQueue"),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),invariant=require("fbjs/lib/invariant"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent");require("fbjs/lib/warning")}StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater)};var nextMountID=1,ReactCompositeComponentMixin={construct:function(element){this._currentElement=element,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null;

},mountComponent:function(rootID,transaction,context){this._context=context,this._mountOrder=nextMountID++,this._rootNodeID=rootID;var inst,renderedElement,publicProps=this._processProps(this._currentElement.props),publicContext=this._processContext(context),Component=this._currentElement.type,canInstantiate="prototype"in Component;canInstantiate&&(inst=new Component(publicProps,publicContext,ReactUpdateQueue)),(!canInstantiate||null===inst||inst===!1||ReactElement.isValidElement(inst))&&(renderedElement=inst,inst=new StatelessComponent(Component)),inst.props=publicProps,inst.context=publicContext,inst.refs=emptyObject,inst.updater=ReactUpdateQueue,this._instance=inst,ReactInstanceMap.set(inst,this);var initialState=inst.state;void 0===initialState&&(inst.state=initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?invariant(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,inst.componentWillMount&&(inst.componentWillMount(),this._pendingStateQueue&&(inst.state=this._processPendingState(inst.props,inst.context))),void 0===renderedElement&&(renderedElement=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));return inst.componentDidMount&&transaction.getReactMountReady().enqueue(inst.componentDidMount,inst),markup},unmountComponent:function(){var inst=this._instance;inst.componentWillUnmount&&inst.componentWillUnmount(),ReactReconciler.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,ReactInstanceMap.remove(inst)},_maskContext:function(context){var maskedContext=null,Component=this._currentElement.type,contextTypes=Component.contextTypes;if(!contextTypes)return emptyObject;maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type,inst=this._instance,childContext=inst.getChildContext&&inst.getChildContext();if(childContext){"object"!=typeof Component.childContextTypes?invariant(!1):void 0;for(var name in childContext)name in Component.childContextTypes?void 0:invariant(!1);return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){return newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?invariant(!1):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error){{getDeclarationErrorAddendum(this)}location===ReactPropTypeLocations.prop}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement,prevContext=this._context;this._pendingElement=null,this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){null!=this._pendingElement&&ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var nextProps,inst=this._instance,nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext);prevParentElement===nextParentElement?nextProps=nextParentElement.props:(nextProps=this._processProps(nextParentElement.props),inst.componentWillReceiveProps&&inst.componentWillReceiveProps(nextProps,nextContext));var nextState=this._processPendingState(nextProps,nextContext),shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);shouldUpdate?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)):(this._currentElement=nextParentElement,this._context=nextUnmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext)},_processPendingState:function(props,context){var inst=this._instance,queue=this._pendingStateQueue,replace=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!queue)return inst.state;if(replace&&1===queue.length)return queue[0];for(var nextState=assign({},replace?queue[0]:inst.state),i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,"function"==typeof partial?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var prevProps,prevState,prevContext,inst=this._instance,hasComponentDidUpdate=Boolean(inst.componentDidUpdate);hasComponentDidUpdate&&(prevProps=inst.props,prevState=inst.state,prevContext=inst.context),inst.componentWillUpdate&&inst.componentWillUpdate(nextProps,nextState,nextContext),this._currentElement=nextElement,this._context=unmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext,this._updateRenderedComponent(transaction,unmaskedContext),hasComponentDidUpdate&&transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent,prevRenderedElement=prevComponentInstance._currentElement,nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement))ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));else{var thisID=this._rootNodeID,prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance),this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup)}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance,renderedComponent=inst.render();return renderedComponent},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}return null===renderedComponent||renderedComponent===!1||ReactElement.isValidElement(renderedComponent)?void 0:invariant(!1),renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();null==inst?invariant(!1):void 0;var publicComponentInstance=component.getPublicInstance(),refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type,constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;return inst instanceof StatelessComponent?null:inst},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent},{"./Object.assign":235,"./ReactComponentEnvironment":245,"./ReactCurrentOwner":247,"./ReactElement":265,"./ReactInstanceMap":275,"./ReactPerf":284,"./ReactPropTypeLocationNames":285,"./ReactPropTypeLocations":286,"./ReactReconciler":289,"./ReactUpdateQueue":295,"./shouldUpdateReactComponent":339,"fbjs/lib/emptyObject":350,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],247:[function(require,module){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],248:[function(require,module){"use strict";{var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactDefaultInjection=require("./ReactDefaultInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),ReactUpdates=require("./ReactUpdates"),ReactVersion=require("./ReactVersion"),findDOMNode=require("./findDOMNode"),renderSubtreeIntoContainer=require("./renderSubtreeIntoContainer");require("fbjs/lib/warning")}ReactDefaultInjection.inject();var render=ReactPerf.measure("React","render",ReactMount.render),React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent});module.exports=React},{"./ReactCurrentOwner":247,"./ReactDOMTextComponent":259,"./ReactDefaultInjection":262,"./ReactInstanceHandles":274,"./ReactMount":278,"./ReactPerf":284,"./ReactReconciler":289,"./ReactUpdates":296,"./ReactVersion":297,"./findDOMNode":321,"./renderSubtreeIntoContainer":336,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/warning":368}],249:[function(require,module){"use strict";var mouseListenerNames={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},ReactDOMButton={getNativeProps:function(inst,props){if(!props.disabled)return props;var nativeProps={};for(var key in props)props.hasOwnProperty(key)&&!mouseListenerNames[key]&&(nativeProps[key]=props[key]);return nativeProps}};module.exports=ReactDOMButton},{}],250:[function(require,module){"use strict";function legacyGetDOMNode(){return this}function legacyIsMounted(){var component=this._reactInternalComponent;return!!component}function legacySetStateEtc(){}function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;component&&(ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;component&&(ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function assertValidProps(component,props){props&&(null!=props.dangerouslySetInnerHTML&&(null!=props.children?invariant(!1):void 0,"object"==typeof props.dangerouslySetInnerHTML&&HTML in props.dangerouslySetInnerHTML?void 0:invariant(!1)),null!=props.style&&"object"!=typeof props.style?invariant(!1):void 0)}function enqueuePutListener(id,registrationName,listener,transaction){var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener)}function trapBubbledEventsLocal(){var inst=this;inst._rootNodeID?void 0:invariant(!1);var node=ReactMount.getNode(inst._rootNodeID);switch(node?void 0:invariant(!1),inst._tag){case"iframe":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents)mediaEvents.hasOwnProperty(event)&&inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)]}}function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this)}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}function validateDangerousTag(tag){hasOwnProperty.call(validatedTagCache,tag)||(VALID_TAG_REGEX.test(tag)?void 0:invariant(!1),validatedTagCache[tag]=!0)}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||null!=props.is}function ReactDOMComponent(tag){validateDangerousTag(tag),this._tag=tag.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var AutoFocusUtils=require("./AutoFocusUtils"),CSSPropertyOperations=require("./CSSPropertyOperations"),DOMProperty=require("./DOMProperty"),DOMPropertyOperations=require("./DOMPropertyOperations"),EventConstants=require("./EventConstants"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDOMButton=require("./ReactDOMButton"),ReactDOMInput=require("./ReactDOMInput"),ReactDOMOption=require("./ReactDOMOption"),ReactDOMSelect=require("./ReactDOMSelect"),ReactDOMTextarea=require("./ReactDOMTextarea"),ReactMount=require("./ReactMount"),ReactMultiChild=require("./ReactMultiChild"),ReactPerf=require("./ReactPerf"),ReactUpdateQueue=require("./ReactUpdateQueue"),assign=require("./Object.assign"),canDefineProperty=require("./canDefineProperty"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),invariant=require("fbjs/lib/invariant"),keyOf=(require("./isEventSupported"),require("fbjs/lib/keyOf")),setInnerHTML=require("./setInnerHTML"),setTextContent=require("./setTextContent"),deleteListener=(require("fbjs/lib/shallowEqual"),require("./validateDOMNesting"),require("fbjs/lib/warning"),ReactBrowserEventEmitter.deleteListener),listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=ReactBrowserEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},CHILDREN=keyOf({children:null}),STYLE=keyOf({style:null}),HTML=keyOf({__html:null}),ELEMENT_NODE_TYPE=1,mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},newlineEatingTags={listing:!0,pre:!0,textarea:!0},VALID_TAG_REGEX=(assign({menuitem:!0},omittedCloseTags),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),validatedTagCache={},hasOwnProperty={}.hasOwnProperty;ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getNativeProps(this,props,context);break;case"input":ReactDOMInput.mountWrapper(this,props,context),props=ReactDOMInput.getNativeProps(this,props,context);break;case"option":ReactDOMOption.mountWrapper(this,props,context),props=ReactDOMOption.getNativeProps(this,props,context);break;case"select":ReactDOMSelect.mountWrapper(this,props,context),props=ReactDOMSelect.getNativeProps(this,props,context),context=ReactDOMSelect.processChildContext(this,props,context);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,context),props=ReactDOMTextarea.getNativeProps(this,props,context)}assertValidProps(this,props);var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID),ReactMount.getID(el),this._updateDOMProperties({},props,transaction,el),this._createInitialChildren(transaction,props,context,el),mountImage=el}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props),tagContent=this._createContentMarkup(transaction,props,context);mountImage=!tagContent&&omittedCloseTags[this._tag]?tagOpen+"/>":tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case"button":case"select":case"textarea":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)if(registrationNameModules.hasOwnProperty(propKey))propValue&&enqueuePutListener(this._rootNodeID,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&(propValue=this._previousStyleCopy=assign({},props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue));var markup=null;null!=this._tag&&isCustomComponent(this._tag,props)?propKey!==CHILDREN&&(markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)):markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue),markup&&(ret+=" "+markup)}}if(transaction.renderToStaticMarkup)return ret;var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID},_createContentMarkup:function(transaction,props,context){var ret="",innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&(ret=innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)ret=escapeTextContentForBrowser(contentToUse);else if(null!=childrenToUse){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}return newlineEatingTags[this._tag]&&"\n"===ret.charAt(0)?"\n"+ret:ret},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&setInnerHTML(el,innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)setTextContent(el,contentToUse);else if(null!=childrenToUse)for(var mountImages=this.mountChildren(childrenToUse,transaction,context),i=0;i<mountImages.length;i++)el.appendChild(mountImages[i])}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement,this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props,nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getNativeProps(this,lastProps),nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case"input":ReactDOMInput.updateWrapper(this),lastProps=ReactDOMInput.getNativeProps(this,lastProps),nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getNativeProps(this,lastProps),nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getNativeProps(this,lastProps),nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case"textarea":ReactDOMTextarea.updateWrapper(this),lastProps=ReactDOMTextarea.getNativeProps(this,lastProps),nextProps=ReactDOMTextarea.getNativeProps(this,nextProps)}assertValidProps(this,nextProps),this._updateDOMProperties(lastProps,nextProps,transaction,null),this._updateDOMChildren(lastProps,nextProps,transaction,context),!canDefineProperty&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=nextProps),"select"===this._tag&&transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey,styleName,styleUpdates;for(propKey in lastProps)if(!nextProps.hasOwnProperty(propKey)&&lastProps.hasOwnProperty(propKey))if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");this._previousStyleCopy=null}else registrationNameModules.hasOwnProperty(propKey)?lastProps[propKey]&&deleteListener(this._rootNodeID,propKey):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),DOMPropertyOperations.deleteValueForProperty(node,propKey));for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp)if(propKey===STYLE)if(nextProp?nextProp=this._previousStyleCopy=assign({},nextProp):this._previousStyleCopy=null,lastProp){for(styleName in lastProp)!lastProp.hasOwnProperty(styleName)||nextProp&&nextProp.hasOwnProperty(styleName)||(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp;else registrationNameModules.hasOwnProperty(propKey)?nextProp?enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction):lastProp&&deleteListener(this._rootNodeID,propKey):isCustomComponent(this._tag,nextProps)?(node||(node=ReactMount.getNode(this._rootNodeID)),propKey===CHILDREN&&(nextProp=null),DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp)):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),null!=nextProp?DOMPropertyOperations.setValueForProperty(node,propKey,nextProp):DOMPropertyOperations.deleteValueForProperty(node,propKey))}styleUpdates&&(node||(node=ReactMount.getNode(this._rootNodeID)),CSSPropertyOperations.setValueForStyles(node,styleUpdates))},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=null!=lastContent?null:lastProps.children,nextChildren=null!=nextContent?null:nextProps.children,lastHasContentOrHtml=null!=lastContent||null!=lastHtml,nextHasContentOrHtml=null!=nextContent||null!=nextHtml;null!=lastChildren&&null==nextChildren?this.updateChildren(null,transaction,context):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),null!=nextContent?lastContent!==nextContent&&this.updateTextContent(""+nextContent):null!=nextHtml?lastHtml!==nextHtml&&this.updateMarkup(""+nextHtml):null!=nextChildren&&this.updateChildren(nextChildren,transaction,context)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var listeners=this._wrapperState.listeners;if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].remove();break;case"input":ReactDOMInput.unmountWrapper(this);break;case"html":case"head":case"body":invariant(!1)}if(this.unmountChildren(),ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this,node.getDOMNode=legacyGetDOMNode,node.isMounted=legacyIsMounted,node.setState=legacySetStateEtc,node.replaceState=legacySetStateEtc,node.forceUpdate=legacySetStateEtc,node.setProps=legacySetProps,node.replaceProps=legacyReplaceProps,node.props=this._currentElement.props,this._nodeWithLegacyProperties=node}return this._nodeWithLegacyProperties}},ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),module.exports=ReactDOMComponent},{"./AutoFocusUtils":214,"./CSSPropertyOperations":217,"./DOMProperty":222,"./DOMPropertyOperations":223,"./EventConstants":227,"./Object.assign":235,"./ReactBrowserEventEmitter":239,"./ReactComponentBrowserEnvironment":244,"./ReactDOMButton":249,"./ReactDOMInput":254,"./ReactDOMOption":255,"./ReactDOMSelect":256,"./ReactDOMTextarea":260,"./ReactMount":278,"./ReactMultiChild":279,"./ReactPerf":284,"./ReactUpdateQueue":295,"./canDefineProperty":317,"./escapeTextContentForBrowser":320,"./isEventSupported":332,"./setInnerHTML":337,"./setTextContent":338,"./validateDOMNesting":341,"fbjs/lib/invariant":357,"fbjs/lib/keyOf":361,"fbjs/lib/shallowEqual":366,"fbjs/lib/warning":368}],251:[function(require,module){"use strict";function createDOMFactory(tag){return ReactElement.createFactory(tag)}var ReactElement=require("./ReactElement"),mapObject=(require("./ReactElementValidator"),require("fbjs/lib/mapObject")),ReactDOMFactories=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOMFactories},{"./ReactElement":265,"./ReactElementValidator":266,"fbjs/lib/mapObject":362}],252:[function(require,module){"use strict";var ReactDOMFeatureFlags={useCreateElement:!1};module.exports=ReactDOMFeatureFlags},{}],253:[function(require,module){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),invariant=require("fbjs/lib/invariant"),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?invariant(!1):void 0,null!=value?DOMPropertyOperations.setValueForProperty(node,name,value):DOMPropertyOperations.deleteValueForProperty(node,name)},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++)updates[i].parentNode=ReactMount.getNode(updates[i].parentID);DOMChildrenOperations.processUpdates(updates,markup)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),module.exports=ReactDOMIDOperations},{"./DOMChildrenOperations":221,"./DOMPropertyOperations":223,"./ReactMount":278,"./ReactPerf":284,"fbjs/lib/invariant":357}],254:[function(require,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMInput.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if("radio"===props.type&&null!=name){for(var rootNode=ReactMount.getNode(this._rootNodeID),queryRoot=rootNode;queryRoot.parentNode;)queryRoot=queryRoot.parentNode;for(var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]'),i=0;i<group.length;i++){var otherNode=group[i];if(otherNode!==rootNode&&otherNode.form===rootNode.form){var otherID=ReactMount.getID(otherNode);otherID?void 0:invariant(!1);var otherInstance=instancesByReactID[otherID];otherInstance?void 0:invariant(!1),ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}}return returnValue}var ReactDOMIDOperations=require("./ReactDOMIDOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),instancesByReactID={},ReactDOMInput={
getNativeProps:function(inst,props){var value=LinkedValueUtils.getValue(props),checked=LinkedValueUtils.getChecked(props),nativeProps=assign({},props,{defaultChecked:void 0,defaultValue:void 0,value:null!=value?value:inst._wrapperState.initialValue,checked:null!=checked?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||!1,initialValue:null!=defaultValue?defaultValue:null,onChange:_handleChange.bind(inst)}},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID]},updateWrapper:function(inst){var props=inst._currentElement.props,checked=props.checked;null!=checked&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"checked",checked||!1);var value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMInput},{"./LinkedValueUtils":234,"./Object.assign":235,"./ReactDOMIDOperations":253,"./ReactMount":278,"./ReactUpdates":296,"fbjs/lib/invariant":357}],255:[function(require,module){"use strict";var ReactChildren=require("./ReactChildren"),ReactDOMSelect=require("./ReactDOMSelect"),assign=require("./Object.assign"),valueContextKey=(require("fbjs/lib/warning"),ReactDOMSelect.valueContextKey),ReactDOMOption={mountWrapper:function(inst,props,context){var selectValue=context[valueContextKey],selected=null;if(null!=selectValue)if(selected=!1,Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++)if(""+selectValue[i]==""+props.value){selected=!0;break}}else selected=""+selectValue==""+props.value;inst._wrapperState={selected:selected}},getNativeProps:function(inst,props){var nativeProps=assign({selected:void 0,children:void 0},props);null!=inst._wrapperState.selected&&(nativeProps.selected=inst._wrapperState.selected);var content="";return ReactChildren.forEach(props.children,function(child){null!=child&&("string"==typeof child||"number"==typeof child)&&(content+=child)}),nativeProps.children=content,nativeProps}};module.exports=ReactDOMOption},{"./Object.assign":235,"./ReactChildren":241,"./ReactDOMSelect":256,"fbjs/lib/warning":368}],256:[function(require,module){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var props=this._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&updateOptions(this,props,value)}}function updateOptions(inst,multiple,propValue){var selectedValue,i,options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){for(selectedValue={},i=0;i<propValue.length;i++)selectedValue[""+propValue[i]]=!0;for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);options[i].selected!==selected&&(options[i].selected=selected)}}else{for(selectedValue=""+propValue,i=0;i<options.length;i++)if(options[i].value===selectedValue)return void(options[i].selected=!0);options.length&&(options[0].selected=!0)}}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return this._wrapperState.pendingUpdate=!0,ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),returnValue}var LinkedValueUtils=require("./LinkedValueUtils"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),valueContextKey=(require("fbjs/lib/warning"),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props){return assign({},props,{onChange:inst._wrapperState.onChange,value:void 0})},mountWrapper:function(inst,props){var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:!1,initialValue:null!=value?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)}},processChildContext:function(inst,props,context){var childContext=assign({},context);return childContext[valueContextKey]=inst._wrapperState.initialValue,childContext},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=void 0;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);null!=value?(inst._wrapperState.pendingUpdate=!1,updateOptions(inst,Boolean(props.multiple),value)):wasMultiple!==Boolean(props.multiple)&&(null!=props.defaultValue?updateOptions(inst,Boolean(props.multiple),props.defaultValue):updateOptions(inst,Boolean(props.multiple),props.multiple?[]:""))}};module.exports=ReactDOMSelect},{"./LinkedValueUtils":234,"./Object.assign":235,"./ReactMount":278,"./ReactUpdates":296,"fbjs/lib/warning":368}],257:[function(require,module){"use strict";function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||0===selection.rangeCount)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType,currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset),rangeLength=isSelectionCollapsed?0:currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset),start=isTempRangeCollapsed?0:tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var start,end,range=document.selection.createRange().duplicate();"undefined"==typeof offsets.end?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){if(window.getSelection){var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end="undefined"==typeof offsets.end?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),getNodeForCharacterOffset=require("./getNodeForCharacterOffset"),getTextContentAccessor=require("./getTextContentAccessor"),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":329,"./getTextContentAccessor":330,"fbjs/lib/ExecutionEnvironment":343}],258:[function(require,module){"use strict";var ReactDefaultInjection=require("./ReactDefaultInjection"),ReactServerRendering=require("./ReactServerRendering"),ReactVersion=require("./ReactVersion");ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};module.exports=ReactDOMServer},{"./ReactDefaultInjection":262,"./ReactServerRendering":293,"./ReactVersion":297}],259:[function(require,module){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactMount=require("./ReactMount"),assign=require("./Object.assign"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),setTextContent=require("./setTextContent"),ReactDOMTextComponent=(require("./validateDOMNesting"),function(){});assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text,this._stringText=""+text,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(rootID,transaction,context){if(this._rootNodeID=rootID,transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement("span");return DOMPropertyOperations.setAttributeForID(el,rootID),ReactMount.getID(el),setTextContent(el,this._stringText),el}var escapedText=escapeTextContentForBrowser(this._stringText);return transaction.renderToStaticMarkup?escapedText:"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextText){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText)}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}}),module.exports=ReactDOMTextComponent},{"./DOMChildrenOperations":221,"./DOMPropertyOperations":223,"./Object.assign":235,"./ReactComponentBrowserEnvironment":244,"./ReactMount":278,"./escapeTextContentForBrowser":320,"./setTextContent":338,"./validateDOMNesting":341}],260:[function(require,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMTextarea.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return ReactUpdates.asap(forceUpdateIfMounted,this),returnValue}var LinkedValueUtils=require("./LinkedValueUtils"),ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),ReactDOMTextarea=(require("fbjs/lib/warning"),{getNativeProps:function(inst,props){null!=props.dangerouslySetInnerHTML?invariant(!1):void 0;var nativeProps=assign({},props,{defaultValue:void 0,value:void 0,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){var defaultValue=props.defaultValue,children=props.children;null!=children&&(null!=defaultValue?invariant(!1):void 0,Array.isArray(children)&&(children.length<=1?void 0:invariant(!1),children=children[0]),defaultValue=""+children),null==defaultValue&&(defaultValue="");var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:""+(null!=value?value:defaultValue),onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}});module.exports=ReactDOMTextarea},{"./LinkedValueUtils":234,"./Object.assign":235,"./ReactDOMIDOperations":253,"./ReactUpdates":296,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],261:[function(require,module){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var ReactUpdates=require("./ReactUpdates"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(a,b,c,d,e):transaction.perform(callback,null,a,b,c,d,e)}};module.exports=ReactDefaultBatchingStrategy},{"./Object.assign":235,"./ReactUpdates":296,"./Transaction":313,"fbjs/lib/emptyFunction":349}],262:[function(require,module){"use strict";function inject(){if(!alreadyInjected){alreadyInjected=!0,ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.Class.injectMixin(ReactBrowserComponentMixin),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponent("noscript"),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment)}}var BeforeInputEventPlugin=require("./BeforeInputEventPlugin"),ChangeEventPlugin=require("./ChangeEventPlugin"),ClientReactRootIndex=require("./ClientReactRootIndex"),DefaultEventPluginOrder=require("./DefaultEventPluginOrder"),EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),ReactDOMComponent=require("./ReactDOMComponent"),ReactDOMTextComponent=require("./ReactDOMTextComponent"),ReactEventListener=require("./ReactEventListener"),ReactInjection=require("./ReactInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactReconcileTransaction=require("./ReactReconcileTransaction"),SelectEventPlugin=require("./SelectEventPlugin"),ServerReactRootIndex=require("./ServerReactRootIndex"),SimpleEventPlugin=require("./SimpleEventPlugin"),SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig"),alreadyInjected=!1;module.exports={inject:inject}},{"./BeforeInputEventPlugin":215,"./ChangeEventPlugin":219,"./ClientReactRootIndex":220,"./DefaultEventPluginOrder":225,"./EnterLeaveEventPlugin":226,"./HTMLDOMPropertyConfig":233,"./ReactBrowserComponentMixin":238,"./ReactComponentBrowserEnvironment":244,"./ReactDOMComponent":250,"./ReactDOMTextComponent":259,"./ReactDefaultBatchingStrategy":261,"./ReactDefaultPerf":263,"./ReactEventListener":271,"./ReactInjection":272,"./ReactInstanceHandles":274,"./ReactMount":278,"./ReactReconcileTransaction":288,"./SVGDOMPropertyConfig":298,"./SelectEventPlugin":299,"./ServerReactRootIndex":300,"./SimpleEventPlugin":301,"fbjs/lib/ExecutionEnvironment":343}],263:[function(require,module){"use strict";function roundFloat(val){return Math.floor(100*val)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var DOMProperty=require("./DOMProperty"),ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),performanceNow=require("fbjs/lib/performanceNow"),ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,!0);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements,console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements)),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};return result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id,result.type=item.type,result.args=JSON.stringify(item.args),result})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[],writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];var totalTime,rv,start;if("_renderNewRootComponent"===fnName||"flushBatchedUpdates"===fnName)return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),start=performanceNow(),rv=func.apply(this,args),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start,rv;if("_mountImageIntoNode"===fnName||"ReactBrowserEventEmitter"===moduleName||"ReactDOMIDOperations"===moduleName||"CSSPropertyOperations"===moduleName||"DOMChildrenOperations"===moduleName||"DOMPropertyOperations"===moduleName){if(start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,"_mountImageIntoNode"===fnName){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if("dangerouslyProcessChildrenUpdates"===fnName)args[0].forEach(function(update){var writeArgs={};null!==update.fromIndex&&(writeArgs.fromIndex=update.fromIndex),null!==update.toIndex&&(writeArgs.toIndex=update.toIndex),null!==update.textContent&&(writeArgs.textContent=update.textContent),null!==update.markupIndex&&(writeArgs.markup=args[1][update.markupIndex]),ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)});else{var id=args[0];"object"==typeof id&&(id=ReactMount.getID(args[0])),ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}if("ReactCompositeComponent"!==moduleName||"mountComponent"!==fnName&&"updateComponent"!==fnName&&"_renderValidatedComponent"!==fnName)return func.apply(this,args);if(this._currentElement.type===ReactMount.TopLevelWrapper)return func.apply(this,args);var rootNodeID="mountComponent"===fnName?args[0]:this._rootNodeID,isRender="_renderValidatedComponent"===fnName,isMount="mountComponent"===fnName,mountStack=ReactDefaultPerf._mountStack,entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender?addValue(entry.counts,rootNodeID,1):isMount&&(entry.created[rootNodeID]=!0,mountStack.push(0)),start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,isRender)addValue(entry.render,rootNodeID,totalTime);else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime,addValue(entry.exclusive,rootNodeID,totalTime-subMountTime),addValue(entry.inclusive,rootNodeID,totalTime)}else addValue(entry.inclusive,rootNodeID,totalTime);return entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},rv}}};module.exports=ReactDefaultPerf},{"./DOMProperty":222,"./ReactDefaultPerfAnalysis":264,"./ReactMount":278,"./ReactPerf":284,"fbjs/lib/performanceNow":365}],264:[function(require,module){"use strict";function getTotalTime(measurements){for(var totalTime=0,i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];return measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})})}),items}function getExclusiveSummary(measurements){for(var displayName,candidates={},i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs)displayName=measurement.displayNames[id].current,candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0},measurement.render[id]&&(candidates[displayName].render+=measurement.render[id]),measurement.exclusive[id]&&(candidates[displayName].exclusive+=measurement.exclusive[id]),measurement.inclusive[id]&&(candidates[displayName].inclusive+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[displayName].count+=measurement.counts[id])}var arr=[];for(displayName in candidates)candidates[displayName].exclusive>=DONT_CARE_THRESHOLD&&arr.push(candidates[displayName]);return arr.sort(function(a,b){return b.exclusive-a.exclusive}),arr}function getInclusiveSummary(measurements,onlyClean){for(var inclusiveKey,candidates={},i=0;i<measurements.length;i++){var cleanComponents,measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);onlyClean&&(cleanComponents=getUnchangedComponents(measurement));for(var id in allIDs)if(!onlyClean||cleanComponents[id]){var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current,candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0},measurement.inclusive[id]&&(candidates[inclusiveKey].time+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[inclusiveKey].count+=measurement.counts[id])}}var arr=[];for(inclusiveKey in candidates)candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD&&arr.push(candidates[inclusiveKey]);return arr.sort(function(a,b){return b.time-a.time}),arr}function getUnchangedComponents(measurement){var cleanComponents={},dirtyLeafIDs=Object.keys(measurement.writes),allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){for(var isDirty=!1,i=0;i<dirtyLeafIDs.length;i++)if(0===dirtyLeafIDs[i].indexOf(id)){isDirty=!0;break}measurement.created[id]&&(isDirty=!0),!isDirty&&measurement.counts[id]>0&&(cleanComponents[id]=!0)}return cleanComponents}var assign=require("./Object.assign"),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{"./Object.assign":235}],265:[function(require,module){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner"),assign=require("./Object.assign"),REACT_ELEMENT_TYPE=(require("./canDefineProperty"),"function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103),RESERVED_PROPS={key:!0,ref:!0,__self:!0,__source:!0},ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};return element};ReactElement.createElement=function(type,config,children){var propName,props={},key=null,ref=null,self=null,source=null;if(null!=config){ref=void 0===config.ref?null:config.ref,key=void 0===config.key?null:""+config.key,self=void 0===config.__self?null:config.__self,source=void 0===config.__source?null:config.__source;for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps)"undefined"==typeof props[propName]&&(props[propName]=defaultProps[propName])}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)},ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);return factory.type=type,factory},ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement},ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);return newElement},ReactElement.cloneElement=function(element,config,children){var propName,props=assign({},element.props),key=element.key,ref=element.ref,self=element._self,source=element._source,owner=element._owner;if(null!=config){void 0!==config.ref&&(ref=config.ref,owner=ReactCurrentOwner.current),void 0!==config.key&&(key=""+config.key);for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)},ReactElement.isValidElement=function(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE},module.exports=ReactElement},{"./Object.assign":235,"./ReactCurrentOwner":247,"./canDefineProperty":317}],266:[function(require,module){"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name)return" Check the render method of `"+name+"`."}return""}function validateExplicitKey(element,parentType){if(element._store&&!element._store.validated&&null==element.key){element._store.validated=!0;{getAddendaForKeyUse("uniqueKey",element,parentType)}}}function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName="string"==typeof parentType?parentType:parentType.displayName||parentType.name;parentName&&(addendum=" Check the top-level render call using <"+parentName+">.")}var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum])return null;memoizer[addendum]=!0;var addenda={parentOrOwner:addendum,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return element&&element._owner&&element._owner!==ReactCurrentOwner.current&&(addenda.childOwner=" It was passed a child from "+element._owner.getName()+"."),addenda}function validateChildKeys(node,parentType){if("object"==typeof node)if(Array.isArray(node))for(var i=0;i<node.length;i++){var child=node[i];ReactElement.isValidElement(child)&&validateExplicitKey(child,parentType)}else if(ReactElement.isValidElement(node))node._store&&(node._store.validated=!0);else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn&&iteratorFn!==node.entries)for(var step,iterator=iteratorFn.call(node);!(step=iterator.next()).done;)ReactElement.isValidElement(step.value)&&validateExplicitKey(step.value,parentType)}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?invariant(!1):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;{getDeclarationErrorAddendum()}}}}function validatePropTypes(element){var componentClass=element.type;if("function"==typeof componentClass){var name=componentClass.displayName||componentClass.name;componentClass.propTypes&&checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop),"function"==typeof componentClass.getDefaultProps}}var ReactElement=require("./ReactElement"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactCurrentOwner=(require("./ReactPropTypeLocationNames"),require("./ReactCurrentOwner")),getIteratorFn=(require("./canDefineProperty"),require("./getIteratorFn")),invariant=require("fbjs/lib/invariant"),ownerHasKeyUseWarning=(require("fbjs/lib/warning"),
{}),loggedTypeFailures={},ReactElementValidator={createElement:function(type){var validType="string"==typeof type||"function"==typeof type,element=ReactElement.createElement.apply(this,arguments);if(null==element)return element;if(validType)for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],type);return validatePropTypes(element),element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);return validatedFactory.type=type,validatedFactory},cloneElement:function(){for(var newElement=ReactElement.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)validateChildKeys(arguments[i],newElement.type);return validatePropTypes(newElement),newElement}};module.exports=ReactElementValidator},{"./ReactCurrentOwner":247,"./ReactElement":265,"./ReactPropTypeLocationNames":285,"./ReactPropTypeLocations":286,"./canDefineProperty":317,"./getIteratorFn":328,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],267:[function(require,module){"use strict";var placeholderElement,ReactElement=require("./ReactElement"),ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry"),ReactReconciler=require("./ReactReconciler"),assign=require("./Object.assign"),ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component)}},ReactEmptyComponent=function(instantiate){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=instantiate(placeholderElement)};assign(ReactEmptyComponent.prototype,{construct:function(){},mountComponent:function(rootID,transaction,context){return ReactEmptyComponentRegistry.registerNullComponentID(rootID),this._rootNodeID=rootID,ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context)},receiveComponent:function(){},unmountComponent:function(){ReactReconciler.unmountComponent(this._renderedComponent),ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),ReactEmptyComponent.injection=ReactEmptyComponentInjection,module.exports=ReactEmptyComponent},{"./Object.assign":235,"./ReactElement":265,"./ReactEmptyComponentRegistry":268,"./ReactReconciler":289}],268:[function(require,module){"use strict";function isNullComponentID(id){return!!nullComponentIDsRegistry[id]}function registerNullComponentID(id){nullComponentIDsRegistry[id]=!0}function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id]}var nullComponentIDsRegistry={},ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};module.exports=ReactEmptyComponentRegistry},{}],269:[function(require,module){"use strict";function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){return void(null===caughtError&&(caughtError=x))}}var caughtError=null,ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;throw caughtError=null,error}}};module.exports=ReactErrorUtils},{}],270:[function(require,module){"use strict";function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue(!1)}var EventPluginHub=require("./EventPluginHub"),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":228}],271:[function(require,module){"use strict";function findParent(node){var nodeID=ReactMount.getID(node),rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),container=ReactMount.findReactContainerForID(rootID),parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType,this.nativeEvent=nativeEvent,this.ancestors=[]}function handleTopLevelImpl(bookKeeping){handleTopLevelWithoutPath(bookKeeping)}function handleTopLevelWithoutPath(bookKeeping){for(var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window,ancestor=topLevelTarget;ancestor;)bookKeeping.ancestors.push(ancestor),ancestor=findParent(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var EventListener=require("fbjs/lib/EventListener"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),PooledClass=require("./PooledClass"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),getEventTarget=require("./getEventTarget"),getUnboundedScrollPosition=require("fbjs/lib/getUnboundedScrollPosition");assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(ReactEventListener._enabled){var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}}};module.exports=ReactEventListener},{"./Object.assign":235,"./PooledClass":236,"./ReactInstanceHandles":274,"./ReactMount":278,"./ReactUpdates":296,"./getEventTarget":327,"fbjs/lib/EventListener":342,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/getUnboundedScrollPosition":354}],272:[function(require,module){"use strict";var DOMProperty=require("./DOMProperty"),EventPluginHub=require("./EventPluginHub"),ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactClass=require("./ReactClass"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactNativeComponent=require("./ReactNativeComponent"),ReactPerf=require("./ReactPerf"),ReactRootIndex=require("./ReactRootIndex"),ReactUpdates=require("./ReactUpdates"),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{"./DOMProperty":222,"./EventPluginHub":228,"./ReactBrowserEventEmitter":239,"./ReactClass":242,"./ReactComponentEnvironment":245,"./ReactEmptyComponent":267,"./ReactNativeComponent":281,"./ReactPerf":284,"./ReactRootIndex":291,"./ReactUpdates":296}],273:[function(require,module){"use strict";function isInDocument(node){return containsNode(document.documentElement,node)}var ReactDOMSelection=require("./ReactDOMSelection"),containsNode=require("fbjs/lib/containsNode"),focusNode=require("fbjs/lib/focusNode"),getActiveElement=require("fbjs/lib/getActiveElement"),ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&"text"===elem.type||"textarea"===nodeName||"true"===elem.contentEditable)},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;if("undefined"==typeof end&&(end=start),"selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};module.exports=ReactInputSelection},{"./ReactDOMSelection":257,"fbjs/lib/containsNode":346,"fbjs/lib/focusNode":351,"fbjs/lib/getActiveElement":352}],274:[function(require,module){"use strict";function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return""===id||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return 0===descendantID.indexOf(ancestorID)&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){if(isValidID(ancestorID)&&isValidID(destinationID)?void 0:invariant(!1),isAncestorIDOf(ancestorID,destinationID)?void 0:invariant(!1),ancestorID===destinationID)return ancestorID;var i,start=ancestorID.length+SEPARATOR_LENGTH;for(i=start;i<destinationID.length&&!isBoundary(destinationID,i);i++);return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(0===minLength)return"";for(var lastCommonMarkerIndex=0,i=0;minLength>=i;i++)if(isBoundary(oneID,i)&&isBoundary(twoID,i))lastCommonMarkerIndex=i;else if(oneID.charAt(i)!==twoID.charAt(i))break;var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);return isValidID(longestCommonID)?void 0:invariant(!1),longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"",stop=stop||"",start===stop?invariant(!1):void 0;var traverseUp=isAncestorIDOf(stop,start);traverseUp||isAncestorIDOf(start,stop)?void 0:invariant(!1);for(var depth=0,traverse=traverseUp?getParentID:getNextDescendantID,id=start;;id=traverse(id,stop)){var ret;if(skipFirst&&id===start||skipLast&&id===stop||(ret=cb(id,traverseUp,arg)),ret===!1||id===stop)break;depth++<MAX_TREE_DEPTH?void 0:invariant(!1)}}var ReactRootIndex=require("./ReactRootIndex"),invariant=require("fbjs/lib/invariant"),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=1e4,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);ancestorID!==leaveID&&traverseParentPath(leaveID,ancestorID,cb,upArg,!1,!0),ancestorID!==enterID&&traverseParentPath(ancestorID,enterID,cb,downArg,!0,!1)},traverseTwoPhase:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!1),traverseParentPath(targetID,"",cb,arg,!1,!0))},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!0),traverseParentPath(targetID,"",cb,arg,!0,!0))},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,!0,!1)},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{"./ReactRootIndex":291,"fbjs/lib/invariant":357}],275:[function(require,module){"use strict";var ReactInstanceMap={remove:function(key){key._reactInternalInstance=void 0},get:function(key){return key._reactInternalInstance},has:function(key){return void 0!==key._reactInternalInstance},set:function(key,value){key._reactInternalInstance=value}};module.exports=ReactInstanceMap},{}],276:[function(require,module){"use strict";var ReactChildren=require("./ReactChildren"),ReactComponent=require("./ReactComponent"),ReactClass=require("./ReactClass"),ReactDOMFactories=require("./ReactDOMFactories"),ReactElement=require("./ReactElement"),ReactPropTypes=(require("./ReactElementValidator"),require("./ReactPropTypes")),ReactVersion=require("./ReactVersion"),assign=require("./Object.assign"),onlyChild=require("./onlyChild"),createElement=ReactElement.createElement,createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement,React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React},{"./Object.assign":235,"./ReactChildren":241,"./ReactClass":242,"./ReactComponent":243,"./ReactDOMFactories":251,"./ReactElement":265,"./ReactElementValidator":266,"./ReactPropTypes":287,"./ReactVersion":297,"./onlyChild":334}],277:[function(require,module){"use strict";var adler32=require("./adler32"),TAG_END=/\/?>/,ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":316}],278:[function(require,module){"use strict";function firstDifferenceIndex(string1,string2){for(var minLen=Math.min(string1.length,string2.length),i=0;minLen>i;i++)if(string1.charAt(i)!==string2.charAt(i))return i;return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id)if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];cached!==node&&(isValid(cached,id)?invariant(!1):void 0,nodeCache[id]=node)}else nodeCache[id]=node;return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);oldID!==id&&delete nodeCache[oldID],node.setAttribute(ATTR_NAME,id),nodeCache[id]=node}function getNode(id){return nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id]}function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;return ReactEmptyComponentRegistry.isNullComponentID(id)?null:(nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id])}function isValid(node,id){if(node){internalGetID(node)!==id?invariant(!1):void 0;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node))return!0}return!1}function purgeID(id){delete nodeCache[id]}function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];return ancestor&&isValid(ancestor,ancestorID)?void(deepestNodeSoFar=ancestor):!1}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;return deepestNodeSoFar=null,foundNode}function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){ReactDOMFeatureFlags.useCreateElement&&(context=assign({},context),context[ownerDocumentContextKey]=container.nodeType===DOC_NODE_TYPE?container:container.ownerDocument);var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance,ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context),ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container){for(ReactReconciler.unmountComponent(instance),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);container.lastChild;)container.removeChild(container.lastChild)}function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):!1}function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode)if(1===node.nodeType){var nodeID=internalGetID(node);if(nodeID){var lastID,reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),current=node;do if(lastID=internalGetID(current),current=current.parentNode,null==current)return null;while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID])return node}}return null}var DOMProperty=require("./DOMProperty"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactDOMFeatureFlags=(require("./ReactCurrentOwner"),require("./ReactDOMFeatureFlags")),ReactElement=require("./ReactElement"),ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactInstanceMap=require("./ReactInstanceMap"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),ReactUpdateQueue=require("./ReactUpdateQueue"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),emptyObject=require("fbjs/lib/emptyObject"),containsNode=require("fbjs/lib/containsNode"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("fbjs/lib/invariant"),setInnerHTML=require("./setInnerHTML"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),ATTR_NAME=(require("./validateDOMNesting"),require("fbjs/lib/warning"),DOMProperty.ID_ATTRIBUTE_NAME),nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,DOCUMENT_FRAGMENT_NODE_TYPE=11,ownerDocumentContextKey="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),instancesByReactRootID={},containersByReactRootID={},findComponentRootReusableArray=[],deepestNodeSoFar=null,TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={},TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,container,callback){return ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement),callback&&ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}),prevComponent},_registerComponent:function(nextComponent,container){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):void 0,ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);return instancesByReactRootID[reactRootID]=nextComponent,reactRootID},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){var componentInstance=instantiateReactComponent(nextElement,null),reactRootID=ReactMount._registerComponent(componentInstance,container);return ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context),componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){return null==parentComponent||null==parentComponent._reactInternalInstance?invariant(!1):void 0,ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactElement.isValidElement(nextElement)?void 0:invariant(!1);var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement),prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement,prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance(),updatedCallback=callback&&function(){callback.call(publicInst)};return ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,updatedCallback),publicInst}ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement),containerHasNonRootReactChild=hasNonRootReactChild(container),shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild,component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,null!=parentComponent?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();return callback&&callback.call(component),component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},registerContainer:function(container){var reactRootID=getReactRootID(container);return reactRootID&&(reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)),reactRootID||(reactRootID=ReactInstanceHandles.createReactRootID()),containersByReactRootID[reactRootID]=container,reactRootID},unmountComponentAtNode:function(container){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):void 0;var reactRootID=getReactRootID(container),component=instancesByReactRootID[reactRootID];if(!component){{var containerID=(hasNonRootReactChild(container),internalGetID(container));containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID)}return!1}return ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container),delete instancesByReactRootID[reactRootID],delete containersByReactRootID[reactRootID],!0},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id),container=containersByReactRootID[reactRootID];return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node)},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray,childIndex=0,deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;for(firstChildren[0]=deepestAncestor.firstChild,firstChildren.length=1;childIndex<firstChildren.length;){for(var targetChild,child=firstChildren[childIndex++];child;){var childID=ReactMount.getID(child);childID?targetID===childID?targetChild=child:ReactInstanceHandles.isAncestorIDOf(childID,targetID)&&(firstChildren.length=childIndex=0,firstChildren.push(child.firstChild)):firstChildren.push(child.firstChild),child=child.nextSibling}if(targetChild)return firstChildren.length=0,targetChild}firstChildren.length=0,invariant(!1)},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){if(!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1):void 0,shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement))return;var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);{var normalizedMarkup=markup,diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup);" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20)}container.nodeType===DOC_NODE_TYPE?invariant(!1):void 0}if(container.nodeType===DOC_NODE_TYPE?invariant(!1):void 0,transaction.useCreateElement){for(;container.lastChild;)container.removeChild(container.lastChild);container.appendChild(markup)}else setInnerHTML(container,markup)},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),module.exports=ReactMount},{"./DOMProperty":222,"./Object.assign":235,"./ReactBrowserEventEmitter":239,"./ReactCurrentOwner":247,"./ReactDOMFeatureFlags":252,"./ReactElement":265,"./ReactEmptyComponentRegistry":268,"./ReactInstanceHandles":274,"./ReactInstanceMap":275,"./ReactMarkupChecksum":277,"./ReactPerf":284,"./ReactReconciler":289,"./ReactUpdateQueue":295,"./ReactUpdates":296,"./instantiateReactComponent":331,"./setInnerHTML":337,"./shouldUpdateReactComponent":339,"./validateDOMNesting":341,"fbjs/lib/containsNode":346,"fbjs/lib/emptyObject":350,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],279:[function(require,module){"use strict";function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null})}function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponentEnvironment=require("./ReactComponentEnvironment"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),ReactReconciler=(require("./ReactCurrentOwner"),require("./ReactReconciler")),ReactChildReconciler=require("./ReactChildReconciler"),flattenChildren=require("./flattenChildren"),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;return nextChildren=flattenChildren(nextNestedChildrenElements),ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[],index=0;for(var name in children)if(children.hasOwnProperty(name)){var child=children[name],rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++,mountImages.push(mountImage)}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChild(prevChildren[name]);this.setTextContent(nextContent),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChildByName(prevChildren[name],name);this.setMarkup(nextMarkup),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=!0;try{this._updateChildren(nextNestedChildrenElements,transaction,context),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},_updateChildren:function(nextNestedChildrenElements,transaction,context){
var prevChildren=this._renderedChildren,nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);if(this._renderedChildren=nextChildren,nextChildren||prevChildren){var name,lastIndex=0,nextIndex=0;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];prevChild===nextChild?(this.moveChild(prevChild,nextIndex,lastIndex),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild._mountIndex=nextIndex):(prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex),this._unmountChild(prevChild)),this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context)),nextIndex++}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||this._unmountChild(prevChildren[name])}},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren),this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){child._mountIndex<lastIndex&&enqueueMove(this._rootNodeID,child._mountIndex,toIndex)},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup)},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index,this.createChild(child,mountImage)},_unmountChild:function(child){this.removeChild(child),child._mountIndex=null}}};module.exports=ReactMultiChild},{"./ReactChildReconciler":240,"./ReactComponentEnvironment":245,"./ReactCurrentOwner":247,"./ReactMultiChildUpdateTypes":280,"./ReactReconciler":289,"./flattenChildren":322}],280:[function(require,module){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"fbjs/lib/keyMirror":360}],281:[function(require,module){"use strict";function getComponentClassForElement(element){if("function"==typeof element.type)return element.type;var tag=element.type,componentClass=tagToComponentClass[tag];return null==componentClass&&(tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag)),componentClass}function createInternalComponent(element){return genericComponentClass?void 0:invariant(!1),new genericComponentClass(element.type,element.props)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),autoGenerateWrapperClass=null,genericComponentClass=null,tagToComponentClass={},textComponentClass=null,ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}},ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent},{"./Object.assign":235,"fbjs/lib/invariant":357}],282:[function(require,module){"use strict";function warnTDZ(publicInstance,callerName){}var ReactNoopUpdateQueue=(require("fbjs/lib/warning"),{isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance){warnTDZ(publicInstance,"replaceState")},enqueueSetState:function(publicInstance){warnTDZ(publicInstance,"setState")},enqueueSetProps:function(publicInstance){warnTDZ(publicInstance,"setProps")},enqueueReplaceProps:function(publicInstance){warnTDZ(publicInstance,"replaceProps")}});module.exports=ReactNoopUpdateQueue},{"fbjs/lib/warning":368}],283:[function(require,module){"use strict";var invariant=require("fbjs/lib/invariant"),ReactOwner={isValidOwner:function(object){return!(!object||"function"!=typeof object.attachRef||"function"!=typeof object.detachRef)},addComponentAsRefTo:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:invariant(!1),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:invariant(!1),owner.getPublicInstance().refs[ref]===component.getPublicInstance()&&owner.detachRef(ref)}};module.exports=ReactOwner},{"fbjs/lib/invariant":357}],284:[function(require,module){"use strict";function _noMeasure(objName,fnName,func){return func}var ReactPerf={enableMeasure:!1,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){},measure:function(objName,fnName,func){return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};module.exports=ReactPerf},{}],285:[function(require,module){"use strict";var ReactPropTypeLocationNames={};module.exports=ReactPropTypeLocationNames},{}],286:[function(require,module){"use strict";var keyMirror=require("fbjs/lib/keyMirror"),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"fbjs/lib/keyMirror":360}],287:[function(require,module){"use strict";function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,null==props[propName]){var locationName=ReactPropTypeLocationNames[location];return isRequired?new Error("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`.")):null}return validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location],preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]");if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location],expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(propValue===expectedValues[i])return null;var locationName=ReactPropTypeLocationNames[location],valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(Array.isArray(expectedValues)?validate:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue)if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(null==checker(props,propName,componentName,location,propFullName))return null}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(Array.isArray(arrayOfTypeCheckers)?validate:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(checker){var error=checker(propValue,key,componentName,location,propFullName+"."+key);if(error)return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||ReactElement.isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":propType}function getPreciseType(propValue){var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getClassName(propValue){return propValue.constructor&&propValue.constructor.name?propValue.constructor.name:"<<anonymous>>"}var ReactElement=require("./ReactElement"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),emptyFunction=require("fbjs/lib/emptyFunction"),getIteratorFn=require("./getIteratorFn"),ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};module.exports=ReactPropTypes},{"./ReactElement":265,"./ReactPropTypeLocationNames":285,"./getIteratorFn":328,"fbjs/lib/emptyFunction":349}],288:[function(require,module){"use strict";function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter"),ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags"),ReactInputSelection=require("./ReactInputSelection"),Transaction=require("./Transaction"),assign=require("./Object.assign"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction},{"./CallbackQueue":218,"./Object.assign":235,"./PooledClass":236,"./ReactBrowserEventEmitter":239,"./ReactDOMFeatureFlags":252,"./ReactInputSelection":273,"./Transaction":313}],289:[function(require,module){"use strict";function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactRef=require("./ReactRef"),ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);return internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance),markup},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement),internalInstance.unmountComponent()},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement!==prevElement||context!==internalInstance._context){var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);refsChanged&&ReactRef.detachRefs(internalInstance,prevElement),internalInstance.receiveComponent(nextElement,transaction,context),refsChanged&&internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction)}};module.exports=ReactReconciler},{"./ReactRef":290}],290:[function(require,module){"use strict";function attachRef(ref,component,owner){"function"==typeof ref?ref(component.getPublicInstance()):ReactOwner.addComponentAsRefTo(component,ref,owner)}function detachRef(ref,component,owner){"function"==typeof ref?ref(null):ReactOwner.removeComponentAsRefFrom(component,ref,owner)}var ReactOwner=require("./ReactOwner"),ReactRef={};ReactRef.attachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&attachRef(ref,instance,element._owner)}},ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;return prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref},ReactRef.detachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&detachRef(ref,instance,element._owner)}},module.exports=ReactRef},{"./ReactOwner":283}],291:[function(require,module){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],292:[function(require,module){"use strict";var ReactServerBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(){}};module.exports=ReactServerBatchingStrategy},{}],293:[function(require,module){"use strict";function renderToString(element){ReactElement.isValidElement(element)?void 0:invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!1),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null),markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}function renderToStaticMarkup(element){ReactElement.isValidElement(element)?void 0:invariant(!1);var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!0),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),ReactElement=require("./ReactElement"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactServerBatchingStrategy=require("./ReactServerBatchingStrategy"),ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction"),ReactUpdates=require("./ReactUpdates"),emptyObject=require("fbjs/lib/emptyObject"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("fbjs/lib/invariant");module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}},{"./ReactDefaultBatchingStrategy":261,"./ReactElement":265,"./ReactInstanceHandles":274,"./ReactMarkupChecksum":277,"./ReactServerBatchingStrategy":292,"./ReactServerRenderingTransaction":294,"./ReactUpdates":296,"./instantiateReactComponent":331,"fbjs/lib/emptyObject":350,"fbjs/lib/invariant":357}],294:[function(require,module){"use strict";function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!1}var PooledClass=require("./PooledClass"),CallbackQueue=require("./CallbackQueue"),Transaction=require("./Transaction"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction},{"./CallbackQueue":218,"./Object.assign":235,"./PooledClass":236,"./Transaction":313,"fbjs/lib/emptyFunction":349}],295:[function(require,module){"use strict";function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?internalInstance:null}var ReactElement=(require("./ReactCurrentOwner"),require("./ReactElement")),ReactInstanceMap=require("./ReactInstanceMap"),ReactUpdates=require("./ReactUpdates"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),ReactUpdateQueue=(require("fbjs/lib/warning"),{isMounted:function(publicInstance){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?!!internalInstance._renderedComponent:!1},enqueueCallback:function(publicInstance,callback){"function"!=typeof callback?invariant(!1):void 0;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);return internalInstance?(internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],void enqueueUpdate(internalInstance)):null},enqueueCallbackInternal:function(internalInstance,callback){"function"!=typeof callback?invariant(!1):void 0,internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");internalInstance&&(internalInstance._pendingForceUpdate=!0,enqueueUpdate(internalInstance))},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");internalInstance&&(internalInstance._pendingStateQueue=[completeState],internalInstance._pendingReplaceState=!0,enqueueUpdate(internalInstance))},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(internalInstance){var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState),enqueueUpdate(internalInstance)}},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setProps");internalInstance&&ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps)},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props,props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceProps");internalInstance&&ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props)},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:invariant(!1);var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement,enqueueUpdate(internalInstance)}});module.exports=ReactUpdateQueue},{"./Object.assign":235,"./ReactCurrentOwner":247,"./ReactElement":265,"./ReactInstanceMap":275,"./ReactUpdates":296,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],296:[function(require,module){"use strict";function ensureInjected(){ReactUpdates.ReactReconcileTransaction&&batchingStrategy?void 0:invariant(!1)}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(!1)}function batchedUpdates(callback,a,b,c,d,e){ensureInjected(),batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;len!==dirtyComponents.length?invariant(!1):void 0,dirtyComponents.sort(mountOrderComparator);for(var i=0;len>i;i++){var component=dirtyComponents[i],callbacks=component._pendingCallbacks;if(component._pendingCallbacks=null,ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction),callbacks)for(var j=0;j<callbacks.length;j++)transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}function enqueueUpdate(component){return ensureInjected(),batchingStrategy.isBatchingUpdates?void dirtyComponents.push(component):void batchingStrategy.batchedUpdates(enqueueUpdate,component)}function asap(callback,context){batchingStrategy.isBatchingUpdates?void 0:invariant(!1),asapCallbackQueue.enqueue(callback,context),asapEnqueued=!0}var CallbackQueue=require("./CallbackQueue"),PooledClass=require("./PooledClass"),ReactPerf=require("./ReactPerf"),ReactReconciler=require("./ReactReconciler"),Transaction=require("./Transaction"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),dirtyComponents=[],asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){for(;dirtyComponents.length||asapEnqueued;){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction),ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=!1;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),queue.notifyAll(),CallbackQueue.release(queue)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){ReconcileTransaction?void 0:invariant(!1),ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){_batchingStrategy?void 0:invariant(!1),"function"!=typeof _batchingStrategy.batchedUpdates?invariant(!1):void 0,"boolean"!=typeof _batchingStrategy.isBatchingUpdates?invariant(!1):void 0,batchingStrategy=_batchingStrategy}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates},{"./CallbackQueue":218,"./Object.assign":235,"./PooledClass":236,"./ReactPerf":284,"./ReactReconciler":289,"./Transaction":313,"fbjs/lib/invariant":357}],297:[function(require,module){"use strict";module.exports="0.14.3"},{}],298:[function(require,module){"use strict";var DOMProperty=require("./DOMProperty"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};module.exports=SVGDOMPropertyConfig},{"./DOMProperty":222}],299:[function(require,module){"use strict";function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||null==activeElement||activeElement!==getActiveElement())return null;var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}return null}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),ReactInputSelection=require("./ReactInputSelection"),SyntheticEvent=require("./SyntheticEvent"),getActiveElement=require("fbjs/lib/getActiveElement"),isTextInputElement=require("./isTextInputElement"),keyOf=require("fbjs/lib/keyOf"),shallowEqual=require("fbjs/lib/shallowEqual"),topLevelTypes=EventConstants.topLevelTypes,skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,hasListener=!1,ON_SELECT_KEY=keyOf({onSelect:null}),SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener)return null;switch(topLevelType){case topLevelTypes.topFocus:(isTextInputElement(topLevelTarget)||"true"===topLevelTarget.contentEditable)&&(activeElement=topLevelTarget,activeElementID=topLevelTargetID,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent)break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(id,registrationName){registrationName===ON_SELECT_KEY&&(hasListener=!0)}};module.exports=SelectEventPlugin},{"./EventConstants":227,"./EventPropagators":231,"./ReactInputSelection":273,"./SyntheticEvent":305,"./isTextInputElement":333,"fbjs/lib/ExecutionEnvironment":343,"fbjs/lib/getActiveElement":352,"fbjs/lib/keyOf":361,"fbjs/lib/shallowEqual":366}],300:[function(require,module){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],301:[function(require,module){"use strict";var EventConstants=require("./EventConstants"),EventListener=require("fbjs/lib/EventListener"),EventPropagators=require("./EventPropagators"),ReactMount=require("./ReactMount"),SyntheticClipboardEvent=require("./SyntheticClipboardEvent"),SyntheticEvent=require("./SyntheticEvent"),SyntheticFocusEvent=require("./SyntheticFocusEvent"),SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),SyntheticDragEvent=require("./SyntheticDragEvent"),SyntheticTouchEvent=require("./SyntheticTouchEvent"),SyntheticUIEvent=require("./SyntheticUIEvent"),SyntheticWheelEvent=require("./SyntheticWheelEvent"),emptyFunction=require("fbjs/lib/emptyFunction"),getEventCharCode=require("./getEventCharCode"),invariant=require("fbjs/lib/invariant"),keyOf=require("fbjs/lib/keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:!0}),captured:keyOf({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:!0}),captured:keyOf({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:!0}),captured:keyOf({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:!0}),captured:keyOf({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:!0}),captured:keyOf({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:!0}),captured:keyOf({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:!0}),captured:keyOf({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:!0}),captured:keyOf({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:!0}),captured:keyOf({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:!0}),captured:keyOf({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:!0}),captured:keyOf({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:!0}),captured:keyOf({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:!0}),captured:keyOf({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:!0}),captured:keyOf({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:!0}),captured:keyOf({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:!0}),captured:keyOf({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:!0}),captured:keyOf({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:!0}),captured:keyOf({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:!0}),captured:keyOf({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:!0}),captured:keyOf({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:!0}),captured:keyOf({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:!0}),captured:keyOf({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var ON_CLICK_KEY=keyOf({onClick:null}),onClickListeners={},SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(0===getEventCharCode(nativeEvent))return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===nativeEvent.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}EventConstructor?void 0:invariant(!1);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);return EventPropagators.accumulateTwoPhaseDispatches(event),event},didPutListener:function(id,registrationName){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);onClickListeners[id]||(onClickListeners[id]=EventListener.listen(node,"click",emptyFunction))}},willDeleteListener:function(id,registrationName){registrationName===ON_CLICK_KEY&&(onClickListeners[id].remove(),delete onClickListeners[id])}};module.exports=SimpleEventPlugin},{"./EventConstants":227,"./EventPropagators":231,"./ReactMount":278,"./SyntheticClipboardEvent":302,"./SyntheticDragEvent":304,"./SyntheticEvent":305,"./SyntheticFocusEvent":306,"./SyntheticKeyboardEvent":308,"./SyntheticMouseEvent":309,"./SyntheticTouchEvent":310,"./SyntheticUIEvent":311,"./SyntheticWheelEvent":312,"./getEventCharCode":324,"fbjs/lib/EventListener":342,"fbjs/lib/emptyFunction":349,"fbjs/lib/invariant":357,"fbjs/lib/keyOf":361}],302:[function(require,module){"use strict";function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":305}],303:[function(require,module){"use strict";function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),CompositionEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":305}],304:[function(require,module){"use strict";function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),DragEventInterface={dataTransfer:null};SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":309}],305:[function(require,module){"use strict";function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig,this.dispatchMarker=dispatchMarker,this.nativeEvent=nativeEvent,this.target=nativeEventTarget,this.currentTarget=nativeEventTarget;var Interface=this.constructor.Interface;for(var propName in Interface)if(Interface.hasOwnProperty(propName)){var normalize=Interface[propName];this[propName]=normalize?normalize(nativeEvent):nativeEvent[propName]}var defaultPrevented=null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;this.isDefaultPrevented=defaultPrevented?emptyFunction.thatReturnsTrue:emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=require("./PooledClass"),assign=require("./Object.assign"),emptyFunction=require("fbjs/lib/emptyFunction"),EventInterface=(require("fbjs/lib/warning"),{type:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;event&&(event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;event&&(event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue)},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,prototype=Object.create(Super.prototype);assign(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=assign({},Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler),module.exports=SyntheticEvent},{"./Object.assign":235,"./PooledClass":236,"fbjs/lib/emptyFunction":349,"fbjs/lib/warning":368}],306:[function(require,module){"use strict";function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),FocusEventInterface={relatedTarget:null};SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":311}],307:[function(require,module){"use strict";function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),InputEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent},{"./SyntheticEvent":305}],308:[function(require,module){"use strict";function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventCharCode=require("./getEventCharCode"),getEventKey=require("./getEventKey"),getEventModifierState=require("./getEventModifierState"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){return"keypress"===event.type?getEventCharCode(event):0},keyCode:function(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function(event){return"keypress"===event.type?getEventCharCode(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}};SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":311,"./getEventCharCode":324,"./getEventKey":325,"./getEventModifierState":326}],309:[function(require,module){"use strict";function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),ViewportMetrics=require("./ViewportMetrics"),getEventModifierState=require("./getEventModifierState"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;return"which"in event?button:2===button?2:4===button?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":311,"./ViewportMetrics":314,"./getEventModifierState":326}],310:[function(require,module){"use strict";function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventModifierState=require("./getEventModifierState"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":311,"./getEventModifierState":326}],311:[function(require,module){"use strict";function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=require("./SyntheticEvent"),getEventTarget=require("./getEventTarget"),UIEventInterface={view:function(event){if(event.view)return event.view;var target=getEventTarget(event);if(null!=target&&target.window===target)return target;var doc=target.ownerDocument;return doc?doc.defaultView||doc.parentWindow:window},detail:function(event){return event.detail||0}};SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent},{"./SyntheticEvent":305,"./getEventTarget":327}],312:[function(require,module){"use strict";function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":309}],313:[function(require,module){"use strict";var invariant=require("fbjs/lib/invariant"),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){this.isInTransaction()?invariant(!1):void 0;var errorThrown,ret;try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){this.isInTransaction()?void 0:invariant(!1);for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var errorThrown,wrapper=transactionWrappers[i],initData=this.wrapperInitData[i];try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{if(errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{"fbjs/lib/invariant":357}],314:[function(require,module){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{}],315:[function(require,module){"use strict";function accumulateInto(current,next){if(null==next?invariant(!1):void 0,null==current)return next;var currentIsArray=Array.isArray(current),nextIsArray=Array.isArray(next);return currentIsArray&&nextIsArray?(current.push.apply(current,next),current):currentIsArray?(current.push(next),current):nextIsArray?[current].concat(next):[current,next]}var invariant=require("fbjs/lib/invariant");module.exports=accumulateInto},{"fbjs/lib/invariant":357}],316:[function(require,module){"use strict";function adler32(data){for(var a=1,b=0,i=0,l=data.length,m=-4&l;m>i;){for(;i<Math.min(i+4096,m);i+=4)b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));a%=MOD,b%=MOD}for(;l>i;i++)b+=a+=data.charCodeAt(i);return a%=MOD,b%=MOD,a|b<<16}var MOD=65521;module.exports=adler32},{}],317:[function(require,module){"use strict";var canDefineProperty=!1;module.exports=canDefineProperty},{}],318:[function(require,module){"use strict";function dangerousStyleValue(name,value){var isEmpty=null==value||"boolean"==typeof value||""===value;if(isEmpty)return"";var isNonNumeric=isNaN(value);return isNonNumeric||0===value||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]?""+value:("string"==typeof value&&(value=value.trim()),value+"px")}var CSSProperty=require("./CSSProperty"),isUnitlessNumber=CSSProperty.isUnitlessNumber;module.exports=dangerousStyleValue},{"./CSSProperty":216}],319:[function(require,module){"use strict";function deprecated(fnName,newModule,newPackage,ctx,fn){return fn}require("./Object.assign"),require("fbjs/lib/warning");module.exports=deprecated},{"./Object.assign":235,"fbjs/lib/warning":368}],320:[function(require,module){"use strict";function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextContentForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;module.exports=escapeTextContentForBrowser},{}],321:[function(require,module){"use strict";function findDOMNode(componentOrElement){return null==componentOrElement?null:1===componentOrElement.nodeType?componentOrElement:ReactInstanceMap.has(componentOrElement)?ReactMount.getNodeFromInstance(componentOrElement):(null!=componentOrElement.render&&"function"==typeof componentOrElement.render?invariant(!1):void 0,void invariant(!1))}{var ReactInstanceMap=(require("./ReactCurrentOwner"),require("./ReactInstanceMap")),ReactMount=require("./ReactMount"),invariant=require("fbjs/lib/invariant");require("fbjs/lib/warning")}module.exports=findDOMNode},{"./ReactCurrentOwner":247,"./ReactInstanceMap":275,"./ReactMount":278,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],322:[function(require,module){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext,keyUnique=void 0===result[name];keyUnique&&null!=child&&(result[name]=child)}function flattenChildren(children){if(null==children)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}{var traverseAllChildren=require("./traverseAllChildren");require("fbjs/lib/warning")}module.exports=flattenChildren},{"./traverseAllChildren":340,"fbjs/lib/warning":368}],323:[function(require,module){"use strict";var forEachAccumulated=function(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)};module.exports=forEachAccumulated},{}],324:[function(require,module){"use strict";function getEventCharCode(nativeEvent){var charCode,keyCode=nativeEvent.keyCode;return"charCode"in nativeEvent?(charCode=nativeEvent.charCode,0===charCode&&13===keyCode&&(charCode=13)):charCode=keyCode,charCode>=32||13===charCode?charCode:0}module.exports=getEventCharCode},{}],325:[function(require,module){"use strict";function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if("Unidentified"!==key)return key}if("keypress"===nativeEvent.type){var charCode=getEventCharCode(nativeEvent);return 13===charCode?"Enter":String.fromCharCode(charCode)}return"keydown"===nativeEvent.type||"keyup"===nativeEvent.type?translateToKey[nativeEvent.keyCode]||"Unidentified":""}var getEventCharCode=require("./getEventCharCode"),normalizeKey={
Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};module.exports=getEventKey},{"./getEventCharCode":324}],326:[function(require,module){"use strict";function modifierStateGetter(keyArg){var syntheticEvent=this,nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState)return nativeEvent.getModifierState(keyArg);var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:!1}function getEventModifierState(){return modifierStateGetter}var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};module.exports=getEventModifierState},{}],327:[function(require,module){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return 3===target.nodeType?target.parentNode:target}module.exports=getEventTarget},{}],328:[function(require,module){"use strict";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";module.exports=getIteratorFn},{}],329:[function(require,module){"use strict";function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getSiblingNode(node){for(;node;){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){for(var node=getLeafNode(root),nodeStart=0,nodeEnd=0;node;){if(3===node.nodeType){if(nodeEnd=nodeStart+node.textContent.length,offset>=nodeStart&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],330:[function(require,module){"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),contentKey=null;module.exports=getTextContentAccessor},{"fbjs/lib/ExecutionEnvironment":343}],331:[function(require,module){"use strict";function isInternalComponentType(type){return"function"==typeof type&&"undefined"!=typeof type.prototype&&"function"==typeof type.prototype.mountComponent&&"function"==typeof type.prototype.receiveComponent}function instantiateReactComponent(node){var instance;if(null===node||node===!1)instance=new ReactEmptyComponent(instantiateReactComponent);else if("object"==typeof node){var element=node;!element||"function"!=typeof element.type&&"string"!=typeof element.type?invariant(!1):void 0,instance="string"==typeof element.type?ReactNativeComponent.createInternalComponent(element):isInternalComponentType(element.type)?new element.type(element):new ReactCompositeComponentWrapper}else"string"==typeof node||"number"==typeof node?instance=ReactNativeComponent.createInstanceForText(node):invariant(!1);return instance.construct(node),instance._mountIndex=0,instance._mountImage=null,instance}var ReactCompositeComponent=require("./ReactCompositeComponent"),ReactEmptyComponent=require("./ReactEmptyComponent"),ReactNativeComponent=require("./ReactNativeComponent"),assign=require("./Object.assign"),invariant=require("fbjs/lib/invariant"),ReactCompositeComponentWrapper=(require("fbjs/lib/warning"),function(){});assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent}),module.exports=instantiateReactComponent},{"./Object.assign":235,"./ReactCompositeComponent":246,"./ReactEmptyComponent":267,"./ReactNativeComponent":281,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],332:[function(require,module){"use strict";function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var useHasFeature,ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported},{"fbjs/lib/ExecutionEnvironment":343}],333:[function(require,module){"use strict";function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&supportedInputTypes[elem.type]||"textarea"===nodeName)}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};module.exports=isTextInputElement},{}],334:[function(require,module){"use strict";function onlyChild(children){return ReactElement.isValidElement(children)?void 0:invariant(!1),children}var ReactElement=require("./ReactElement"),invariant=require("fbjs/lib/invariant");module.exports=onlyChild},{"./ReactElement":265,"fbjs/lib/invariant":357}],335:[function(require,module){"use strict";function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");module.exports=quoteAttributeValueForBrowser},{"./escapeTextContentForBrowser":320}],336:[function(require,module){"use strict";var ReactMount=require("./ReactMount");module.exports=ReactMount.renderSubtreeIntoContainer},{"./ReactMount":278}],337:[function(require,module){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,setInnerHTML=function(node,html){node.innerHTML=html};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html})}),ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",""===testElement.innerHTML&&(setInnerHTML=function(node,html){if(node.parentNode&&node.parentNode.replaceChild(node,node),WHITESPACE_TEST.test(html)||"<"===html[0]&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;1===textNode.data.length?node.removeChild(textNode):textNode.deleteData(0,1)}else node.innerHTML=html})}module.exports=setInnerHTML},{"fbjs/lib/ExecutionEnvironment":343}],338:[function(require,module){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),escapeTextContentForBrowser=require("./escapeTextContentForBrowser"),setInnerHTML=require("./setInnerHTML"),setTextContent=function(node,text){node.textContent=text};ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))})),module.exports=setTextContent},{"./escapeTextContentForBrowser":320,"./setInnerHTML":337,"fbjs/lib/ExecutionEnvironment":343}],339:[function(require,module){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;if(prevEmpty||nextEmpty)return prevEmpty===nextEmpty;var prevType=typeof prevElement,nextType=typeof nextElement;return"string"===prevType||"number"===prevType?"string"===nextType||"number"===nextType:"object"===nextType&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}module.exports=shouldUpdateReactComponent},{}],340:[function(require,module){"use strict";function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){return component&&null!=component.key?wrapUserProvidedKey(component.key):index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(("undefined"===type||"boolean"===type)&&(children=null),null===children||"string"===type||"number"===type||ReactElement.isValidElement(children))return callback(traverseContext,children,""===nameSoFar?SEPARATOR+getComponentKey(children,0):nameSoFar),1;var child,nextName,subtreeCount=0,nextNamePrefix=""===nameSoFar?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children))for(var i=0;i<children.length;i++)child=children[i],nextName=nextNamePrefix+getComponentKey(child,i),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var step,iterator=iteratorFn.call(children);if(iteratorFn!==children.entries)for(var ii=0;!(step=iterator.next()).done;)child=step.value,nextName=nextNamePrefix+getComponentKey(child,ii++),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else for(;!(step=iterator.next()).done;){var entry=step.value;entry&&(child=entry[1],nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext))}}else if("object"===type){{String(children)}invariant(!1)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){return null==children?0:traverseAllChildrenImpl(children,"",callback,traverseContext)}var ReactElement=(require("./ReactCurrentOwner"),require("./ReactElement")),ReactInstanceHandles=require("./ReactInstanceHandles"),getIteratorFn=require("./getIteratorFn"),invariant=require("fbjs/lib/invariant"),SEPARATOR=(require("fbjs/lib/warning"),ReactInstanceHandles.SEPARATOR),SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g;module.exports=traverseAllChildren},{"./ReactCurrentOwner":247,"./ReactElement":265,"./ReactInstanceHandles":274,"./getIteratorFn":328,"fbjs/lib/invariant":357,"fbjs/lib/warning":368}],341:[function(require,module){"use strict";var emptyFunction=(require("./Object.assign"),require("fbjs/lib/emptyFunction")),validateDOMNesting=(require("fbjs/lib/warning"),emptyFunction);module.exports=validateDOMNesting},{"./Object.assign":235,"fbjs/lib/emptyFunction":349,"fbjs/lib/warning":368}],342:[function(require,module){"use strict";var emptyFunction=require("./emptyFunction"),EventListener={listen:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}):void 0},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):{remove:emptyFunction}},registerDefault:function(){}};module.exports=EventListener},{"./emptyFunction":349}],343:[function(require,module){"use strict";var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],344:[function(require,module){"use strict";function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}var _hyphenPattern=/-(.)/g;module.exports=camelize},{}],345:[function(require,module){"use strict";function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}var camelize=require("./camelize"),msPattern=/^-ms-/;module.exports=camelizeStyleName},{"./camelize":344}],346:[function(require,module){"use strict";function containsNode(_x,_x2){var _again=!0;_function:for(;_again;){var outerNode=_x,innerNode=_x2;if(_again=!1,outerNode&&innerNode){if(outerNode===innerNode)return!0;if(isTextNode(outerNode))return!1;if(isTextNode(innerNode)){_x=outerNode,_x2=innerNode.parentNode,_again=!0;continue _function}return outerNode.contains?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(16&outerNode.compareDocumentPosition(innerNode)):!1}return!1}}var isTextNode=require("./isTextNode");module.exports=containsNode},{"./isTextNode":359}],347:[function(require,module){"use strict";function hasArrayNature(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"length"in obj&&!("setInterval"in obj)&&"number"!=typeof obj.nodeType&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var toArray=require("./toArray");module.exports=createArrayFromMixed},{"./toArray":367}],348:[function(require,module){"use strict";function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;dummyNode?void 0:invariant(!1);var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];for(var wrapDepth=wrap[0];wrapDepth--;)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&(handleScript?void 0:invariant(!1),createArrayFromMixed(scripts).forEach(handleScript));for(var nodes=createArrayFromMixed(node.childNodes);node.lastChild;)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=require("./ExecutionEnvironment"),createArrayFromMixed=require("./createArrayFromMixed"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup},{"./ExecutionEnvironment":343,"./createArrayFromMixed":347,"./getMarkupWrap":353,"./invariant":357}],349:[function(require,module){"use strict";function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction},{}],350:[function(require,module){"use strict";var emptyObject={};module.exports=emptyObject},{}],351:[function(require,module){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],352:[function(require,module){"use strict";function getActiveElement(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],353:[function(require,module){"use strict";function getMarkupWrap(nodeName){return dummyNode?void 0:invariant(!1),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||(dummyNode.innerHTML="*"===nodeName?"<link />":"<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=require("./ExecutionEnvironment"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap},svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap,shouldWrap[nodeName]=!0}),module.exports=getMarkupWrap},{"./ExecutionEnvironment":343,"./invariant":357}],354:[function(require,module){"use strict";function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],355:[function(require,module){"use strict";function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=/([A-Z])/g;module.exports=hyphenate},{}],356:[function(require,module){"use strict";function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}var hyphenate=require("./hyphenate"),msPattern=/^ms-/;module.exports=hyphenateStyleName},{"./hyphenate":355}],357:[function(require,module){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}throw error.framesToPop=1,error}};module.exports=invariant},{}],358:[function(require,module){"use strict";function isNode(object){return!(!object||!("function"==typeof Node?object instanceof Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}module.exports=isNode},{}],359:[function(require,module){"use strict";function isTextNode(object){return isNode(object)&&3==object.nodeType}var isNode=require("./isNode");module.exports=isTextNode},{"./isNode":358}],360:[function(require,module){"use strict";var invariant=require("./invariant"),keyMirror=function(obj){var key,ret={};obj instanceof Object&&!Array.isArray(obj)?void 0:invariant(!1);for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};module.exports=keyMirror},{"./invariant":357}],361:[function(require,module){"use strict";var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj)if(oneKeyObj.hasOwnProperty(key))return key;return null};module.exports=keyOf},{}],362:[function(require,module){"use strict";function mapObject(object,callback,context){if(!object)return null;var result={};for(var name in object)hasOwnProperty.call(object,name)&&(result[name]=callback.call(context,object[name],name,object));return result}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=mapObject},{}],363:[function(require,module){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)||(cache[string]=callback.call(this,string)),cache[string]}}module.exports=memoizeStringOnly},{}],364:[function(require,module){"use strict";var performance,ExecutionEnvironment=require("./ExecutionEnvironment");ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{}},{"./ExecutionEnvironment":343}],365:[function(require,module){"use strict";var performance=require("./performance"),curPerformance=performance;curPerformance&&curPerformance.now||(curPerformance=Date);var performanceNow=curPerformance.now.bind(curPerformance);module.exports=performanceNow},{"./performance":364}],366:[function(require,module){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var bHasOwnProperty=hasOwnProperty.bind(objB),i=0;i<keysA.length;i++)if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=shallowEqual},{}],367:[function(require,module){"use strict";function toArray(obj){var length=obj.length;if(Array.isArray(obj)||"object"!=typeof obj&&"function"!=typeof obj?invariant(!1):void 0,"number"!=typeof length?invariant(!1):void 0,0===length||length-1 in obj?void 0:invariant(!1),obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}for(var ret=Array(length),ii=0;length>ii;ii++)ret[ii]=obj[ii];return ret}var invariant=require("./invariant");module.exports=toArray},{"./invariant":357}],368:[function(require,module){"use strict";var emptyFunction=require("./emptyFunction"),warning=emptyFunction;module.exports=warning},{"./emptyFunction":349}],369:[function(require,module){"use strict";module.exports=require("./lib/React")},{"./lib/React":237}],370:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createStore(reducer,initialState){function getState(){return currentState}function subscribe(listener){listeners.push(listener);var isSubscribed=!0;return function(){if(isSubscribed){isSubscribed=!1;var index=listeners.indexOf(listener);listeners.splice(index,1)}}}function dispatch(action){if(!_utilsIsPlainObject2.default(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}return listeners.slice().forEach(function(listener){return listener()}),action}function replaceReducer(nextReducer){currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=initialState,listeners=[],isDispatching=!1;return dispatch({type:ActionTypes.INIT}),{dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer}}exports.__esModule=!0,exports.default=createStore;var _utilsIsPlainObject=require("./utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),ActionTypes={INIT:"@@redux/INIT"};exports.ActionTypes=ActionTypes},{"./utils/isPlainObject":376}],371:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _createStore=require("./createStore"),_createStore2=_interopRequireDefault(_createStore),_utilsCombineReducers=require("./utils/combineReducers"),_utilsCombineReducers2=_interopRequireDefault(_utilsCombineReducers),_utilsBindActionCreators=require("./utils/bindActionCreators"),_utilsBindActionCreators2=_interopRequireDefault(_utilsBindActionCreators),_utilsApplyMiddleware=require("./utils/applyMiddleware"),_utilsApplyMiddleware2=_interopRequireDefault(_utilsApplyMiddleware),_utilsCompose=require("./utils/compose"),_utilsCompose2=_interopRequireDefault(_utilsCompose);exports.createStore=_createStore2.default,exports.combineReducers=_utilsCombineReducers2.default,exports.bindActionCreators=_utilsBindActionCreators2.default,exports.applyMiddleware=_utilsApplyMiddleware2.default,exports.compose=_utilsCompose2.default},{"./createStore":370,"./utils/applyMiddleware":372,"./utils/bindActionCreators":373,"./utils/combineReducers":374,"./utils/compose":375}],372:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_len>_key;_key++)middlewares[_key]=arguments[_key];return function(next){return function(reducer,initialState){var store=next(reducer,initialState),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=_compose2.default.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=applyMiddleware;var _compose=require("./compose"),_compose2=_interopRequireDefault(_compose);module.exports=exports.default},{"./compose":375}],373:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators||void 0===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return _utilsMapValues2.default(actionCreators,function(actionCreator){return bindActionCreator(actionCreator,dispatch)})}exports.__esModule=!0,exports.default=bindActionCreators;var _utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues);module.exports=exports.default},{"../utils/mapValues":377}],374:[function(require,module,exports){(function(process){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type,actionName=actionType&&'"'+actionType.toString()+'"'||"an action";return'Reducer "'+key+'" returned undefined handling '+actionName+". To ignore an action, you must explicitly return the previous state."}function getUnexpectedStateKeyWarningMessage(inputState,outputState,action){var reducerKeys=Object.keys(outputState),argumentName=action&&action.type===_createStore.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===reducerKeys.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!_utilsIsPlainObject2.default(inputState))return"The "+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"');var unexpectedKeys=Object.keys(inputState).filter(function(key){return reducerKeys.indexOf(key)<0});return unexpectedKeys.length>0?"Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.'):void 0}function assertReducerSanity(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key],initialState=reducer(void 0,{type:_createStore.ActionTypes.INIT});if("undefined"==typeof initialState)throw new Error('Reducer "'+key+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var type="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof reducer(void 0,{type:type}))throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function combineReducers(reducers){var sanityError,finalReducers=_utilsPick2.default(reducers,function(val){return"function"==typeof val});try{assertReducerSanity(finalReducers)}catch(e){sanityError=e}var defaultState=_utilsMapValues2.default(finalReducers,function(){return void 0});return function(state,action){if(void 0===state&&(state=defaultState),sanityError)throw sanityError;var hasChanged=!1,finalState=_utilsMapValues2.default(finalReducers,function(reducer,key){var previousStateForKey=state[key],nextStateForKey=reducer(previousStateForKey,action);if("undefined"==typeof nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(key,action);throw new Error(errorMessage)}return hasChanged=hasChanged||nextStateForKey!==previousStateForKey,nextStateForKey});if("production"!==process.env.NODE_ENV){var warningMessage=getUnexpectedStateKeyWarningMessage(state,finalState,action);warningMessage&&console.error(warningMessage)}return hasChanged?finalState:state}}exports.__esModule=!0,exports.default=combineReducers;var _createStore=require("../createStore"),_utilsIsPlainObject=require("../utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),_utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues),_utilsPick=require("../utils/pick"),_utilsPick2=_interopRequireDefault(_utilsPick);module.exports=exports.default}).call(this,require("_process"))},{"../createStore":370,"../utils/isPlainObject":376,"../utils/mapValues":377,"../utils/pick":378,_process:44}],375:[function(require,module,exports){"use strict";function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_len>_key;_key++)funcs[_key]=arguments[_key];return function(arg){return funcs.reduceRight(function(composed,f){return f(composed)},arg)}}exports.__esModule=!0,exports.default=compose,module.exports=exports.default},{}],376:[function(require,module,exports){arguments[4][208][0].apply(exports,arguments)},{dup:208}],377:[function(require,module,exports){"use strict";function mapValues(obj,fn){return Object.keys(obj).reduce(function(result,key){return result[key]=fn(obj[key],key),result},{})}exports.__esModule=!0,exports.default=mapValues,module.exports=exports.default},{}],378:[function(require,module,exports){"use strict";function pick(obj,fn){return Object.keys(obj).reduce(function(result,key){return fn(obj[key])&&(result[key]=obj[key]),result},{})}exports.__esModule=!0,
exports.default=pick,module.exports=exports.default},{}],379:[function(require,module){!function(global,factory){"function"==typeof define&&define.amd?define(function(){return factory(global,global.document)}):"undefined"!=typeof module&&module.exports?module.exports=factory(global,global.document):global.Shake=factory(global,global.document)}("undefined"!=typeof window?window:this,function(window,document){"use strict";function Shake(options){if(this.hasDeviceMotion="ondevicemotion"in window,this.options={threshold:15,timeout:1e3},"object"==typeof options)for(var i in options)options.hasOwnProperty(i)&&(this.options[i]=options[i]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof document.CustomEvent)this.event=new document.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof document.createEvent)return!1;this.event=document.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return Shake.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},Shake.prototype.start=function(){this.reset(),this.hasDeviceMotion&&window.addEventListener("devicemotion",this,!1)},Shake.prototype.stop=function(){this.hasDeviceMotion&&window.removeEventListener("devicemotion",this,!1),this.reset()},Shake.prototype.devicemotion=function(e){var currentTime,timeDifference,current=e.accelerationIncludingGravity,deltaX=0,deltaY=0,deltaZ=0;return null===this.lastX&&null===this.lastY&&null===this.lastZ?(this.lastX=current.x,this.lastY=current.y,void(this.lastZ=current.z)):(deltaX=Math.abs(this.lastX-current.x),deltaY=Math.abs(this.lastY-current.y),deltaZ=Math.abs(this.lastZ-current.z),(deltaX>this.options.threshold&&deltaY>this.options.threshold||deltaX>this.options.threshold&&deltaZ>this.options.threshold||deltaY>this.options.threshold&&deltaZ>this.options.threshold)&&(currentTime=new Date,timeDifference=currentTime.getTime()-this.lastTime.getTime(),timeDifference>this.options.timeout&&(window.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=current.x,this.lastY=current.y,void(this.lastZ=current.z))},Shake.prototype.handleEvent=function(e){return"function"==typeof this[e.type]?this[e.type](e):void 0},Shake})},{}],380:[function(require,module,exports){(function(process){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getFormComponent(_x,_x2){var _again=!0;_function:for(;_again;){var type=_x,options=_x2;if(_again=!1,options.factory)return options.factory;if(type.getTcombFormFactory)return type.getTcombFormFactory(options);var name=_tcombValidation2.default.getTypeName(type);switch(type.meta.kind){case"irreducible":return type===_tcombValidation2.default.Boolean?Checkbox:type===_tcombValidation2.default.Date?Datetime:Textbox;case"struct":return Struct;case"list":return List;case"enums":return Select;case"maybe":case"subtype":_x=type.meta.type,_x2=options,_again=!0,name=void 0;continue _function;default:_tcombValidation2.default.fail("["+SOURCE+"] unsupported type "+name)}}}function sortByText(a,b){return a.text<b.text?-1:a.text>b.text?1:0}function getComparator(order){return{asc:sortByText,desc:function(a,b){return-sortByText(a,b)}}[order]}function toNull(value){return _tcombValidation2.default.String.is(value)&&""===value.trim()||Nil.is(value)?null:value}function parseNumber(value){var n=parseFloat(value),isNumeric=value-n+1>=0;return isNumeric?n:toNull(value)}function toSameLength(value,keys,uidGenerator){if(value.length===keys.length)return keys;for(var ret=[],i=0,len=value.length;len>i;i++)ret[i]=keys[i]||uidGenerator.next();return ret}exports.__esModule=!0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_util=require("./util"),_classnames=require("classnames"),_classnames2=_interopRequireDefault(_classnames),Nil=_tcombValidation2.default.Nil,assert=_tcombValidation2.default.assert,SOURCE="tcomb-form",noobj=Object.freeze({}),noarr=Object.freeze([]),noop=function(){};exports.getComponent=getFormComponent;var decorators={template:function(name){return function(Component){Component.prototype.getTemplate=function(){return this.props.options.template||this.props.ctx.templates[name]}}},attrs:function(Component){Component.prototype.getAttrs=function(){var attrs=_tcombValidation2.default.mixin({},this.props.options.attrs);if(attrs.id=this.getId(),attrs.name=this.getName(),attrs.className){var _attrs$className;attrs.className=(_attrs$className={},_attrs$className[_classnames2.default(attrs.className)]=!0,_attrs$className)}return attrs}},templates:function(Component){Component.prototype.getTemplates=function(){return _util.merge(this.props.ctx.templates,this.props.options.templates)}}};exports.decorators=decorators;var Component=function(_React$Component){function Component(props){_classCallCheck(this,Component),_React$Component.call(this,props),this.typeInfo=_util.getTypeInfo(props.type),this.state={hasError:!1,value:this.getTransformer().format(props.value)}}return _inherits(Component,_React$Component),_createClass(Component,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?null:value},parse:function(value){return value}},enumerable:!0}]),Component.prototype.getTransformer=function(){return this.props.options.transformer||this.constructor.transformer},Component.prototype.shouldComponentUpdate=function(nextProps,nextState){var should=nextState.value!==this.state.value||nextState.hasError!==this.state.hasError||nextProps.options!==this.props.options||nextProps.type!==this.props.type;return should},Component.prototype.componentWillReceiveProps=function(props){props.type!==this.props.type&&(this.typeInfo=_util.getTypeInfo(props.type));var value=this.getTransformer().format(props.value);this.setState({value:value})},Component.prototype.onChange=function(value){var _this=this;this.setState({value:value},function(){_this.props.onChange(value,_this.props.ctx.path)})},Component.prototype.getValidationOptions=function(){var context=this.props.context||this.props.ctx.context;return{path:this.props.ctx.path,context:_tcombValidation2.default.mixin(_tcombValidation2.default.mixin({},context),{options:this.props.options})}},Component.prototype.getValue=function(){return this.getTransformer().parse(this.state.value)},Component.prototype.isValueNully=function(){return Nil.is(this.getValue())},Component.prototype.removeErrors=function(){this.setState({hasError:!1})},Component.prototype.validate=function(){var result=_tcombValidation2.default.validate(this.getValue(),this.props.type,this.getValidationOptions());return this.setState({hasError:!result.isValid()}),result},Component.prototype.getAuto=function(){return this.props.options.auto||this.props.ctx.auto},Component.prototype.getI18n=function(){return this.props.options.i18n||this.props.ctx.i18n},Component.prototype.getDefaultLabel=function(){var label=this.props.ctx.label;if(label){var suffix=this.typeInfo.isMaybe?this.getI18n().optional:this.getI18n().required;return label+suffix}},Component.prototype.getLabel=function(){var label=this.props.options.label||this.props.options.legend;return Nil.is(label)&&"labels"===this.getAuto()&&(label=this.getDefaultLabel()),label},Component.prototype.getError=function(){if(this.hasError()){var error=this.props.options.error||this.typeInfo.getValidationErrorMessage;if(_tcombValidation2.default.Function.is(error)){var _getValidationOptions=this.getValidationOptions(),path=_getValidationOptions.path,context=_getValidationOptions.context;return error(this.getValue(),path,context)}return error}},Component.prototype.hasError=function(){return this.props.options.hasError||this.state.hasError},Component.prototype.getConfig=function(){return _util.merge(this.props.ctx.config,this.props.options.config)},Component.prototype.getId=function(){var attrs=this.props.options.attrs||noobj;return attrs.id?attrs.id:(this.uid||(this.uid=this.props.ctx.uidGenerator.next()),this.uid)},Component.prototype.getName=function(){return this.props.options.name||this.props.ctx.name||this.getId()},Component.prototype.getLocals=function(){var options=this.props.options,value=this.state.value;return{typeInfo:this.typeInfo,path:this.props.ctx.path,error:this.getError(),hasError:this.hasError(),label:this.getLabel(),onChange:this.onChange.bind(this),config:this.getConfig(),value:value,disabled:options.disabled,help:options.help,context:this.props.ctx.context}},Component.prototype.render=function(){var locals=this.getLocals();"production"!==process.env.NODE_ENV&&assert(_tcombValidation2.default.Function.is(this.getTemplate),"["+SOURCE+"] missing getTemplate method of component "+this.constructor.name);var template=this.getTemplate(),vdom=template(locals);"production"!==process.env.NODE_ENV&&(_react2.default.isValidElement(vdom)||_tcombValidation2.default.Function.is(template.toReactElement)||console.warn("["+SOURCE+"] missing toReactElement static function in template "+template.name));var toReactElement=template.toReactElement||_uvdomReact.compile;return toReactElement(vdom)},Component}(_react2.default.Component);exports.Component=Component;var Textbox=function(_Component){function Textbox(){_classCallCheck(this,_Textbox),_Component.apply(this,arguments)}_inherits(Textbox,_Component),Textbox.prototype.getTransformer=function(){var options=this.props.options;return options.transformer?options.transformer:this.typeInfo.innerType===_tcombValidation2.default.Number?Textbox.numberTransformer:Textbox.transformer},Textbox.prototype.getPlaceholder=function(){var attrs=this.props.options.attrs||noobj,placeholder=attrs.placeholder;return Nil.is(placeholder)&&"placeholders"===this.getAuto()&&(placeholder=this.getDefaultLabel()),placeholder},Textbox.prototype.getLocals=function(){var locals=_Component.prototype.getLocals.call(this);return locals.attrs=this.getAttrs(),locals.attrs.placeholder=this.getPlaceholder(),locals.type=this.props.options.type||"text",locals},_createClass(Textbox,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?null:value},parse:toNull},enumerable:!0},{key:"numberTransformer",value:{format:function(value){return Nil.is(value)?null:String(value)},parse:parseNumber},enumerable:!0}]);var _Textbox=Textbox;return Textbox=decorators.template("textbox")(Textbox)||Textbox,Textbox=decorators.attrs(Textbox)||Textbox}(Component);exports.Textbox=Textbox;var Checkbox=function(_Component2){function Checkbox(){_classCallCheck(this,_Checkbox),_Component2.apply(this,arguments)}_inherits(Checkbox,_Component2),Checkbox.prototype.getLocals=function(){var locals=_Component2.prototype.getLocals.call(this);return locals.attrs=this.getAttrs(),locals.label=locals.label||this.getDefaultLabel(),locals},_createClass(Checkbox,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?!1:value},parse:function(value){return value}},enumerable:!0}]);var _Checkbox=Checkbox;return Checkbox=decorators.template("checkbox")(Checkbox)||Checkbox,Checkbox=decorators.attrs(Checkbox)||Checkbox}(Component);exports.Checkbox=Checkbox;var Select=function(_Component3){function Select(){_classCallCheck(this,_Select),_Component3.apply(this,arguments)}_inherits(Select,_Component3),Select.prototype.getTransformer=function(){var options=this.props.options;return options.transformer?options.transformer:this.isMultiple()?Select.multipleTransformer:Select.transformer(this.getNullOption())},Select.prototype.getNullOption=function(){return this.props.options.nullOption||{value:"",text:"-"}},Select.prototype.isMultiple=function(){return"list"===this.typeInfo.innerType.meta.kind},Select.prototype.getEnum=function(){return this.isMultiple()?_util.getTypeInfo(this.typeInfo.innerType.meta.type).innerType:this.typeInfo.innerType},Select.prototype.getOptions=function(){var options=this.props.options,items=options.options?options.options.slice():_util.getOptionsOfEnum(this.getEnum());options.order&&items.sort(getComparator(options.order));var nullOption=this.getNullOption();return this.isMultiple()||options.nullOption===!1||items.unshift(nullOption),items},Select.prototype.getLocals=function(){var locals=_Component3.prototype.getLocals.call(this);return locals.attrs=this.getAttrs(),locals.options=this.getOptions(),locals.isMultiple=this.isMultiple(),locals},_createClass(Select,null,[{key:"transformer",value:function(nullOption){return{format:function(value){return Nil.is(value)&&nullOption?nullOption.value:value},parse:function(value){return nullOption&&nullOption.value===value?null:value}}},enumerable:!0},{key:"multipleTransformer",value:{format:function(value){return Nil.is(value)?noarr:value},parse:function(value){return value}},enumerable:!0}]);var _Select=Select;return Select=decorators.template("select")(Select)||Select,Select=decorators.attrs(Select)||Select}(Component);exports.Select=Select;var Radio=function(_Component4){function Radio(){_classCallCheck(this,_Radio),_Component4.apply(this,arguments)}_inherits(Radio,_Component4),Radio.prototype.getOptions=function(){var options=this.props.options,items=options.options?options.options.slice():_util.getOptionsOfEnum(this.typeInfo.innerType);return options.order&&items.sort(getComparator(options.order)),items},Radio.prototype.getLocals=function(){var locals=_Component4.prototype.getLocals.call(this);return locals.attrs=this.getAttrs(),locals.options=this.getOptions(),locals},_createClass(Radio,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?null:value},parse:function(value){return value}},enumerable:!0}]);var _Radio=Radio;return Radio=decorators.template("radio")(Radio)||Radio,Radio=decorators.attrs(Radio)||Radio}(Component);exports.Radio=Radio;var defaultDatetimeValue=Object.freeze([null,null,null]),Datetime=function(_Component5){function Datetime(){_classCallCheck(this,_Datetime),_Component5.apply(this,arguments)}_inherits(Datetime,_Component5),Datetime.prototype.getOrder=function(){return this.props.options.order||["M","D","YY"]},Datetime.prototype.getLocals=function(){var locals=_Component5.prototype.getLocals.call(this);return locals.attrs=this.getAttrs(),locals.order=this.getOrder(),locals},_createClass(Datetime,null,[{key:"transformer",value:{format:function(value){return _tcombValidation2.default.Array.is(value)?value:_tcombValidation2.default.Date.is(value)?[value.getFullYear(),value.getMonth(),value.getDate()].map(String):defaultDatetimeValue},parse:function(value){var numbers=value.map(parseNumber);return numbers.every(_tcombValidation2.default.Number.is)?new Date(numbers[0],numbers[1],numbers[2]):numbers.every(Nil.is)?null:numbers}},enumerable:!0}]);var _Datetime=Datetime;return Datetime=decorators.template("date")(Datetime)||Datetime,Datetime=decorators.attrs(Datetime)||Datetime}(Component);exports.Datetime=Datetime;var Struct=function(_Component6){function Struct(){_classCallCheck(this,_Struct),_Component6.apply(this,arguments)}_inherits(Struct,_Component6),Struct.prototype.isValueNully=function(){var _this2=this;return Object.keys(this.refs).every(function(ref){return _this2.refs[ref].isValueNully()})},Struct.prototype.removeErrors=function(){var _this3=this;this.setState({hasError:!1}),Object.keys(this.refs).forEach(function(ref){return _this3.refs[ref].removeErrors()})},Struct.prototype.getValue=function(){var value={},props=this.getTypeProps();for(var ref in props)this.refs.hasOwnProperty(ref)&&(value[ref]=this.refs[ref].getValue());return this.getTransformer().parse(value)},Struct.prototype.validate=function(){var value={},errors=[],hasError=!1,result=void 0;if(this.typeInfo.isMaybe&&this.isValueNully())return this.removeErrors(),new _tcombValidation2.default.ValidationResult({errors:[],value:null});var props=this.getTypeProps();for(var ref in props)this.refs.hasOwnProperty(ref)&&(result=this.refs[ref].validate(),errors=errors.concat(result.errors),value[ref]=result.value);if(0===errors.length){var InnerType=this.typeInfo.innerType;value=new InnerType(value),this.typeInfo.isSubtype&&0===errors.length&&(result=_tcombValidation2.default.validate(value,this.props.type,this.getValidationOptions()),hasError=!result.isValid(),errors=errors.concat(result.errors))}return this.setState({hasError:hasError}),new _tcombValidation2.default.ValidationResult({errors:errors,value:value})},Struct.prototype.onChange=function(fieldName,fieldValue,path,kind){var _this4=this,value=_tcombValidation2.default.mixin({},this.state.value);value[fieldName]=fieldValue,this.setState({value:value},function(){_this4.props.onChange(value,path,kind)})},Struct.prototype.getTemplate=function(){return this.props.options.template||this.getTemplates().struct},Struct.prototype.getTypeProps=function(){return this.typeInfo.innerType.meta.props},Struct.prototype.getOrder=function(){return this.props.options.order||Object.keys(this.getTypeProps())},Struct.prototype.getInputs=function(){var _props=this.props,options=_props.options,ctx=_props.ctx,props=this.getTypeProps(),auto=this.getAuto(),i18n=this.getI18n(),config=this.getConfig(),templates=this.getTemplates(),value=this.state.value,inputs={};for(var prop in props)if(props.hasOwnProperty(prop)){var propType=props[prop],propOptions=options.fields&&options.fields[prop]?options.fields[prop]:noobj;inputs[prop]=_react2.default.createElement(getFormComponent(propType,propOptions),{key:prop,ref:prop,type:propType,options:propOptions,value:value[prop],onChange:this.onChange.bind(this,prop),ctx:{context:ctx.context,uidGenerator:ctx.uidGenerator,auto:auto,config:config,name:ctx.name?ctx.name+"["+prop+"]":prop,label:_util.humanize(prop),i18n:i18n,templates:templates,path:ctx.path.concat(prop)}})}return inputs},Struct.prototype.getLocals=function(){var options=this.props.options,locals=_Component6.prototype.getLocals.call(this);return locals.order=this.getOrder(),locals.inputs=this.getInputs(),locals.className=options.className,locals},_createClass(Struct,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?noobj:value},parse:function(value){return value}},enumerable:!0}]);var _Struct=Struct;return Struct=decorators.templates(Struct)||Struct}(Component);exports.Struct=Struct;var List=function(_Component7){function List(props){_classCallCheck(this,_List),_Component7.call(this,props),this.state.keys=this.state.value.map(function(){return props.ctx.uidGenerator.next()})}_inherits(List,_Component7),_createClass(List,null,[{key:"transformer",value:{format:function(value){return Nil.is(value)?noarr:value},parse:function(value){return value}},enumerable:!0}]),List.prototype.componentWillReceiveProps=function(props){props.type!==this.props.type&&(this.typeInfo=_util.getTypeInfo(props.type));var value=this.getTransformer().format(props.value);this.setState({value:value,keys:toSameLength(value,this.state.keys,props.ctx.uidGenerator)})},List.prototype.isValueNully=function(){return 0===this.state.value.length},List.prototype.removeErrors=function(){var _this5=this;this.setState({hasError:!1}),Object.keys(this.refs).forEach(function(ref){return _this5.refs[ref].removeErrors()})},List.prototype.getValue=function(){for(var value=[],i=0,len=this.state.value.length;len>i;i++)value.push(this.refs[i].getValue());return this.getTransformer().parse(value)},List.prototype.validate=function(){var value=[],errors=[],hasError=!1,result=void 0;if(this.typeInfo.isMaybe&&this.isValueNully())return this.removeErrors(),new _tcombValidation2.default.ValidationResult({errors:[],value:null});for(var i=0,len=this.state.value.length;len>i;i++)result=this.refs[i].validate(),errors=errors.concat(result.errors),value.push(result.value);return this.typeInfo.isSubtype&&0===errors.length&&(result=_tcombValidation2.default.validate(value,this.props.type,this.getValidationOptions()),hasError=!result.isValid(),errors=errors.concat(result.errors)),this.setState({hasError:hasError}),new _tcombValidation2.default.ValidationResult({errors:errors,value:value})},List.prototype.onChange=function(value,keys,path,kind){var _this6=this,allkeys=toSameLength(value,keys,this.props.ctx.uidGenerator);this.setState({value:value,keys:allkeys},function(){_this6.props.onChange(value,path,kind)})},List.prototype.addItem=function(evt){evt.preventDefault();var value=this.state.value.concat(void 0),keys=this.state.keys.concat(this.props.ctx.uidGenerator.next());this.onChange(value,keys,this.props.ctx.path.concat(value.length-1),"add")},List.prototype.onItemChange=function(itemIndex,itemValue,path,kind){var value=this.state.value.slice();value[itemIndex]=itemValue,this.onChange(value,this.state.keys,path,kind)},List.prototype.removeItem=function(i,evt){evt.preventDefault();var value=this.state.value.slice();value.splice(i,1);var keys=this.state.keys.slice();keys.splice(i,1),this.onChange(value,keys,this.props.ctx.path.concat(i),"remove")},List.prototype.moveUpItem=function(i,evt){evt.preventDefault(),i>0&&this.onChange(_util.move(this.state.value.slice(),i,i-1),_util.move(this.state.keys.slice(),i,i-1),this.props.ctx.path.concat(i),"moveUp")},List.prototype.moveDownItem=function(i,evt){evt.preventDefault(),i<this.state.value.length-1&&this.onChange(_util.move(this.state.value.slice(),i,i+1),_util.move(this.state.keys.slice(),i,i+1),this.props.ctx.path.concat(i),"moveDown")},List.prototype.getTemplate=function(){return this.props.options.template||this.getTemplates().list},List.prototype.getItems=function(){var _this7=this,_props2=this.props,options=_props2.options,ctx=_props2.ctx,auto=this.getAuto(),i18n=this.getI18n(),config=this.getConfig(),templates=this.getTemplates(),value=this.state.value,type=this.typeInfo.innerType.meta.type,ItemComponent=getFormComponent(type,options.item||noobj);return value.map(function(itemValue,i){var buttons=[];return options.disableRemove||buttons.push({type:"remove",label:i18n.remove,click:_this7.removeItem.bind(_this7,i)}),options.disableOrder||buttons.push({type:"move-up",label:i18n.up,click:_this7.moveUpItem.bind(_this7,i)}),options.disableOrder||buttons.push({type:"move-down",label:i18n.down,click:_this7.moveDownItem.bind(_this7,i)}),{input:_react2.default.createElement(ItemComponent,{ref:i,type:type,options:options.item||noobj,value:itemValue,onChange:_this7.onItemChange.bind(_this7,i),ctx:{context:ctx.context,uidGenerator:ctx.uidGenerator,auto:auto,config:config,i18n:i18n,name:ctx.name?ctx.name+"["+i+"]":String(i),templates:templates,path:ctx.path.concat(i)}}),key:_this7.state.keys[i],buttons:buttons}})},List.prototype.getLocals=function(){var options=this.props.options,i18n=this.getI18n(),locals=_Component7.prototype.getLocals.call(this);return locals.add=options.disableAdd?null:{type:"add",label:i18n.add,click:this.addItem.bind(this)},locals.items=this.getItems(),locals.className=options.className,locals};var _List=List;return List=decorators.templates(List)||List}(Component);exports.List=List;var Form=function(_React$Component2){function Form(){_classCallCheck(this,Form),_React$Component2.apply(this,arguments)}return _inherits(Form,_React$Component2),Form.prototype.validate=function(){return this.refs.input.validate()},Form.prototype.getValue=function(){var result=this.validate();return result.isValid()?result.value:null},Form.prototype.getComponent=function(path){var points=_tcombValidation2.default.String.is(path)?path.split("."):path;return points.reduce(function(input,name){return input.refs[name]},this.refs.input)},Form.prototype.getUIDGenerator=function(){return this.uidGenerator=this.uidGenerator||new _util.UIDGenerator(this._reactInternalInstance?this._reactInternalInstance._rootNodeID:""),this.uidGenerator},Form.prototype.render=function(){var type=this.props.type,options=this.props.options||noobj,i18n=Form.i18n,templates=Form.templates;assert(_tcombValidation2.default.isType(type),"["+SOURCE+"] missing required prop type"),assert(_tcombValidation2.default.Object.is(options),"["+SOURCE+"] prop options must be an object"),assert(_tcombValidation2.default.Object.is(templates),"["+SOURCE+"] missing templates config"),assert(_tcombValidation2.default.Object.is(i18n),"["+SOURCE+"] missing i18n config");var uidGenerator=this.getUIDGenerator();return _react2.default.createElement(getFormComponent(type,options),{ref:"input",type:type,options:options,value:this.props.value,onChange:this.props.onChange||noop,ctx:this.props.ctx||{context:this.props.context,uidGenerator:uidGenerator,auto:"labels",templates:templates,i18n:i18n,path:[]}})},Form}(_react2.default.Component);exports.Form=Form}).call(this,require("_process"))},{"./util":397,_process:44,classnames:398,react:369,"tcomb-validation":399,"uvdom/react":422}],381:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default={optional:" (optional)",required:"",add:"Add",remove:"Remove",up:"Up",down:"Down"},module.exports=exports.default},{}],382:[function(require,module){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_components=require("./components"),components=_interopRequireWildcard(_components);_tcombValidation2.default.form=components,_tcombValidation2.default.form.File=_tcombValidation2.default.irreducible("File",function(x){return x instanceof File}),module.exports=_tcombValidation2.default},{"./components":380,"tcomb-validation":399}],383:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _=require("./"),_2=_interopRequireDefault(_),_templatesBootstrap=require("./templates/bootstrap"),_templatesBootstrap2=_interopRequireDefault(_templatesBootstrap),_i18nEn=require("./i18n/en"),_i18nEn2=_interopRequireDefault(_i18nEn);_2.default.form.Form.templates=_templatesBootstrap2.default,_2.default.form.Form.i18n=_i18nEn2.default,exports.default=_2.default,module.exports=exports.default},{"./":382,"./i18n/en":381,"./templates/bootstrap":391}],384:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),Positive=_tcombValidation2.default.subtype(_tcombValidation2.default.Num,function(n){return n%1===0&&n>=0},"Positive"),Cols=_tcombValidation2.default.tuple([Positive,Positive],"Cols"),Breakpoints=_tcombValidation2.default.struct({xs:_tcombValidation2.default.maybe(Cols),sm:_tcombValidation2.default.maybe(Cols),md:_tcombValidation2.default.maybe(Cols),lg:_tcombValidation2.default.maybe(Cols)},"Breakpoints");Breakpoints.prototype.getBreakpoints=function(index){var breakpoints={};for(var size in this)this.hasOwnProperty(size)&&!_tcombValidation2.default.Nil.is(this[size])&&(breakpoints[size]=this[size][index]);return breakpoints},Breakpoints.prototype.getLabelClassName=function(){return _uvdomBootstrap2.default.getBreakpoints(this.getBreakpoints(0))},Breakpoints.prototype.getInputClassName=function(){return _uvdomBootstrap2.default.getBreakpoints(this.getBreakpoints(1))},Breakpoints.prototype.getOffsetClassName=function(){return _tcombValidation2.default.mixin(_uvdomBootstrap2.default.getOffsets(this.getBreakpoints(1)),_uvdomBootstrap2.default.getBreakpoints(this.getBreakpoints(1)))},exports.default=Breakpoints,module.exports=exports.default},{"tcomb-validation":399,"uvdom-bootstrap":401}],385:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),Size=_tcombValidation2.default.enums.of("xs sm md lg","Size");exports.default=Size,module.exports=exports.default},{"tcomb-validation":399}],386:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(){function checkbox(locals){locals.config=checkbox.getConfig(locals);var children=locals.config.horizontal?checkbox.renderHorizontal(locals):checkbox.renderVertical(locals);return checkbox.renderFormGroup(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return checkbox.getConfig=overrides.getConfig||function(locals){return new CheckboxConfig(locals.config||{})},checkbox.getAttrs=overrides.getAttrs||function(locals){var attrs=_tcombValidation2.default.mixin({},locals.attrs);return attrs.type="checkbox",attrs.disabled=locals.disabled,attrs.checked=locals.value,attrs.onChange=function(evt){return locals.onChange(evt.target.checked)},locals.help&&(attrs["aria-describedby"]=attrs["aria-describedby"]||attrs.id+"-tip"),attrs},checkbox.renderCheckbox=overrides.renderCheckbox||function(locals){var attrs=checkbox.getAttrs(locals);return _uvdomBootstrap2.default.getCheckbox(attrs,locals.label)},checkbox.renderError=overrides.renderError||function(locals){return _getError2.default(locals)},checkbox.renderHelp=overrides.renderHelp||function(locals){return _getHelp2.default(locals)},checkbox.renderVertical=overrides.renderVertical||function(locals){return[checkbox.renderCheckbox(locals),checkbox.renderError(locals),checkbox.renderHelp(locals)]},checkbox.renderHorizontal=overrides.renderHorizontal||function(locals){return{tag:"div",attrs:{className:locals.config.horizontal.getOffsetClassName()},children:[checkbox.renderCheckbox(locals),checkbox.renderError(locals),checkbox.renderHelp(locals)]}},checkbox.renderFormGroup=overrides.renderFormGroup||function(children,locals){var className="form-group-depth-"+locals.path.length;return locals.path.length>0&&(className+=" form-group-"+locals.path.join("-")),_uvdomBootstrap2.default.getFormGroup({className:className,hasError:locals.hasError,children:children})},checkbox.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},checkbox.toReactElement=_uvdomReact.compile,checkbox}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),_Breakpoints=require("./Breakpoints"),_Breakpoints2=_interopRequireDefault(_Breakpoints),_getError=require("./getError"),_getError2=_interopRequireDefault(_getError),_getHelp=require("./getHelp"),_getHelp2=_interopRequireDefault(_getHelp),CheckboxConfig=_tcombValidation2.default.struct({
horizontal:_tcombValidation2.default.maybe(_Breakpoints2.default)},"CheckboxConfig");exports.default=create(),module.exports=exports.default},{"./Breakpoints":384,"./getError":388,"./getHelp":389,"tcomb-validation":399,"uvdom-bootstrap":401,"uvdom/react":422}],387:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function range(n){for(var result=[],i=1;n>=i;i++)result.push(i);return result}function padLeft(x,len){for(var str=String(x),times=len-str.length,i=0;times>i;i++)str="0"+str;return str}function toOption(value,text){return{tag:"option",attrs:{value:value+""},children:text}}function create(){function date(locals){locals.config=date.getConfig(locals),locals.attrs=date.getAttrs(locals);var children=locals.config.horizontal?date.renderHorizontal(locals):date.renderVertical(locals);return date.renderFormGroup(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return date.getConfig=overrides.getConfig||function(locals){return new DateConfig(locals.config||{})},date.getAttrs=overrides.getAttrs||function(locals){return _tcombValidation2.default.mixin({},locals.attrs)},date.renderLabel=overrides.renderLabel||function(locals){return _getLabel2.default({label:locals.label,breakpoints:locals.config.horizontal})},date.renderError=overrides.renderError||function(locals){return _getError2.default(locals)},date.renderHelp=overrides.renderHelp||function(locals){return _getHelp2.default(locals)},date.renderDate=overrides.renderDate||function(locals){function onDayChange(evt){value[2]="-"===evt.target.value?null:evt.target.value,locals.onChange(value)}function onMonthChange(evt){value[1]="-"===evt.target.value?null:evt.target.value,locals.onChange(value)}function onYearChange(evt){value[0]=""===evt.target.value.trim()?null:evt.target.value.trim(),locals.onChange(value)}var value=locals.value=locals.value.slice(),parts={D:{tag:"li",key:"D",children:{tag:"select",attrs:{disabled:locals.disabled,className:{"form-control":!0},value:value[2]},events:{change:onDayChange},children:days}},M:{tag:"li",key:"M",children:{tag:"select",attrs:{disabled:locals.disabled,className:{"form-control":!0},value:value[1]},events:{change:onMonthChange},children:months}},YY:{tag:"li",key:"YY",children:{tag:"input",attrs:{disabled:locals.disabled,type:"text",size:5,className:{"form-control":!0},value:value[0]},events:{change:onYearChange}}}};return{tag:"ul",attrs:{className:{"nav nav-pills":!0}},children:locals.order.map(function(id){return parts[id]})}},date.renderVertical=overrides.renderVertical||function(locals){return[date.renderLabel(locals),date.renderDate(locals),date.renderError(locals),date.renderHelp(locals)]},date.renderHorizontal=overrides.renderHorizontal||function(locals){var label=date.renderLabel(locals);return[label,{tag:"div",attrs:{className:label?locals.config.horizontal.getInputClassName():locals.config.horizontal.getOffsetClassName()},children:[date.renderDate(locals),date.renderError(locals),date.renderHelp(locals)]}]},date.renderFormGroup=overrides.renderFormGroup||function(children,locals){var className="form-group-depth-"+locals.path.length;return locals.path.length>0&&(className+=" form-group-"+locals.path.join("-")),_uvdomBootstrap2.default.getFormGroup({className:className,hasError:locals.hasError,children:children})},date.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},date.toReactElement=_uvdomReact.compile,date}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),_Breakpoints=require("./Breakpoints"),_Breakpoints2=_interopRequireDefault(_Breakpoints),_getLabel=require("./getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getError=require("./getError"),_getError2=_interopRequireDefault(_getError),_getHelp=require("./getHelp"),_getHelp2=_interopRequireDefault(_getHelp),DateConfig=_tcombValidation2.default.struct({horizontal:_tcombValidation2.default.maybe(_Breakpoints2.default)},"DateConfig"),nullOption=[toOption("","-")],days=nullOption.concat(range(31).map(function(i){return toOption(i,padLeft(i,2))})),months=nullOption.concat(range(12).map(function(i){return toOption(i-1,padLeft(i,2))}));exports.default=create(),module.exports=exports.default},{"./Breakpoints":384,"./getError":388,"./getHelp":389,"./getLabel":390,"tcomb-validation":399,"uvdom-bootstrap":401,"uvdom/react":422}],388:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getError(_ref){var hasError=_ref.hasError,error=_ref.error;return hasError&&error?_uvdomBootstrap2.default.getErrorBlock({error:error,hasError:hasError}):void 0}exports.__esModule=!0,exports.default=getError;var _uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap);module.exports=exports.default},{"uvdom-bootstrap":401}],389:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getHelp(_ref){var help=_ref.help,attrs=_ref.attrs;return help?_uvdomBootstrap2.default.getHelpBlock({help:help,id:attrs.id+"-tip"}):void 0}exports.__esModule=!0,exports.default=getHelp;var _uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap);module.exports=exports.default},{"uvdom-bootstrap":401}],390:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLabel(_ref){var label=_ref.label,breakpoints=_ref.breakpoints,htmlFor=_ref.htmlFor,id=_ref.id,align=_ref.align;if(label){var className=breakpoints?breakpoints.getLabelClassName():null;return _uvdomBootstrap2.default.getLabel({align:align,className:className,htmlFor:htmlFor,id:id,label:label})}}exports.__esModule=!0,exports.default=getLabel;var _uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap);module.exports=exports.default},{"uvdom-bootstrap":401}],391:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _checkbox=require("./checkbox"),_checkbox2=_interopRequireDefault(_checkbox),_date=require("./date"),_date2=_interopRequireDefault(_date),_list=require("./list"),_list2=_interopRequireDefault(_list),_radio=require("./radio"),_radio2=_interopRequireDefault(_radio),_select=require("./select"),_select2=_interopRequireDefault(_select),_struct=require("./struct"),_struct2=_interopRequireDefault(_struct),_textbox=require("./textbox"),_textbox2=_interopRequireDefault(_textbox);exports.default={checkbox:_checkbox2.default,date:_date2.default,list:_list2.default,radio:_radio2.default,select:_select2.default,struct:_struct2.default,textbox:_textbox2.default},module.exports=exports.default},{"./checkbox":386,"./date":387,"./list":392,"./radio":393,"./select":394,"./struct":395,"./textbox":396}],392:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(){function list(locals){var children=[];return locals.help&&children.push(list.renderHelp(locals)),locals.error&&locals.hasError&&children.push(list.renderError(locals)),children=children.concat(locals.items.map(function(item){return 0===item.buttons.length?list.renderRowWithoutButtons(item,locals):list.renderRow(item,locals)})),locals.add&&children.push(list.renderAddButton(locals)),list.renderFieldset(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return list.renderHelp=overrides.renderHelp||function(locals){return _uvdomBootstrap2.default.getAlert({children:locals.help})},list.renderError=overrides.renderError||function(locals){return _uvdomBootstrap2.default.getAlert({type:"danger",children:locals.error})},list.renderRowWithoutButtons=overrides.renderRowWithoutButtons||function(item){return _uvdomBootstrap2.default.getRow({key:item.key,children:[_uvdomBootstrap2.default.getCol({breakpoints:{xs:12},children:item.input})]})},list.renderRowButton=overrides.renderRowButton||function(button){return _uvdomBootstrap2.default.getButton({click:button.click,key:button.type,label:button.label,className:"btn-"+button.type})},list.renderButtonGroup=overrides.renderButtonGroup||function(buttons){return _uvdomBootstrap2.default.getButtonGroup(buttons.map(list.renderRowButton))},list.renderRow=overrides.renderRow||function(row,locals){return _uvdomBootstrap2.default.getRow({key:row.key,children:[_uvdomBootstrap2.default.getCol({breakpoints:{sm:8,xs:6},children:row.input}),_uvdomBootstrap2.default.getCol({breakpoints:{sm:4,xs:6},children:list.renderButtonGroup(row.buttons,locals)})]})},list.renderAddButton=overrides.renderAddButton||function(locals){var button=locals.add;return{tag:"div",attrs:{className:"row"},children:{tag:"div",attrs:{className:"col-lg-12"},children:{tag:"div",attrs:{style:{marginBottom:"15px"}},children:_uvdomBootstrap2.default.getButton({click:button.click,label:button.label,className:"btn-"+button.type})}}}},list.renderFieldset=overrides.renderFieldset||function(children,locals){var _className,len=locals.path.length,className=(_className={fieldset:!0},_className["fieldset-depth-"+len]=!0,_className);return len>0&&(className["fieldset-"+locals.path.join("-")]=!0),locals.className&&(className[locals.className]=!0),_uvdomBootstrap2.default.getFieldset({className:className,disabled:locals.disabled,legend:locals.label,children:children})},list.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},list.toReactElement=_uvdomReact.compile,list}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap);exports.default=create(),module.exports=exports.default},{"uvdom-bootstrap":401,"uvdom/react":422}],393:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(){function radio(locals){locals.config=radio.getConfig(locals);var children=locals.config.horizontal?radio.renderHorizontal(locals):radio.renderVertical(locals);return radio.renderFormGroup(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return radio.getConfig=overrides.getConfig||function(locals){return new RadioConfig(locals.config||{})},radio.renderRadios=overrides.renderRadios||function(locals){var id=locals.attrs.id,onChange=function(evt){return locals.onChange(evt.target.value)};return locals.options.map(function(option,i){var attrs=_tcombValidation2.default.mixin({},locals.attrs);return attrs.type="radio",attrs.checked=option.value===locals.value,attrs.disabled=locals.disabled,attrs.value=option.value,attrs.autoFocus=attrs.autoFocus&&0===i,attrs.id=id+"_"+i,attrs["aria-describedby"]=attrs["aria-describedby"]||(locals.label?id:null),attrs.onChange=onChange,_uvdomBootstrap2.default.getRadio(attrs,option.text,option.value)})},radio.renderLabel=overrides.renderLabel||function(locals){return _getLabel2.default({label:locals.label,htmlFor:locals.attrs.id,breakpoints:locals.config.horizontal})},radio.renderError=overrides.renderError||function(locals){return _getError2.default(locals)},radio.renderHelp=overrides.renderHelp||function(locals){return _getHelp2.default(locals)},radio.renderVertical=overrides.renderVertical||function(locals){return[radio.renderLabel(locals),radio.renderRadios(locals),radio.renderError(locals),radio.renderHelp(locals)]},radio.renderHorizontal=overrides.renderHorizontal||function(locals){var label=radio.renderLabel(locals);return[label,{tag:"div",attrs:{className:label?locals.config.horizontal.getInputClassName():locals.config.horizontal.getOffsetClassName()},children:[radio.renderRadios(locals),radio.renderError(locals),radio.renderHelp(locals)]}]},radio.renderFormGroup=overrides.renderFormGroup||function(children,locals){var className="form-group-depth-"+locals.path.length;return locals.path.length>0&&(className+=" form-group-"+locals.path.join("-")),_uvdomBootstrap2.default.getFormGroup({className:className,hasError:locals.hasError,children:children})},radio.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},radio.toReactElement=_uvdomReact.compile,radio}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),_Breakpoints=require("./Breakpoints"),_Breakpoints2=_interopRequireDefault(_Breakpoints),_getLabel=require("./getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getError=require("./getError"),_getError2=_interopRequireDefault(_getError),_getHelp=require("./getHelp"),_getHelp2=_interopRequireDefault(_getHelp),RadioConfig=_tcombValidation2.default.struct({horizontal:_tcombValidation2.default.maybe(_Breakpoints2.default)},"RadioConfig");exports.default=create(),module.exports=exports.default},{"./Breakpoints":384,"./getError":388,"./getHelp":389,"./getLabel":390,"tcomb-validation":399,"uvdom-bootstrap":401,"uvdom/react":422}],394:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(){function select(locals){locals.config=select.getConfig(locals),locals.attrs=select.getAttrs(locals);var children=locals.config.horizontal?select.renderHorizontal(locals):select.renderVertical(locals);return select.renderFormGroup(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return select.getConfig=overrides.getConfig||function(locals){return new SelectConfig(locals.config||{})},select.getAttrs=overrides.getAttrs||function(locals){var attrs=_tcombValidation2.default.mixin({},locals.attrs);return attrs.className=_tcombValidation2.default.mixin({},attrs.className),attrs.className["form-control"]=!0,attrs.multiple=locals.isMultiple,attrs.disabled=locals.disabled,attrs.value=locals.value,attrs.onChange=function(evt){var value=locals.isMultiple?Array.prototype.slice.call(evt.target.options).filter(function(option){return option.selected}).map(function(option){return option.value}):evt.target.value;locals.onChange(value)},locals.help&&(attrs["aria-describedby"]=attrs["aria-describedby"]||attrs.id+"-tip"),attrs},select.renderOptions=overrides.renderOptions||function(locals){return locals.options.map(function(x){return x.label?_uvdomBootstrap2.default.getOptGroup(x):_uvdomBootstrap2.default.getOption(x)})},select.renderSelect=overrides.renderSelect||function(locals){return{tag:"select",attrs:locals.attrs,children:select.renderOptions(locals)}},select.renderLabel=overrides.renderLabel||function(locals){return _getLabel2.default({label:locals.label,htmlFor:locals.attrs.id,breakpoints:locals.config.horizontal})},select.renderError=overrides.renderError||function(locals){return _getError2.default(locals)},select.renderHelp=overrides.renderHelp||function(locals){return _getHelp2.default(locals)},select.renderVertical=overrides.renderVertical||function(locals){return[select.renderLabel(locals),select.renderSelect(locals),select.renderError(locals),select.renderHelp(locals)]},select.renderHorizontal=overrides.renderHorizontal||function(locals){var label=select.renderLabel(locals);return[label,{tag:"div",attrs:{className:label?locals.config.horizontal.getInputClassName():locals.config.horizontal.getOffsetClassName()},children:[select.renderSelect(locals),select.renderError(locals),select.renderHelp(locals)]}]},select.renderFormGroup=overrides.renderFormGroup||function(children,locals){var className="form-group-depth-"+locals.path.length;return locals.path.length>0&&(className+=" form-group-"+locals.path.join("-")),_uvdomBootstrap2.default.getFormGroup({className:className,hasError:locals.hasError,children:children})},select.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},select.toReactElement=_uvdomReact.compile,select}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),_Breakpoints=require("./Breakpoints"),_Breakpoints2=_interopRequireDefault(_Breakpoints),_Size=require("./Size"),_Size2=_interopRequireDefault(_Size),_getLabel=require("./getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getError=require("./getError"),_getError2=_interopRequireDefault(_getError),_getHelp=require("./getHelp"),_getHelp2=_interopRequireDefault(_getHelp),SelectConfig=_tcombValidation2.default.struct({addonBefore:_tcombValidation2.default.Any,addonAfter:_tcombValidation2.default.Any,horizontal:_tcombValidation2.default.maybe(_Breakpoints2.default),size:_tcombValidation2.default.maybe(_Size2.default)},"SelectConfig");exports.default=create(),module.exports=exports.default},{"./Breakpoints":384,"./Size":385,"./getError":388,"./getHelp":389,"./getLabel":390,"tcomb-validation":399,"uvdom-bootstrap":401,"uvdom/react":422}],395:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(){function struct(locals){var children=[];return locals.help&&children.push(struct.renderHelp(locals)),locals.error&&locals.hasError&&children.push(struct.renderError(locals)),children=children.concat(locals.order.map(function(name){return locals.inputs[name]})),struct.renderFieldset(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return struct.renderHelp=overrides.renderHelp||function(locals){return _uvdomBootstrap2.default.getAlert({children:locals.help})},struct.renderError=overrides.renderError||function(locals){return _uvdomBootstrap2.default.getAlert({type:"danger",children:locals.error})},struct.renderFieldset=overrides.renderFieldset||function(children,locals){var _className,len=locals.path.length,className=(_className={fieldset:!0},_className["fieldset-depth-"+len]=!0,_className);return len>0&&(className["fieldset-"+locals.path.join("-")]=!0),locals.className&&(className[locals.className]=!0),_uvdomBootstrap2.default.getFieldset({className:className,disabled:locals.disabled,legend:locals.label,children:children})},struct.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},struct.toReactElement=_uvdomReact.compile,struct}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap);exports.default=create(),module.exports=exports.default},{"uvdom-bootstrap":401,"uvdom/react":422}],396:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInputGroupButton(button){return{tag:"div",attrs:{className:{"input-group-btn":!0}},children:button}}function create(){function textbox(locals){if(locals.config=textbox.getConfig(locals),locals.attrs=textbox.getAttrs(locals),"hidden"===locals.type)return textbox.renderHiddenTextbox(locals);var children=locals.config.horizontal?textbox.renderHorizontal(locals):textbox.renderVertical(locals);return textbox.renderFormGroup(children,locals)}var overrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return textbox.getConfig=overrides.getConfig||function(locals){return new TextboxConfig(locals.config||{})},textbox.getAttrs=overrides.getAttrs||function(locals){var attrs=_tcombValidation2.default.mixin({},locals.attrs);return attrs.type=locals.type,attrs.className=_tcombValidation2.default.mixin({},attrs.className),attrs.className["form-control"]=!0,attrs.disabled=locals.disabled,"file"!==locals.type&&(attrs.value=locals.value),attrs.onChange="file"===locals.type?function(evt){return locals.onChange(evt.target.files[0])}:function(evt){return locals.onChange(evt.target.value)},locals.help&&(attrs["aria-describedby"]=attrs["aria-describedby"]||attrs.id+"-tip"),attrs},textbox.renderHiddenTextbox=overrides.renderHiddenTextbox||function(locals){return{tag:"input",attrs:{type:"hidden",value:locals.value,name:locals.name}}},textbox.renderStatic=overrides.renderStatic||function(locals){return _uvdomBootstrap2.default.getStatic(locals.value)},textbox.renderTextbox=overrides.renderTextbox||function(locals){if("static"===locals.type)return textbox.renderStatic(locals);var ret="textarea"!==locals.type?textbox.renderInput(locals):textbox.renderTextarea(locals);return(locals.config.addonBefore||locals.config.addonAfter||locals.config.buttonBefore||locals.config.buttonAfter)&&(ret=textbox.renderInputGroup(ret,locals)),ret},textbox.renderInputGroup=overrides.renderInputGroup||function(input,locals){return _uvdomBootstrap2.default.getInputGroup([locals.config.buttonBefore?getInputGroupButton(locals.config.buttonBefore):null,locals.config.addonBefore?_uvdomBootstrap2.default.getAddon(locals.config.addonBefore):null,input,locals.config.addonAfter?_uvdomBootstrap2.default.getAddon(locals.config.addonAfter):null,locals.config.buttonAfter?getInputGroupButton(locals.config.buttonAfter):null])},textbox.renderInput=overrides.renderInput||function(locals){return{tag:"input",attrs:locals.attrs}},textbox.renderTextarea=overrides.renderTextarea||function(locals){return{tag:"textarea",attrs:locals.attrs}},textbox.renderLabel=overrides.renderLabel||function(locals){return _getLabel2.default({label:locals.label,htmlFor:locals.attrs.id,breakpoints:locals.config.horizontal})},textbox.renderError=overrides.renderError||function(locals){return _getError2.default(locals)},textbox.renderHelp=overrides.renderHelp||function(locals){return _getHelp2.default(locals)},textbox.renderVertical=overrides.renderVertical||function(locals){return[textbox.renderLabel(locals),textbox.renderTextbox(locals),textbox.renderError(locals),textbox.renderHelp(locals)]},textbox.renderHorizontal=overrides.renderHorizontal||function(locals){var label=textbox.renderLabel(locals);return[label,{tag:"div",attrs:{className:label?locals.config.horizontal.getInputClassName():locals.config.horizontal.getOffsetClassName()},children:[textbox.renderTextbox(locals),textbox.renderError(locals),textbox.renderHelp(locals)]}]},textbox.renderFormGroup=overrides.renderFormGroup||function(children,locals){var className="form-group-depth-"+locals.path.length;return locals.path.length>0&&(className+=" form-group-"+locals.path.join("-")),_uvdomBootstrap2.default.getFormGroup({className:className,hasError:locals.hasError,children:children})},textbox.clone=function(){var newOverrides=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return create(_extends({},overrides,newOverrides))},textbox.toReactElement=_uvdomReact.compile,textbox}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),_uvdomReact=require("uvdom/react"),_uvdomBootstrap=require("uvdom-bootstrap"),_uvdomBootstrap2=_interopRequireDefault(_uvdomBootstrap),_Breakpoints=require("./Breakpoints"),_Breakpoints2=_interopRequireDefault(_Breakpoints),_Size=require("./Size"),_Size2=_interopRequireDefault(_Size),_getLabel=require("./getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getError=require("./getError"),_getError2=_interopRequireDefault(_getError),_getHelp=require("./getHelp"),_getHelp2=_interopRequireDefault(_getHelp),TextboxConfig=_tcombValidation2.default.struct({addonBefore:_tcombValidation2.default.Any,addonAfter:_tcombValidation2.default.Any,horizontal:_tcombValidation2.default.maybe(_Breakpoints2.default),size:_tcombValidation2.default.maybe(_Size2.default),buttonBefore:_tcombValidation2.default.Any,buttonAfter:_tcombValidation2.default.Any},"TextboxConfig");exports.default=create(),module.exports=exports.default},{"./Breakpoints":384,"./Size":385,"./getError":388,"./getHelp":389,"./getLabel":390,"tcomb-validation":399,"uvdom-bootstrap":401,"uvdom/react":422}],397:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getOptionsOfEnum(type){var enums=type.meta.map;return Object.keys(enums).map(function(value){return{value:value,text:enums[value]}})}function getTypeInfo(type){for(var innerType=type,isMaybe=!1,isSubtype=!1,kind=void 0,innerGetValidationErrorMessage=void 0;innerType;)if(kind=innerType.meta.kind,_tcombValidation2.default.Function.is(innerType.getValidationErrorMessage)&&(innerGetValidationErrorMessage=innerType.getValidationErrorMessage),"maybe"!==kind){if("subtype"!==kind)break;isSubtype=!0,innerType=innerType.meta.type}else isMaybe=!0,innerType=innerType.meta.type;var getValidationErrorMessage=innerGetValidationErrorMessage?function(value,path,context){var result=_tcombValidation2.default.validate(value,type,{path:path,context:context});if(!result.isValid()){for(var i=0,len=result.errors.length;len>i;i++)if(_tcombValidation2.default.Function.is(result.errors[i].expected.getValidationErrorMessage))return result.errors[i].message;return innerGetValidationErrorMessage(value,path,context)}}:void 0;return{type:type,isMaybe:isMaybe,isSubtype:isSubtype,innerType:innerType,getValidationErrorMessage:getValidationErrorMessage}}function underscored(s){return s.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}function humanize(s){return capitalize(underscored(s).replace(/_id$/,"").replace(/_/g," "))}function merge(a,b){return _tcombValidation.mixin(_tcombValidation.mixin({},a),b,!0)}function move(arr,fromIndex,toIndex){var element=arr.splice(fromIndex,1)[0];return arr.splice(toIndex,0,element),arr}exports.__esModule=!0,exports.getOptionsOfEnum=getOptionsOfEnum,exports.getTypeInfo=getTypeInfo,exports.humanize=humanize,exports.merge=merge,exports.move=move;var _tcombValidation=require("tcomb-validation"),_tcombValidation2=_interopRequireDefault(_tcombValidation),UIDGenerator=function(){function UIDGenerator(seed){_classCallCheck(this,UIDGenerator),this.seed=seed,this.counter=0}return UIDGenerator.prototype.next=function(){return this.seed+this.counter++},UIDGenerator}();exports.UIDGenerator=UIDGenerator},{"tcomb-validation":399}],398:[function(require,module){!function(){"use strict";function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes+=" "+arg;else if(Array.isArray(arg))classes+=" "+classNames.apply(null,arg);else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&(classes+=" "+key)}}return classes.substr(1)}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return classNames}):window.classNames=classNames}()},{}],399:[function(require,module){"use strict";function getDefaultValidationErrorMessage(actual,expected,path){var expectedName=t.getTypeName(expected),to=path.length?"/"+path.join("/")+": "+expectedName:expectedName;return"Invalid value "+stringify(actual)+" supplied to "+to}function getValidationErrorMessage(actual,expected,path,context){return t.Function.is(expected.getValidationErrorMessage)?expected.getValidationErrorMessage(actual,path,context):getDefaultValidationErrorMessage(actual,expected,path)}function validate(x,type,options){options=options||{};var path=t.Array.is(options)?options:options.path||[];return new ValidationResult(recurse(x,type,path,options.context))}function recurse(x,type,path,context){return t.isType(type)?validators[type.meta.kind](x,type,path,context):validators.es6classes(x,type,path,context)}var t=require("tcomb"),stringify=t.stringify,ValidationError=t.struct({message:t.Str,actual:t.Any,expected:t.Any,path:t.list(t.union([t.Str,t.Num]))},"ValidationError");ValidationError.of=function(actual,expected,path,context){return new ValidationError({message:getValidationErrorMessage(actual,expected,path,context),actual:actual,expected:expected,path:path})};var ValidationResult=t.struct({errors:t.list(ValidationError),value:t.Any},"ValidationResult");ValidationResult.prototype.isValid=function(){return!this.errors.length},ValidationResult.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},ValidationResult.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+stringify(this.value)+"]":"[ValidationResult, false, ("+this.errors.map(function(err){return err.message}).join(", ")+")]"};var validators=validate.validators={};validators.es6classes=function(x,type,path,context){return{value:x,errors:x instanceof type?[]:[ValidationError.of(x,type,path,context)]}},validators.irreducible=validators.enums=function(x,type,path,context){return{value:x,errors:type.is(x)?[]:[ValidationError.of(x,type,path,context)]}},validators.list=function(x,type,path,context){if(!t.Arr.is(x))return{value:x,errors:[ValidationError.of(x,type,path,context)]};for(var ret={value:[],errors:[]},i=0,len=x.length;len>i;i++){var item=recurse(x[i],type.meta.type,path.concat(i),context);ret.value[i]=item.value,ret.errors=ret.errors.concat(item.errors)}return ret},validators.subtype=function(x,type,path,context){var ret=recurse(x,type.meta.type,path,context);return ret.errors.length?ret:(type.meta.predicate(ret.value)||(ret.errors=[ValidationError.of(x,type,path,context)]),ret)},validators.maybe=function(x,type,path,context){return t.Nil.is(x)?{value:null,errors:[]}:recurse(x,type.meta.type,path,context)},validators.struct=function(x,type,path,context){if(!t.Obj.is(x))return{value:x,errors:[ValidationError.of(x,type,path,context)]};if(type.is(x))return{value:x,errors:[]
};var ret={value:{},errors:[]},props=type.meta.props;for(var name in props)if(props.hasOwnProperty(name)){var prop=recurse(x[name],props[name],path.concat(name),context);ret.value[name]=prop.value,ret.errors=ret.errors.concat(prop.errors)}return ret.errors.length||(ret.value=new type(ret.value)),ret},validators.tuple=function(x,type,path,context){var types=type.meta.types,len=types.length;if(!t.Arr.is(x)||x.length>len)return{value:x,errors:[ValidationError.of(x,type,path,context)]};for(var ret={value:[],errors:[]},i=0;len>i;i++){var item=recurse(x[i],types[i],path.concat(i),context);ret.value[i]=item.value,ret.errors=ret.errors.concat(item.errors)}return ret},validators.dict=function(x,type,path,context){if(!t.Obj.is(x))return{value:x,errors:[ValidationError.of(x,type,path,context)]};var ret={value:{},errors:[]};for(var k in x)if(x.hasOwnProperty(k)){var subpath=path.concat(k),key=recurse(k,type.meta.domain,subpath,context),item=recurse(x[k],type.meta.codomain,subpath,context);ret.value[k]=item.value,ret.errors=ret.errors.concat(key.errors,item.errors)}return ret},validators.union=function(x,type,path,context){var ctor=type.dispatch(x);return t.Func.is(ctor)?recurse(x,ctor,path.concat(type.meta.types.indexOf(ctor)),context):{value:x,errors:[ValidationError.of(x,type,path,context)]}},validators.intersection=function(x,type,path,context){for(var types=type.meta.types,len=types.length,ret={value:x,errors:[]},i=0;len>i;i++){var item=recurse(x,types[i],path,context);ret.errors=ret.errors.concat(item.errors)}return ret},t.mixin(t,{ValidationError:ValidationError,ValidationResult:ValidationResult,validate:validate}),module.exports=t},{tcomb:400}],400:[function(require,module,exports){(function(process){"use strict";function isNil(x){return null===x||void 0===x}function isBoolean(x){return x===!0||x===!1}function isString(x){return"string"==typeof x}function isNumber(x){return"number"==typeof x&&isFinite(x)&&!isNaN(x)}function isFunction(x){return"function"==typeof x}function isArray(x){return x instanceof Array}function isObject(x){return!isNil(x)&&"object"==typeof x&&!isArray(x)}function isType(x){return isFunction(x)&&isObject(x.meta)}function isStruct(x){return isType(x)&&"struct"===x.meta.kind}function isMaybe(x){return isType(x)&&"maybe"===x.meta.kind}function isUnion(x){return isType(x)&&"union"===x.meta.kind}function isTypeName(name){return isNil(name)||isString(name)}function is(x,type){return isType(type)?type.is(x):x instanceof type}function isIdentity(type){return isType(type)?type.meta.identity:!0}function create(type,value,path){return isType(type)?isStruct(type)?new type(value,path):type(value,path):("production"!==process.env.NODE_ENV&&(path=path||[getFunctionName(type)],assert(value instanceof type,function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")})),value)}function getFunctionName(f){return f.displayName||f.name||"<function"+f.length+">"}function getTypeName(constructor){return isType(constructor)?constructor.displayName:getFunctionName(constructor)}function assert(guard,message){guard!==!0&&(isFunction(message)?message=message():isNil(message)&&(message='Assert failed (turn on "Pause on exceptions" in your Source panel)'),exports.fail(message))}function mixin(target,source,overwrite){if(isNil(source))return target;for(var k in source)source.hasOwnProperty(k)&&(overwrite!==!0&&"production"!==process.env.NODE_ENV&&assert(!target.hasOwnProperty(k),function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+k+'" of target object'}),target[k]=source[k]);return target}function forbidNewOperator(x,type){assert(!(x instanceof type),function(){return"Cannot use the new operator to instantiate the type "+getTypeName(type)})}function getShallowCopy(x){return isArray(x)?x.concat():isObject(x)?mixin({},x):x}function update(instance,spec){"production"!==process.env.NODE_ENV&&assert(isObject(spec),function(){return"Invalid argument spec "+exports.stringify(spec)+" supplied to function update(instance, spec): expected an object containing commands"});var value=getShallowCopy(instance),isChanged=!1;for(var k in spec)if(spec.hasOwnProperty(k)){if(update.commands.hasOwnProperty(k))return update.commands[k](spec[k],value);var newValue=update(value[k],spec[k]);isChanged=isChanged||newValue!==value[k],value[k]=newValue}return isChanged?value:instance}function $apply(f,value){return"production"!==process.env.NODE_ENV&&assert(isFunction(f),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),f(value)}function $push(elements,arr){return"production"!==process.env.NODE_ENV&&(assert(isArray(elements),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),assert(isArray(arr),"Invalid value supplied to immutability helper $push (expected an array)")),arr.concat(elements)}function $remove(keys,obj){"production"!==process.env.NODE_ENV&&(assert(isArray(keys),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),assert(isObject(obj),"Invalid value supplied to immutability helper $remove (expected an object)"));for(var i=0,len=keys.length;len>i;i++)delete obj[keys[i]];return obj}function $set(value){return value}function $splice(splices,arr){return"production"!==process.env.NODE_ENV&&(assert(list(Arr).is(splices),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),assert(isArray(arr),"Invalid value supplied to immutability helper $splice (expected an array)")),splices.reduce(function(acc,splice){return acc.splice.apply(acc,splice),acc},arr)}function $swap(config,arr){"production"!==process.env.NODE_ENV&&(assert(isObject(config),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),assert(isNumber(config.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),assert(isNumber(config.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),assert(isArray(arr),"Invalid value supplied to immutability helper $swap (expected an array)"));var element=arr[config.to];return arr[config.to]=arr[config.from],arr[config.from]=element,arr}function $unshift(elements,arr){return"production"!==process.env.NODE_ENV&&(assert(isArray(elements),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),assert(isArray(arr),"Invalid value supplied to immutability helper $unshift (expected an array)")),elements.concat(arr)}function $merge(obj,value){return mixin(mixin({},value),obj,!0)}function irreducible(name,predicate){function Irreducible(value,path){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Irreducible),path=path||[name],assert(predicate(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")})),value}return"production"!==process.env.NODE_ENV&&(assert(isString(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to irreducible(name, predicate) (expected a string)"}),assert(isFunction(predicate),"Invalid argument predicate "+exports.stringify(predicate)+" supplied to irreducible(name, predicate) (expected a function)")),Irreducible.meta={kind:"irreducible",name:name,identity:!0},Irreducible.displayName=name,Irreducible.is=predicate,Irreducible}function struct(props,name){function Struct(value,path){if(Struct.is(value))return value;if("production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isObject(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")+" (expected an object)"})),!(this instanceof Struct))return new Struct(value);for(var k in props)if(props.hasOwnProperty(k)){var expected=props[k],actual=value[k];this[k]=create(expected,actual,"production"!==process.env.NODE_ENV?path.concat(k+": "+getTypeName(expected)):null)}"production"!==process.env.NODE_ENV&&Object.freeze(this)}"production"!==process.env.NODE_ENV&&(assert(dict(Str,Func).is(props),function(){return"Invalid argument props "+exports.stringify(props)+" supplied to struct(props, [name]) combinator (expected a dictionary String -> Type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to struct(props, [name]) combinator (expected a string)"}));var displayName=name||struct.getDefaultName(props);return Struct.meta={kind:"struct",props:props,name:name,identity:!1},Struct.displayName=displayName,Struct.is=function(x){return x instanceof Struct},Struct.update=function(instance,spec){return new Struct(exports.update(instance,spec))},Struct.extend=function(structs,name){var props={},prototype={};[Struct].concat(structs).forEach(function(struct,i){isObject(struct)?mixin(props,struct):("production"!==process.env.NODE_ENV&&assert(isStruct(struct),function(){return"Invalid argument structs["+i+"] "+exports.stringify(struct)+" supplied to "+displayName+".extend(structs, name)"}),mixin(props,struct.meta.props),mixin(prototype,struct.prototype))});var ret=struct(props,name);return mixin(ret.prototype,prototype),ret},Struct}function union(types,name){function Union(value,path){if("production"===process.env.NODE_ENV&&identity)return value;var type=Union.dispatch(value);return!type&&Union.is(value)?value:("production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Union),path=path||[displayName],assert(isType(type),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")+" (no constructor returned by dispatch)"}),path[path.length-1]+="("+getTypeName(type)+")"),create(type,value,path))}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+exports.stringify(types)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to union(types, [name]) combinator (expected a string)"}));var displayName=name||union.getDefaultName(types),identity=types.every(isIdentity);return Union.meta={kind:"union",types:types,name:name,identity:identity},Union.displayName=displayName,Union.is=function(x){return types.some(function(type){return is(x,type)})},Union.dispatch=function(x){for(var i=0,len=types.length;len>i;i++){var type=types[i];if(isUnion(type)){var t=type.dispatch(x);if(!isNil(t))return t}else if(is(x,type))return type}},Union.update=function(instance,spec){return Union(exports.update(instance,spec))},Union}function intersection(types,name){function Intersection(value,path){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Intersection),path=path||[displayName],assert(Intersection.is(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")})),value}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction)&&types.length>=2,function(){return"Invalid argument types "+exports.stringify(types)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to intersection(types, [name]) combinator (expected a string)"}));var displayName=name||intersection.getDefaultName(types);return Intersection.meta={kind:"intersection",types:types,name:name,identity:!0},Intersection.displayName=displayName,Intersection.is=function(x){return types.every(function(type){return is(x,type)})},Intersection.update=function(instance,spec){return Intersection(exports.update(instance,spec))},Intersection}function maybe(type,name){function Maybe(value,path){return"production"!==process.env.NODE_ENV&&forbidNewOperator(this,Maybe),isNil(value)?null:create(type,value,path)}if(isMaybe(type)||type===Any||type===Nil)return type;"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+exports.stringify(type)+" supplied to maybe(type, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to maybe(type, [name]) combinator (expected a string)"}));var displayName=name||maybe.getDefaultName(type);return Maybe.meta={kind:"maybe",type:type,name:name,identity:isIdentity(type)},Maybe.displayName=displayName,Maybe.is=function(x){return isNil(x)||is(x,type)},Maybe}function enums(map,name){function Enums(value,path){return"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Enums),path=path||[displayName],assert(Enums.is(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")+" (expected one of "+exports.stringify(Object.keys(map))+")"})),value}"production"!==process.env.NODE_ENV&&(assert(isObject(map),function(){return"Invalid argument map "+exports.stringify(map)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to enums(map, [name]) combinator (expected a string)"}));var displayName=name||enums.getDefaultName(map);return Enums.meta={kind:"enums",map:map,name:name,identity:!0},Enums.displayName=displayName,Enums.is=function(x){return map.hasOwnProperty(x)},Enums}function tuple(types,name){function Tuple(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isArray(value)&&value.length===types.length,function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")+" (expected an array of length "+types.length+")"}));for(var idempotent=!0,ret=[],i=0,len=types.length;len>i;i++){var expected=types[i],actual=value[i],instance=create(expected,actual,"production"!==process.env.NODE_ENV?path.concat(i+": "+getTypeName(expected)):null);idempotent=idempotent&&actual===instance,ret.push(instance)}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isArray(types)&&types.every(isFunction),function(){return"Invalid argument types "+exports.stringify(types)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to tuple(types, [name]) combinator (expected a string)"}));var displayName=name||tuple.getDefaultName(types),identity=types.every(isIdentity);return Tuple.meta={kind:"tuple",types:types,name:name,identity:identity},Tuple.displayName=displayName,Tuple.is=function(x){return isArray(x)&&x.length===types.length&&types.every(function(type,i){return is(x[i],type)})},Tuple.update=function(instance,spec){return Tuple(exports.update(instance,spec))},Tuple}function refinement(type,predicate,name){function Refinement(value,path){"production"!==process.env.NODE_ENV&&(forbidNewOperator(this,Refinement),path=path||[displayName]);var x=create(type,value,path);return"production"!==process.env.NODE_ENV&&assert(predicate(x),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")}),x}"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+exports.stringify(type)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),assert(isFunction(predicate),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"}));var displayName=name||refinement.getDefaultName(type,predicate),identity=isIdentity(type);return Refinement.meta={kind:"subtype",type:type,predicate:predicate,name:name,identity:identity},Refinement.displayName=displayName,Refinement.is=function(x){return is(x,type)&&predicate(x)},Refinement.update=function(instance,spec){return Refinement(exports.update(instance,spec))},Refinement}function list(type,name){function List(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isArray(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")+" (expected an array of "+typeNameCache+")"}));for(var idempotent=!0,ret=[],i=0,len=value.length;len>i;i++){var actual=value[i],instance=create(type,actual,"production"!==process.env.NODE_ENV?path.concat(i+": "+typeNameCache):null);idempotent=idempotent&&actual===instance,ret.push(instance)}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isFunction(type),function(){return"Invalid argument type "+exports.stringify(type)+" supplied to list(type, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to list(type, [name]) combinator (expected a string)"}));var displayName=name||list.getDefaultName(type),typeNameCache=getTypeName(type),identity=isIdentity(type);return List.meta={kind:"list",type:type,name:name,identity:identity},List.displayName=displayName,List.is=function(x){return isArray(x)&&x.every(function(e){return is(e,type)})},List.update=function(instance,spec){return List(exports.update(instance,spec))},List}function dict(domain,codomain,name){function Dict(value,path){if("production"===process.env.NODE_ENV&&identity)return value;"production"!==process.env.NODE_ENV&&(path=path||[displayName],assert(isObject(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+path.join("/")}));var idempotent=!0,ret={};for(var k in value)if(value.hasOwnProperty(k)){k=create(domain,k,"production"!==process.env.NODE_ENV?path.concat(domainNameCache):null);var actual=value[k],instance=create(codomain,actual,"production"!==process.env.NODE_ENV?path.concat(k+": "+codomainNameCache):null);idempotent=idempotent&&actual===instance,ret[k]=instance}return idempotent&&(ret=value),"production"!==process.env.NODE_ENV&&Object.freeze(ret),ret}"production"!==process.env.NODE_ENV&&(assert(isFunction(domain),function(){return"Invalid argument domain "+exports.stringify(domain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isFunction(codomain),function(){return"Invalid argument codomain "+exports.stringify(codomain)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"}));var displayName=name||dict.getDefaultName(domain,codomain),domainNameCache=getTypeName(domain),codomainNameCache=getTypeName(codomain),identity=isIdentity(domain)&&isIdentity(codomain);return Dict.meta={kind:"dict",domain:domain,codomain:codomain,name:name,identity:identity},Dict.displayName=displayName,Dict.is=function(x){if(!isObject(x))return!1;for(var k in x)if(x.hasOwnProperty(k)&&(!is(k,domain)||!is(x[k],codomain)))return!1;return!0},Dict.update=function(instance,spec){return Dict(exports.update(instance,spec))},Dict}function isInstrumented(f){return isFunction(f)&&isObject(f.instrumentation)}function func(domain,codomain,name){function FuncType(value,curried){return isInstrumented(value)?("production"!==process.env.NODE_ENV&&assert(FuncType.is(value),function(){return"Invalid value "+exports.stringify(value)+" supplied to "+displayName}),value):FuncType.of(value,curried)}domain=isArray(domain)?domain:[domain],"production"!==process.env.NODE_ENV&&(assert(list(Func).is(domain),function(){return"Invalid argument domain "+exports.stringify(domain)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),assert(isFunction(codomain),function(){return"Invalid argument codomain "+exports.stringify(codomain)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),assert(isTypeName(name),function(){return"Invalid argument name "+exports.stringify(name)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"}));var displayName=name||func.getDefaultName(domain,codomain);return FuncType.meta={kind:"func",domain:domain,codomain:codomain,name:name},FuncType.displayName=displayName,FuncType.is=function(x){return isInstrumented(x)&&x.instrumentation.domain.length===domain.length&&x.instrumentation.domain.every(function(type,i){return type===domain[i]})&&x.instrumentation.codomain===codomain},FuncType.of=function(f,curried){function fn(){var args=Array.prototype.slice.call(arguments),len=curried?args.length:domain.length,argsType=tuple(domain.slice(0,len));if(args=argsType(args),len===domain.length)return create(codomain,f.apply(this,args));var g=Function.prototype.bind.apply(f,[this].concat(args)),newdomain=func(domain.slice(len),codomain);return newdomain.of(g,curried)}return"production"!==process.env.NODE_ENV&&(assert(isFunction(f),function(){return"Invalid argument f supplied to func.of "+displayName+" (expected a function)"}),assert(isNil(curried)||isBoolean(curried),function(){return"Invalid argument curried "+exports.stringify(curried)+" supplied to func.of "+displayName+" (expected a boolean)"})),FuncType.is(f)?f:(fn.instrumentation={domain:domain,codomain:codomain,f:f},fn.displayName=getFunctionName(f),fn)},FuncType}function match(x){for(var type,guard,f,count,i=1,len=arguments.length;len>i;)if(type=arguments[i],guard=arguments[i+1],f=arguments[i+2],isFunction(f)&&!isType(f)?i+=3:(f=guard,guard=Any.is,i+=2),"production"!==process.env.NODE_ENV&&(count=(count||0)+1,assert(isType(type),function(){return"Invalid type in clause #"+count}),assert(isFunction(guard),function(){return"Invalid guard in clause #"+count}),assert(isFunction(f),function(){return"Invalid block in clause #"+count})),type.is(x)&&guard(x))return f(x);exports.fail("Match error")}exports.stringify=function(x){try{return JSON.stringify(x,null,2)}catch(e){return String(x)}},exports.fail=function(message){throw new TypeError("[tcomb] "+message)},update.commands={$apply:$apply,$push:$push,$remove:$remove,$set:$set,$splice:$splice,$swap:$swap,$unshift:$unshift,$merge:$merge};var Any=irreducible("Any",function(){return!0}),Nil=irreducible("Nil",isNil),Str=irreducible("String",isString),Num=irreducible("Number",isNumber),Bool=irreducible("Boolean",isBoolean),Arr=irreducible("Array",isArray),Obj=irreducible("Object",isObject),Func=irreducible("Function",isFunction),Err=irreducible("Error",function(x){return x instanceof Error}),Re=irreducible("RegExp",function(x){return x instanceof RegExp}),Dat=irreducible("Date",function(x){return x instanceof Date});struct.getDefaultName=function(props){return"{"+Object.keys(props).map(function(prop){return prop+": "+getTypeName(props[prop])}).join(", ")+"}"},union.getDefaultName=function(types){return types.map(getTypeName).join(" | ")},intersection.getDefaultName=function(types){return types.map(getTypeName).join(" & ")},maybe.getDefaultName=function(type){return"?"+getTypeName(type)},enums.getDefaultName=function(map){return Object.keys(map).map(function(k){return exports.stringify(k)}).join(" | ")},enums.of=function(keys,name){keys=isString(keys)?keys.split(" "):keys;var value={};return keys.forEach(function(k){value[k]=k}),enums(value,name)},tuple.getDefaultName=function(types){return"["+types.map(getTypeName).join(", ")+"]"},refinement.getDefaultName=function(type,predicate){return"{"+getTypeName(type)+" | "+getFunctionName(predicate)+"}"},list.getDefaultName=function(type){return"Array<"+getTypeName(type)+">"},dict.getDefaultName=function(domain,codomain){return"{[key: "+getTypeName(domain)+"]: "+getTypeName(codomain)+"}"},func.getDefaultName=function(domain,codomain){return"("+domain.map(getTypeName).join(", ")+") => "+getTypeName(codomain)},mixin(exports,{is:is,isType:isType,getTypeName:getTypeName,mixin:mixin,update:update,assert:assert,Any:Any,Nil:Nil,Str:Str,String:Str,Num:Num,Number:Num,Bool:Bool,Boolean:Bool,Arr:Arr,Array:Arr,Obj:Obj,Object:Obj,Func:Func,Function:Func,Err:Err,Error:Err,Re:Re,RegExp:Re,Dat:Dat,Date:Dat,irreducible:irreducible,struct:struct,enums:enums,union:union,maybe:maybe,tuple:tuple,subtype:refinement,refinement:refinement,list:list,dict:dict,func:func,intersection:intersection,match:match})}).call(this,require("_process"))},{_process:44}],401:[function(require,module){module.exports={getAddon:require("./lib/getAddon"),getAlert:require("./lib/getAlert"),getBreakpoints:require("./lib/getBreakpoints"),getButton:require("./lib/getButton"),getButtonGroup:require("./lib/getButtonGroup"),getCheckbox:require("./lib/getCheckbox"),getCol:require("./lib/getCol"),getErrorBlock:require("./lib/getErrorBlock"),getFieldset:require("./lib/getFieldset"),getFormGroup:require("./lib/getFormGroup"),getHelpBlock:require("./lib/getHelpBlock"),getInputGroup:require("./lib/getInputGroup"),getLabel:require("./lib/getLabel"),getOffsets:require("./lib/getOffsets"),getOptGroup:require("./lib/getOptGroup"),getOption:require("./lib/getOption"),getRadio:require("./lib/getRadio"),getRow:require("./lib/getRow"),getStatic:require("./lib/getStatic")}},{"./lib/getAddon":402,"./lib/getAlert":403,"./lib/getBreakpoints":404,"./lib/getButton":405,"./lib/getButtonGroup":406,"./lib/getCheckbox":407,"./lib/getCol":408,"./lib/getErrorBlock":409,"./lib/getFieldset":410,"./lib/getFormGroup":411,"./lib/getHelpBlock":412,"./lib/getInputGroup":413,"./lib/getLabel":414,"./lib/getOffsets":415,"./lib/getOptGroup":416,"./lib/getOption":417,"./lib/getRadio":418,"./lib/getRow":419,"./lib/getStatic":420}],402:[function(require,module){"use strict";function getAddon(addon){return{tag:"span",attrs:{className:{"input-group-addon":!0}},children:addon}}module.exports=getAddon},{}],403:[function(require,module){"use strict";function getAlert(opts){var type=opts.type||"info",className={alert:!0};return className["alert-"+type]=!0,{tag:"div",attrs:{className:className},children:opts.children}}module.exports=getAlert},{}],404:[function(require,module){"use strict";function getBreakpoints(breakpoints){var className={};for(var size in breakpoints)breakpoints.hasOwnProperty(size)&&(className["col-"+size+"-"+breakpoints[size]]=!0);return className}module.exports=getBreakpoints},{}],405:[function(require,module){"use strict";function getButton(opts){var type=opts.type||"default",className={btn:!0,"btn-block":opts.block,active:opts.active};className["btn-"+type]=!0,opts.size&&(className["btn-"+opts.size]=!0),opts.className&&(className[opts.className]=!0);var events=opts.events||{click:opts.click};return{tag:"button",attrs:{type:"button",disabled:opts.disabled,className:className,autoFocus:opts.autoFocus},events:events,children:opts.label,key:opts.key}}module.exports=getButton},{}],406:[function(require,module){"use strict";function getButtonGroup(buttons){return{tag:"div",attrs:{className:{"btn-group":!0}},children:buttons}}module.exports=getButtonGroup},{}],407:[function(require,module){"use strict";function getCheckbox(attrs,label){return{tag:"div",attrs:{className:{checkbox:!0,disabled:attrs.disabled}},children:{tag:"label",attrs:{htmlFor:attrs.id},children:[{tag:"input",attrs:attrs}," ",label]}}}module.exports=getCheckbox},{}],408:[function(require,module){"use strict";function getCol(opts){var className=opts.breakpoints?getBreakpoints(opts.breakpoints):null;return{tag:"div",attrs:{className:className},children:opts.children}}var getBreakpoints=require("./getBreakpoints");module.exports=getCol},{"./getBreakpoints":404}],409:[function(require,module){"use strict";function getErrorBlock(opts){return{tag:"span",attrs:{className:{"help-block":!0,"error-block":opts.hasError}},children:opts.error}}module.exports=getErrorBlock},{}],410:[function(require,module){"use strict";function getFieldset(opts){var children=opts.children.slice();return opts.legend&&children.unshift({tag:"legend",children:opts.legend}),{tag:"fieldset",attrs:{className:opts.className,disabled:opts.disabled},children:children}}module.exports=getFieldset},{}],411:[function(require,module){"use strict";function getFormGroup(opts){var className={"form-group":!0,"has-error":opts.hasError};return opts.className&&(className[opts.className]=!0),{tag:"div",attrs:{className:className},children:opts.children}}module.exports=getFormGroup},{}],412:[function(require,module){"use strict";function getHelpBlock(opts){return{tag:"span",attrs:{className:{"help-block":!0,"error-block":opts.hasError},id:opts.id,role:"tooltip"},children:opts.help}}module.exports=getHelpBlock},{}],413:[function(require,module){"use strict";function getInputGroup(children){return{tag:"div",attrs:{className:{"input-group":!0}},children:children}}module.exports=getInputGroup},{}],414:[function(require,module){"use strict";function getLabel(opts){var className=mixin({"control-label":!0},opts.className);return opts.align&&(className["text-"+opts.align]=!0),{tag:"label",attrs:{htmlFor:opts.htmlFor,id:opts.id,className:className},children:opts.label}}var mixin=require("./mixin");module.exports=getLabel},{"./mixin":421}],415:[function(require,module){"use strict";function getOffsets(breakpoints){var className={};for(var size in breakpoints)breakpoints.hasOwnProperty(size)&&(className["col-"+size+"-offset-"+(12-breakpoints[size])]=!0);return className}module.exports=getOffsets},{}],416:[function(require,module){"use strict";function getOptGroup(opts){return{tag:"optgroup",attrs:{disabled:opts.disabled,label:opts.label},children:opts.options.map(getOption),key:opts.label}}var getOption=require("./getOption");module.exports=getOptGroup},{"./getOption":417}],417:[function(require,module){"use strict";function getOption(opts){return{tag:"option",attrs:{disabled:opts.disabled,value:opts.value},children:opts.text,key:opts.value}}module.exports=getOption},{}],418:[function(require,module){"use strict";function getRadio(attrs,text,key){return{tag:"div",attrs:{className:{radio:!0,disabled:attrs.disabled}},children:{tag:"label",attrs:{htmlFor:attrs.id},children:[{tag:"input",attrs:attrs}," ",text]},key:key}}module.exports=getRadio},{}],419:[function(require,module){"use strict";function getRow(opts){return{tag:"div",attrs:{className:{row:!0}},children:opts.children,key:opts.key}}module.exports=getRow},{}],420:[function(require,module){"use strict";function getStatic(value){return{tag:"p",attrs:{className:{"form-control-static":!0}},children:value}}module.exports=getStatic},{}],421:[function(require,module){"use strict";function mixin(a,b){if(!b)return a;for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);return a}module.exports=mixin},{}],422:[function(require,module){"use strict";function compile(x){if(React.isValidElement(x))return x;if(Array.isArray(x))return x.map(compile);if("object"==typeof x&&null!==x){var attrs=mixin({},x.attrs);if(attrs.className&&(attrs.className=cx(attrs.className)||null),null!=x.key&&(attrs.key=x.key),null!=x.ref&&(attrs.ref=x.ref),x.events)for(var name in x.events)attrs[camelizeEvent(name)]=x.events[name];var children=compile(x.children);return React.createElement.apply(React,[x.tag,attrs].concat(children))}return x}function camelizeEvent(name){return"on"+name.charAt(0).toUpperCase()+name.substring(1)}function mixin(x,y){if(!y)return x;for(var k in y)y.hasOwnProperty(k)&&(x[k]=y[k]);return x}var React=require("react"),cx=require("classnames");module.exports={compile:compile}},{classnames:398,react:369}],423:[function(require,module){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj.default:obj},_prototypeProperties=function(child,staticProps,instanceProps){
staticProps&&Object.defineProperties(child,staticProps),instanceProps&&Object.defineProperties(child.prototype,instanceProps)},_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},React=_interopRequire(require("react")),Route=_interopRequire(require("route-parser")),Router=function(_React$Component){function Router(props){var _this=this;_classCallCheck(this,Router),_get(Object.getPrototypeOf(Router.prototype),"constructor",this).call(this,props);var routes=Object.keys(this.props.routes).map(function(route){return{route:new Route(route),handler:_this.props.routes[route]}});this.state={url:window.location.hash.slice(1),routes:routes}}return _inherits(Router,_React$Component),_prototypeProperties(Router,null,{render:{value:function(){return this.getComponent()},writable:!0,configurable:!0},getComponent:{value:function(){var _this=this,url=""==this.state.url?"/":this.state.url;return this.state.routes.reduce(function(def,route){var props=route.route.match(url);return props?_this.createElement(route.handler,props):def},React.createElement("div",null,"404 not found"))},writable:!0,configurable:!0},createElement:{value:function(Handler,props){return React.createElement(Handler,_extends({},this.props,props))},writable:!0,configurable:!0},updateState:{value:function(){this._mounted&&this.setState({url:window.location.hash.slice(1)})},writable:!0,configurable:!0},componentDidMount:{value:function(){this._mounted=!0,window.addEventListener("hashchange",this.updateState.bind(this))},writable:!0,configurable:!0},componentWillUnmount:{value:function(){this._mounted=!1,window.removeEventListener("hashchange",this.updateState.bind(this))},writable:!0,configurable:!0}}),Router}(React.Component);module.exports=Router},{react:369,"route-parser":424}],424:[function(require,module){"use strict";var Route=require("./lib/route");module.exports=Route},{"./lib/route":425}],425:[function(require,module){"use strict";var Parser=require("./route/parser"),RegexpVisitor=require("./route/visitors/regexp"),ReverseVisitor=require("./route/visitors/reverse"),RoutePrototype=Object.create(null);RoutePrototype.match=function(path){var re=RegexpVisitor.visit(this.ast),matched=re.match(path);return matched?matched:!1},RoutePrototype.reverse=function(params){return ReverseVisitor.visit(this.ast,params)},module.exports=function(spec){var route=Object.create(RoutePrototype);if("undefined"==typeof spec)throw new Error("A route spec is required");return route.spec=spec,route.ast=Parser.parse(spec),route}},{"./route/parser":428,"./route/visitors/regexp":430,"./route/visitors/reverse":431}],426:[function(require,module,exports){var parser=function(){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,expressions:4,EOF:5,expression:6,optional:7,literal:8,splat:9,param:10,"(":11,")":12,LITERAL:13,SPLAT:14,PARAM:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"(",12:")",13:"LITERAL",14:"SPLAT",15:"PARAM"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[6,1],[7,3],[8,1],[9,1],[10,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:return new yy.Root({},[$$[$0-1]]);case 2:return new yy.Root({},[new yy.Literal({value:""})]);case 3:this.$=new yy.Concat({},[$$[$0-1],$$[$0]]);break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=new yy.Literal({value:$$[$0]});break;case 7:this.$=new yy.Splat({name:$$[$0]});break;case 8:this.$=new yy.Param({name:$$[$0]});break;case 9:this.$=new yy.Optional({},[$$[$0-1]]);break;case 10:this.$=yytext;break;case 11:this.$=yytext.slice(1);break;case 12:this.$=yytext.slice(1)}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:8,11:[1,9],13:[1,10],14:[1,11],15:[1,12]},{1:[3]},{5:[1,13],6:14,7:5,8:6,9:7,10:8,11:[1,9],13:[1,10],14:[1,11],15:[1,12]},{1:[2,2]},{5:[2,4],11:[2,4],12:[2,4],13:[2,4],14:[2,4],15:[2,4]},{5:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5]},{5:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6]},{5:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7]},{5:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8]},{4:15,6:4,7:5,8:6,9:7,10:8,11:[1,9],13:[1,10],14:[1,11],15:[1,12]},{5:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10]},{5:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11]},{5:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12]},{1:[2,1]},{5:[2,3],11:[2,3],12:[2,3],13:[2,3],14:[2,3],15:[2,3]},{6:14,7:5,8:6,9:7,10:8,11:[1,9],12:[1,16],13:[1,10],14:[1,11],15:[1,12]},{5:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9]}],defaultActions:{3:[2,2],13:[2,1]},parseError:function(str,hash){if(!hash.recoverable)throw new Error(str);this.trace(str)},parse:function(input){function lex(){var token;return token=self.lexer.lex()||EOF,"number"!=typeof token&&(token=self.symbols_[token]||token),token}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1,args=lstack.slice.call(arguments,1);this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;this.parseError="function"==typeof this.yy.parseError?this.yy.parseError:Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:((null===symbol||"undefined"==typeof symbol)&&(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var errStr="";expected=[];for(p in table[state])this.terminals_[p]&&p>TERROR&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==EOF?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack].concat(args)),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if(tempMatch=this._input.match(this.rules[rules[i]]),tempMatch&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(token=this.test_match(tempMatch,rules[i]),token!==!1)return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?(token=this.test_match(match,rules[index]),token!==!1?token:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){var n=this.conditionStack.length-1;return n>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return n=this.conditionStack.length-1-Math.abs(n||0),n>=0?this.conditionStack[n]:"INITIAL"},pushState:function(condition){this.begin(condition)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return"(";case 1:return")";case 2:return"SPLAT";case 3:return"PARAM";case 4:return"LITERAL";case 5:return"LITERAL";case 6:return"EOF"}},rules:[/^(?:\()/,/^(?:\))/,/^(?:\*+\w+)/,/^(?::+\w+)/,/^(?:[\w%\-~\n]+)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};return lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)})},{}],427:[function(require,module){"use strict";function createNode(displayName){return function(props,children){return{displayName:displayName,props:props,children:children||[]}}}module.exports={Root:createNode("Root"),Concat:createNode("Concat"),Literal:createNode("Literal"),Splat:createNode("Splat"),Param:createNode("Param"),Optional:createNode("Optional")}},{}],428:[function(require,module){"use strict";var parser=require("./compiled-grammar").parser;parser.yy=require("./nodes"),module.exports=parser},{"./compiled-grammar":426,"./nodes":427}],429:[function(require,module){"use strict";function createVisitor(handlers){return nodeTypes.forEach(function(nodeType){if("undefined"==typeof handlers[nodeType])throw new Error("No handler defined for "+nodeType.displayName)}),{visit:function(node,context){return this.handlers[node.displayName].call(this,node,context)},handlers:handlers}}var nodeTypes=Object.keys(require("../nodes"));module.exports=createVisitor},{"../nodes":427}],430:[function(require,module){"use strict";function Matcher(options){this.captures=options.captures,this.re=options.re}var createVisitor=require("./create_visitor"),escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;Matcher.prototype.match=function(path){var match=this.re.exec(path),matchParams={};if(match)return this.captures.forEach(function(capture,i){matchParams[capture]="undefined"==typeof match[i+1]?void 0:decodeURIComponent(match[i+1])}),matchParams};var RegexpVisitor=createVisitor({Concat:function(node){return node.children.reduce(function(memo,child){var childResult=this.visit(child);return{re:memo.re+childResult.re,captures:memo.captures.concat(childResult.captures)}}.bind(this),{re:"",captures:[]})},Literal:function(node){return{re:node.props.value.replace(escapeRegExp,"\\$&"),captures:[]}},Splat:function(node){return{re:"([^?]*?)",captures:[node.props.name]}},Param:function(node){return{re:"([^\\/\\?]+)",captures:[node.props.name]}},Optional:function(node){var child=this.visit(node.children[0]);return{re:"(?:"+child.re+")?",captures:child.captures}},Root:function(node){var childResult=this.visit(node.children[0]);return new Matcher({re:new RegExp("^"+childResult.re+"(?=\\?|$)"),captures:childResult.captures})}});module.exports=RegexpVisitor},{"./create_visitor":429}],431:[function(require,module){"use strict";var createVisitor=require("./create_visitor"),ReverseVisitor=createVisitor({Concat:function(node,context){var childResults=node.children.map(function(child){return this.visit(child,context)}.bind(this));return childResults.some(function(c){return c===!1})?!1:childResults.join("")},Literal:function(node){return decodeURI(node.props.value)},Splat:function(node,context){return context[node.props.name]?context[node.props.name]:!1},Param:function(node,context){return context[node.props.name]?context[node.props.name]:!1},Optional:function(node,context){var childResult=this.visit(node.children[0],context);return childResult?childResult:""},Root:function(node,context){context=context||{};var childResult=this.visit(node.children[0],context);return childResult?encodeURI(childResult):!1}});module.exports=ReverseVisitor},{"./create_visitor":429}],432:[function(require,module){function uid(len){return len=len||7,Math.random().toString(35).substr(2,len)}module.exports=uid},{}],433:[function(require,module){module.exports={name:"taskbox",version:"2.4.6",description:"Turn your emails and tweets into tasks",main:"app/index.html",scripts:{start:"raistlin start --hot --stylus --images --host 0.0.0.0",build:"raistlin build --stylus --images",bundle:"NODE_ENV=production raistlin bundle",deploy:"gh-pages -d dist",test:"BABEL_ENV=test mocha --compilers js:babel-core/register,styl:mocha-stylus-compiler -R nyan -w --check-leaks"},repository:{type:"git",url:"https://github.com/asbjornenge/taskbox.git"},keywords:["mail","app","react"],author:"Asbjorn Enge <asbjorn@hanafjedle.net>",license:"BSD",bugs:{url:"https://github.com/asbjornenge/taskbox/issues"},homepage:"https://github.com/asbjornenge/taskbox",dependencies:{"@asbjornenge/react-style":"^1.0.1","@asbjornenge/react-svg":"^1.0.0","basic-auth-token":"^0.4.2",fastclick:"^1.0.6",firebase:"^2.3.2",moment:"^2.10.6",nanoemitter:"0.0.2",nanoxhr:"^1.0.2","object.assign":"^4.0.3",pouchdb:"^5.1.0","pouchdb-undo":"^0.1.3",react:"^0.14.2","react-dom":"^0.14.2","react-markdown":"^1.2.0","react-motion":"^0.3.1","react-redux":"^4.0.0","react-tap-event-plugin":"^0.2.1",redux:"^3.0.4","shake.js":"^1.2.2","tcomb-form":"^0.7.10","tiny-react-router":"^1.0.2",uid:"0.0.2"},devDependencies:{"@asbjornenge/raistlin":"^1.1.1","babel-core":"^6.1.21","babel-plugin-react-transform":"^1.1.1","babel-preset-es2015":"^6.1.18",babelify:"^6.3.0",browserify:"^11.2.0","browserify-hmr":"^0.3.1",concurrently:"^0.1.0",cssnano:"^3.3.1","gh-pages":"^0.8.0",imgurify:"^1.2.0",livereloadify:"^2.0.0",mocha:"^2.3.4","mocha-imguri-compiler":"^1.1.1","mocha-stylus-compiler":"^1.0.1","react-transform-hmr":"^1.0.1",resolvify:"^1.0.2",stylus:"^0.51.1",stylusify:"^2.1.0",testdom:"^2.0.0",uglifyjs:"^2.4.10",watchify:"^3.4.0"},babel:{env:{test:{presets:["es2015"]},development:{stage:0,plugins:["react-transform"],extra:{"react-transform":{transforms:[{transform:"react-transform-hmr",imports:["react"],locals:["module"]}]}}}}}}},{}]},{},[1]);